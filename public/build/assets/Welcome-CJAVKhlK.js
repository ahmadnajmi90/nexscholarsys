import{r as z,j as n,b as R}from"./app-D3AktG82.js";import{c as P}from"./createLucideIcon-BEo8yGt5.js";import{S as ye}from"./search-C1RwmZGd.js";import{C as je}from"./chart-column-B-iKre5D.js";import{B as Ne}from"./brain-BW3q_6nQ.js";import{B as Me,G as _e}from"./graduation-cap-Cylr7fZX.js";import{U as X}from"./users-DQ2dlNeF.js";import{T as H}from"./target-IGZWLKNr.js";import{M as Z}from"./mail-BZ-rnuZq.js";import{S as ke}from"./shield-mBM_ZWl6.js";import{C as Ee}from"./chevron-down-6R3RP5mP.js";import{F as Ae,L as Se}from"./linkedin-Bo7siwI1.js";import{m as T}from"./proxy-CTBUQWec.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]],Le=P("HandHeart",Ce);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Fe=P("Instagram",ze);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Q=P("Rocket",Te);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Ie=P("Youtube",Re),De=({auth:t})=>{const[e,s]=z.useState(!1),r=[{name:"Features",href:"#features"},{name:"Latest Info",href:"#latest-info"},{name:"Testimonials",href:"#testimonials"},{name:"AI Features",href:"#ai-features"},{name:"News",href:"#news"}];return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[n.jsxs("div",{className:"flex justify-between items-center py-6",children:[n.jsxs("a",{href:"#home",className:"flex items-center space-x-3",children:[n.jsx("img",{src:"/images/logo.png",alt:"NexScholar",className:"w-10 h-10"}),n.jsx("span",{className:"text-white font-bold text-2xl tracking-tight",children:"NexScholar"})]}),n.jsx("nav",{className:"hidden lg:flex items-center space-x-10",children:r.map(i=>n.jsx("a",{href:i.href,className:"text-white/90 hover:text-white transition-colors font-medium text-sm uppercase tracking-wide",children:i.name},i.name))}),n.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:t.user?n.jsx(R,{href:route("dashboard"),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold shadow-lg",children:"Dashboard"}):n.jsxs(n.Fragment,{children:[n.jsx(R,{href:route("login"),className:"px-8 py-3 border-2 border-white/30 text-white rounded-xl hover:bg-white/10 font-semibold",children:"Log In"}),n.jsx(R,{href:route("register"),className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold shadow-lg",children:"Register"})]})}),n.jsx("div",{className:"lg:hidden",children:n.jsx("button",{onClick:()=>s(!e),className:"text-white p-2",children:n.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),e&&n.jsx("div",{className:"lg:hidden bg-black/40 backdrop-blur-md rounded-2xl mt-4 p-6 border border-white/10",children:n.jsxs("nav",{className:"flex flex-col space-y-6",children:[r.map(i=>n.jsx("a",{href:i.href,onClick:()=>s(!1),className:"text-white hover:text-purple-300 font-medium",children:i.name},i.name)),n.jsx("div",{className:"flex flex-col space-y-3 pt-6 border-t border-white/20",children:t.user?n.jsx(R,{href:route("dashboard"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl text-center font-semibold",children:"Dashboard"}):n.jsxs(n.Fragment,{children:[n.jsx(R,{href:route("login"),className:"px-6 py-3 border-2 border-white/30 text-white rounded-xl text-center font-semibold",children:"Log In"}),n.jsx(R,{href:route("register"),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl text-center font-semibold",children:"Register"})]})})]})})]})})};function D(t){let e=t[0],s=t[1],r=t[2];return Math.sqrt(e*e+s*s+r*r)}function W(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Oe(t,e,s,r){return t[0]=e,t[1]=s,t[2]=r,t}function K(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t}function J(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}function Pe(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}function $e(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}function $(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function Be(t,e){let s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(s*s+r*r+i*i)}function qe(t,e){let s=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return s*s+r*r+i*i}function ee(t){let e=t[0],s=t[1],r=t[2];return e*e+s*s+r*r}function Ve(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Ue(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function G(t,e){let s=e[0],r=e[1],i=e[2],a=s*s+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function pe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function te(t,e,s){let r=e[0],i=e[1],a=e[2],l=s[0],h=s[1],c=s[2];return t[0]=i*c-a*h,t[1]=a*l-r*c,t[2]=r*h-i*l,t}function We(t,e,s,r){let i=e[0],a=e[1],l=e[2];return t[0]=i+r*(s[0]-i),t[1]=a+r*(s[1]-a),t[2]=l+r*(s[2]-l),t}function Ge(t,e,s,r,i){const a=Math.exp(-r*i);let l=e[0],h=e[1],c=e[2];return t[0]=s[0]+(l-s[0])*a,t[1]=s[1]+(h-s[1])*a,t[2]=s[2]+(c-s[2])*a,t}function Ye(t,e,s){let r=e[0],i=e[1],a=e[2],l=s[3]*r+s[7]*i+s[11]*a+s[15];return l=l||1,t[0]=(s[0]*r+s[4]*i+s[8]*a+s[12])/l,t[1]=(s[1]*r+s[5]*i+s[9]*a+s[13])/l,t[2]=(s[2]*r+s[6]*i+s[10]*a+s[14])/l,t}function Xe(t,e,s){let r=e[0],i=e[1],a=e[2],l=s[3]*r+s[7]*i+s[11]*a+s[15];return l=l||1,t[0]=(s[0]*r+s[4]*i+s[8]*a)/l,t[1]=(s[1]*r+s[5]*i+s[9]*a)/l,t[2]=(s[2]*r+s[6]*i+s[10]*a)/l,t}function He(t,e,s){let r=e[0],i=e[1],a=e[2];return t[0]=r*s[0]+i*s[3]+a*s[6],t[1]=r*s[1]+i*s[4]+a*s[7],t[2]=r*s[2]+i*s[5]+a*s[8],t}function Ze(t,e,s){let r=e[0],i=e[1],a=e[2],l=s[0],h=s[1],c=s[2],d=s[3],o=h*a-c*i,x=c*r-l*a,f=l*i-h*r,u=h*f-c*x,m=c*o-l*f,p=l*x-h*o,b=d*2;return o*=b,x*=b,f*=b,u*=2,m*=2,p*=2,t[0]=r+o+u,t[1]=i+x+m,t[2]=a+f+p,t}const Qe=function(){const t=[0,0,0],e=[0,0,0];return function(s,r){W(t,s),W(e,r),G(t,t),G(e,e);let i=pe(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();function Ke(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class F extends Array{constructor(e=0,s=e,r=e){return super(e,s,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,s=e,r=e){return e.length?this.copy(e):(Oe(this,e,s,r),this)}copy(e){return W(this,e),this}add(e,s){return s?K(this,e,s):K(this,this,e),this}sub(e,s){return s?J(this,e,s):J(this,this,e),this}multiply(e){return e.length?Pe(this,this,e):$(this,this,e),this}divide(e){return e.length?$e(this,this,e):$(this,this,1/e),this}inverse(e=this){return Ue(this,e),this}len(){return D(this)}distance(e){return e?Be(this,e):D(this)}squaredLen(){return ee(this)}squaredDistance(e){return e?qe(this,e):ee(this)}negate(e=this){return Ve(this,e),this}cross(e,s){return s?te(this,e,s):te(this,this,e),this}scale(e){return $(this,this,e),this}normalize(){return G(this,this),this}dot(e){return pe(this,e)}equals(e){return Ke(this,e)}applyMatrix3(e){return He(this,this,e),this}applyMatrix4(e){return Ye(this,this,e),this}scaleRotateMatrix4(e){return Xe(this,this,e),this}applyQuaternion(e){return Ze(this,this,e),this}angle(e){return Qe(this,e)}lerp(e,s){return We(this,this,e,s),this}smoothLerp(e,s,r){return Ge(this,this,e,s,r),this}clone(){return new F(this[0],this[1],this[2])}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this[2]=e[s+2],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e}transformDirection(e){const s=this[0],r=this[1],i=this[2];return this[0]=e[0]*s+e[4]*r+e[8]*i,this[1]=e[1]*s+e[5]*r+e[9]*i,this[2]=e[2]*s+e[6]*r+e[10]*i,this.normalize()}}const se=new F;let Je=1,et=1,re=!1;class tt{constructor(e,s={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=s,this.id=Je++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in s)this.addAttribute(r,s[r])}addAttribute(e,s){if(this.attributes[e]=s,s.id=et++,s.size=s.size||1,s.type=s.type||(s.data.constructor===Float32Array?this.gl.FLOAT:s.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),s.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,s.normalized=s.normalized||!1,s.stride=s.stride||0,s.offset=s.offset||0,s.count=s.count||(s.stride?s.data.byteLength/s.stride:s.data.length/s.size),s.divisor=s.instanced||0,s.needsUpdate=!1,s.usage=s.usage||this.gl.STATIC_DRAW,s.buffer||this.updateAttribute(s),s.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==s.count*s.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,s.count*s.divisor);this.instancedCount=s.count*s.divisor}else e==="index"?this.drawRange.count=s.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,s.count))}updateAttribute(e){const s=!e.buffer;s&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),s?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,s){this.drawRange.start=e,this.drawRange.count=s}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((s,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const a=this.attributes[r];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let l=1;i===35674&&(l=2),i===35675&&(l=3),i===35676&&(l=4);const h=a.size/l,c=l===1?0:l*l*4,d=l===1?0:l*4;for(let o=0;o<l;o++)this.gl.vertexAttribPointer(s+o,h,a.type,a.normalized,a.stride+c,a.offset+o*d),this.gl.enableVertexAttribArray(s+o),this.gl.renderer.vertexAttribDivisor(s+o,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:s=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((a,{name:l})=>{const h=this.attributes[l];h.needsUpdate&&this.updateAttribute(h)});let r=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(s,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(s,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(s,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(s,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!re)return console.warn("No position buffer data found to compute bounds"),re=!0}computeBoundingBox(e){e||(e=this.getPosition());const s=e.data,r=e.size;this.bounds||(this.bounds={min:new F,max:new F,center:new F,scale:new F,radius:1/0});const i=this.bounds.min,a=this.bounds.max,l=this.bounds.center,h=this.bounds.scale;i.set(1/0),a.set(-1/0);for(let c=0,d=s.length;c<d;c+=r){const o=s[c],x=s[c+1],f=s[c+2];i.x=Math.min(o,i.x),i.y=Math.min(x,i.y),i.z=Math.min(f,i.z),a.x=Math.max(o,a.x),a.y=Math.max(x,a.y),a.z=Math.max(f,a.z)}h.sub(a,i),l.add(i,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const s=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let a=0,l=s.length;a<l;a+=r)se.fromArray(s,a),i=Math.max(i,this.bounds.center.squaredDistance(se));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let st=1;const ie={};class rt{constructor(e,{vertex:s,fragment:r,uniforms:i={},transparent:a=!1,cullFace:l=e.BACK,frontFace:h=e.CCW,depthTest:c=!0,depthWrite:d=!0,depthFunc:o=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=st++,s||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=l,this.frontFace=h,this.depthTest=c,this.depthWrite=d,this.depthFunc=o,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:s,fragment:r})}setShaders({vertex:e,fragment:s}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${ne(e)}`)),s&&(this.gl.shaderSource(this.fragmentShader,s),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${ne(s)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<r;l++){let h=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(h,this.gl.getUniformLocation(this.program,h.name));const c=h.name.match(/(\w+)/g);h.uniformName=c[0],h.nameComponents=c.slice(1)}this.attributeLocations=new Map;const i=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<a;l++){const h=this.gl.getActiveAttrib(this.program,l),c=this.gl.getAttribLocation(this.program,h.name);c!==-1&&(i[c]=h.name,this.attributeLocations.set(h,c))}this.attributeOrder=i.join("")}setBlendFunc(e,s,r,i){this.blendFunc.src=e,this.blendFunc.dst=s,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,s){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=s}setStencilFunc(e,s,r){this.stencilRef=s,this.stencilFunc.func=e,this.stencilFunc.ref=s,this.stencilFunc.mask=r}setStencilOp(e,s,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=s,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let s=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,a)=>{let l=this.uniforms[a.uniformName];for(const h of a.nameComponents){if(!l)break;if(h in l)l=l[h];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return ae(`Active uniform ${a.name} has not been supplied`);if(l&&l.value===void 0)return ae(`${a.name} uniform is missing a value parameter`);if(l.value.texture)return s=s+1,l.value.update(s),B(this.gl,a.type,i,s);if(l.value.length&&l.value[0].texture){const h=[];return l.value.forEach(c=>{s=s+1,c.update(s),h.push(s)}),B(this.gl,a.type,i,h)}B(this.gl,a.type,i,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function B(t,e,s,r){r=r.length?it(r):r;const i=t.renderer.state.uniformLocations.get(s);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(s,r.slice(0));else{if(nt(i,r))return;i.set?i.set(r):at(i,r),t.renderer.state.uniformLocations.set(s,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(s,r)}switch(e){case 5126:return r.length?t.uniform1fv(s,r):t.uniform1f(s,r);case 35664:return t.uniform2fv(s,r);case 35665:return t.uniform3fv(s,r);case 35666:return t.uniform4fv(s,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(s,r):t.uniform1i(s,r);case 35671:case 35667:return t.uniform2iv(s,r);case 35672:case 35668:return t.uniform3iv(s,r);case 35673:case 35669:return t.uniform4iv(s,r);case 35674:return t.uniformMatrix2fv(s,!1,r);case 35675:return t.uniformMatrix3fv(s,!1,r);case 35676:return t.uniformMatrix4fv(s,!1,r)}}function ne(t){let e=t.split(`
`);for(let s=0;s<e.length;s++)e[s]=s+1+": "+e[s];return e.join(`
`)}function it(t){const e=t.length,s=t[0].length;if(s===void 0)return t;const r=e*s;let i=ie[r];i||(ie[r]=i=new Float32Array(r));for(let a=0;a<e;a++)i.set(t[a],a*s);return i}function nt(t,e){if(t.length!==e.length)return!1;for(let s=0,r=t.length;s<r;s++)if(t[s]!==e[s])return!1;return!0}function at(t,e){for(let s=0,r=t.length;s<r;s++)t[s]=e[s]}let q=0;function ae(t){q>100||(console.warn(t),q++,q>100&&console.warn("More than 100 program warnings - stopping logs."))}const V=new F;let lt=1;class ht{constructor({canvas:e=document.createElement("canvas"),width:s=300,height:r=150,dpr:i=1,alpha:a=!1,depth:l=!0,stencil:h=!1,antialias:c=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:o=!1,powerPreference:x="default",autoClear:f=!0,webgl:u=2}={}){const m={alpha:a,depth:l,stencil:h,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:o,powerPreference:x};this.dpr=i,this.alpha=a,this.color=!0,this.depth=l,this.stencil=h,this.premultipliedAlpha=d,this.autoClear=f,this.id=lt++,u===2&&(this.gl=e.getContext("webgl2",m)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",m)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(s,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,s){this.width=e,this.height=s,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=s*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:s+"px"})}setViewport(e,s,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===s||(this.state.viewport.width=e,this.state.viewport.height=s,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,s))}setScissor(e,s,r=0,i=0){this.gl.scissor(r,i,e,s)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,s,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===s&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=s,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,s,r,i):this.gl.blendFunc(e,s))}setBlendEquation(e,s){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===s)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=s,s!==void 0?this.gl.blendEquationSeparate(e,s):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,s,r){this.state.stencilFunc===e&&this.state.stencilRef===s&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=s||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,s||0,r||0))}setStencilOp(e,s,r){this.state.stencilFail===e&&this.state.stencilDepthFail===s&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=s,this.state.stencilDepthPass=r,this.gl.stencilOp(e,s,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:s=null}={}){this.state.framebuffer!==s&&(this.state.framebuffer=s,this.gl.bindFramebuffer(e,s))}getExtension(e,s,r){return s&&this.gl[s]?this.gl[s].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),s?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.program.id!==s.program.id?e.program.id-s.program.id:e.zDepth!==s.zDepth?e.zDepth-s.zDepth:s.id-e.id}sortTransparent(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.zDepth!==s.zDepth?s.zDepth-e.zDepth:s.id-e.id}sortUI(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.program.id!==s.program.id?e.program.id-s.program.id:s.id-e.id}getRenderList({scene:e,camera:s,frustumCull:r,sort:i}){let a=[];if(s&&r&&s.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(r&&l.frustumCulled&&s&&!s.frustumIntersectsMesh(l)||a.push(l))}),i){const l=[],h=[],c=[];a.forEach(d=>{d.program.transparent?d.program.depthTest?h.push(d):c.push(d):l.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!s)&&(d.worldMatrix.getTranslation(V),V.applyMatrix4(s.projectionViewMatrix),d.zDepth=V.z)}),l.sort(this.sortOpaque),h.sort(this.sortTransparent),c.sort(this.sortUI),a=l.concat(h,c)}return a}render({scene:e,camera:s,target:r=null,update:i=!0,sort:a=!0,frustumCull:l=!0,clear:h}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(h||this.autoClear&&h!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),s&&s.updateMatrixWorld(),this.getRenderList({scene:e,camera:s,frustumCull:l,sort:a}).forEach(d=>{d.draw({camera:s})})}}function ct(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function ot(t,e,s,r,i){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t}function dt(t,e){let s=e[0],r=e[1],i=e[2],a=e[3],l=s*s+r*r+i*i+a*a;return l>0&&(l=1/Math.sqrt(l)),t[0]=s*l,t[1]=r*l,t[2]=i*l,t[3]=a*l,t}function ft(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ut(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function xt(t,e,s){s=s*.5;let r=Math.sin(s);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(s),t}function le(t,e,s){let r=e[0],i=e[1],a=e[2],l=e[3],h=s[0],c=s[1],d=s[2],o=s[3];return t[0]=r*o+l*h+i*d-a*c,t[1]=i*o+l*c+a*h-r*d,t[2]=a*o+l*d+r*c-i*h,t[3]=l*o-r*h-i*c-a*d,t}function mt(t,e,s){s*=.5;let r=e[0],i=e[1],a=e[2],l=e[3],h=Math.sin(s),c=Math.cos(s);return t[0]=r*c+l*h,t[1]=i*c+a*h,t[2]=a*c-i*h,t[3]=l*c-r*h,t}function gt(t,e,s){s*=.5;let r=e[0],i=e[1],a=e[2],l=e[3],h=Math.sin(s),c=Math.cos(s);return t[0]=r*c-a*h,t[1]=i*c+l*h,t[2]=a*c+r*h,t[3]=l*c-i*h,t}function pt(t,e,s){s*=.5;let r=e[0],i=e[1],a=e[2],l=e[3],h=Math.sin(s),c=Math.cos(s);return t[0]=r*c+i*h,t[1]=i*c-r*h,t[2]=a*c+l*h,t[3]=l*c-a*h,t}function bt(t,e,s,r){let i=e[0],a=e[1],l=e[2],h=e[3],c=s[0],d=s[1],o=s[2],x=s[3],f,u,m,p,b;return u=i*c+a*d+l*o+h*x,u<0&&(u=-u,c=-c,d=-d,o=-o,x=-x),1-u>1e-6?(f=Math.acos(u),m=Math.sin(f),p=Math.sin((1-r)*f)/m,b=Math.sin(r*f)/m):(p=1-r,b=r),t[0]=p*i+b*c,t[1]=p*a+b*d,t[2]=p*l+b*o,t[3]=p*h+b*x,t}function vt(t,e){let s=e[0],r=e[1],i=e[2],a=e[3],l=s*s+r*r+i*i+a*a,h=l?1/l:0;return t[0]=-s*h,t[1]=-r*h,t[2]=-i*h,t[3]=a*h,t}function wt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function yt(t,e){let s=e[0]+e[4]+e[8],r;if(s>0)r=Math.sqrt(s+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let a=(i+1)%3,l=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[a*3+a]-e[l*3+l]+1),t[i]=.5*r,r=.5/r,t[3]=(e[a*3+l]-e[l*3+a])*r,t[a]=(e[a*3+i]+e[i*3+a])*r,t[l]=(e[l*3+i]+e[i*3+l])*r}return t}function jt(t,e,s="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),h=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return s==="XYZ"?(t[0]=r*l*c+i*a*h,t[1]=i*a*c-r*l*h,t[2]=i*l*h+r*a*c,t[3]=i*l*c-r*a*h):s==="YXZ"?(t[0]=r*l*c+i*a*h,t[1]=i*a*c-r*l*h,t[2]=i*l*h-r*a*c,t[3]=i*l*c+r*a*h):s==="ZXY"?(t[0]=r*l*c-i*a*h,t[1]=i*a*c+r*l*h,t[2]=i*l*h+r*a*c,t[3]=i*l*c-r*a*h):s==="ZYX"?(t[0]=r*l*c-i*a*h,t[1]=i*a*c+r*l*h,t[2]=i*l*h-r*a*c,t[3]=i*l*c+r*a*h):s==="YZX"?(t[0]=r*l*c+i*a*h,t[1]=i*a*c+r*l*h,t[2]=i*l*h-r*a*c,t[3]=i*l*c-r*a*h):s==="XZY"&&(t[0]=r*l*c-i*a*h,t[1]=i*a*c-r*l*h,t[2]=i*l*h+r*a*c,t[3]=i*l*c+r*a*h),t}const Nt=ct,Mt=ot,_t=ft,kt=dt;class Et extends Array{constructor(e=0,s=0,r=0,i=1){super(e,s,r,i),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(l,h){const c=Reflect.set(...arguments);return c&&a.includes(h)&&l.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return ut(this._target),this.onChange(),this}set(e,s,r,i){return e.length?this.copy(e):(Mt(this._target,e,s,r,i),this.onChange(),this)}rotateX(e){return mt(this._target,this._target,e),this.onChange(),this}rotateY(e){return gt(this._target,this._target,e),this.onChange(),this}rotateZ(e){return pt(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return vt(this._target,e),this.onChange(),this}conjugate(e=this._target){return wt(this._target,e),this.onChange(),this}copy(e){return Nt(this._target,e),this.onChange(),this}normalize(e=this._target){return kt(this._target,e),this.onChange(),this}multiply(e,s){return s?le(this._target,e,s):le(this._target,this._target,e),this.onChange(),this}dot(e){return _t(this._target,e)}fromMatrix3(e){return yt(this._target,e),this.onChange(),this}fromEuler(e,s){return jt(this._target,e,e.order),s||this.onChange(),this}fromAxisAngle(e,s){return xt(this._target,e,s),this.onChange(),this}slerp(e,s){return bt(this._target,this._target,e,s),this.onChange(),this}fromArray(e,s=0){return this._target[0]=e[s],this._target[1]=e[s+1],this._target[2]=e[s+2],this._target[3]=e[s+3],this.onChange(),this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e[s+3]=this[3],e}}const At=1e-6;function St(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ct(t,e,s,r,i,a,l,h,c,d,o,x,f,u,m,p,b){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t[4]=a,t[5]=l,t[6]=h,t[7]=c,t[8]=d,t[9]=o,t[10]=x,t[11]=f,t[12]=u,t[13]=m,t[14]=p,t[15]=b,t}function Lt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zt(t,e){let s=e[0],r=e[1],i=e[2],a=e[3],l=e[4],h=e[5],c=e[6],d=e[7],o=e[8],x=e[9],f=e[10],u=e[11],m=e[12],p=e[13],b=e[14],v=e[15],M=s*h-r*l,y=s*c-i*l,w=s*d-a*l,j=r*c-i*h,g=r*d-a*h,_=i*d-a*c,A=o*p-x*m,S=o*b-f*m,k=o*v-u*m,C=x*b-f*p,E=x*v-u*p,L=f*v-u*b,N=M*L-y*E+w*C+j*k-g*S+_*A;return N?(N=1/N,t[0]=(h*L-c*E+d*C)*N,t[1]=(i*E-r*L-a*C)*N,t[2]=(p*_-b*g+v*j)*N,t[3]=(f*g-x*_-u*j)*N,t[4]=(c*k-l*L-d*S)*N,t[5]=(s*L-i*k+a*S)*N,t[6]=(b*w-m*_-v*y)*N,t[7]=(o*_-f*w+u*y)*N,t[8]=(l*E-h*k+d*A)*N,t[9]=(r*k-s*E-a*A)*N,t[10]=(m*g-p*w+v*M)*N,t[11]=(x*w-o*g-u*M)*N,t[12]=(h*S-l*C-c*A)*N,t[13]=(s*C-r*S+i*A)*N,t[14]=(p*y-m*j-b*M)*N,t[15]=(o*j-x*y+f*M)*N,t):null}function be(t){let e=t[0],s=t[1],r=t[2],i=t[3],a=t[4],l=t[5],h=t[6],c=t[7],d=t[8],o=t[9],x=t[10],f=t[11],u=t[12],m=t[13],p=t[14],b=t[15],v=e*l-s*a,M=e*h-r*a,y=e*c-i*a,w=s*h-r*l,j=s*c-i*l,g=r*c-i*h,_=d*m-o*u,A=d*p-x*u,S=d*b-f*u,k=o*p-x*m,C=o*b-f*m,E=x*b-f*p;return v*E-M*C+y*k+w*S-j*A+g*_}function he(t,e,s){let r=e[0],i=e[1],a=e[2],l=e[3],h=e[4],c=e[5],d=e[6],o=e[7],x=e[8],f=e[9],u=e[10],m=e[11],p=e[12],b=e[13],v=e[14],M=e[15],y=s[0],w=s[1],j=s[2],g=s[3];return t[0]=y*r+w*h+j*x+g*p,t[1]=y*i+w*c+j*f+g*b,t[2]=y*a+w*d+j*u+g*v,t[3]=y*l+w*o+j*m+g*M,y=s[4],w=s[5],j=s[6],g=s[7],t[4]=y*r+w*h+j*x+g*p,t[5]=y*i+w*c+j*f+g*b,t[6]=y*a+w*d+j*u+g*v,t[7]=y*l+w*o+j*m+g*M,y=s[8],w=s[9],j=s[10],g=s[11],t[8]=y*r+w*h+j*x+g*p,t[9]=y*i+w*c+j*f+g*b,t[10]=y*a+w*d+j*u+g*v,t[11]=y*l+w*o+j*m+g*M,y=s[12],w=s[13],j=s[14],g=s[15],t[12]=y*r+w*h+j*x+g*p,t[13]=y*i+w*c+j*f+g*b,t[14]=y*a+w*d+j*u+g*v,t[15]=y*l+w*o+j*m+g*M,t}function Ft(t,e,s){let r=s[0],i=s[1],a=s[2],l,h,c,d,o,x,f,u,m,p,b,v;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(l=e[0],h=e[1],c=e[2],d=e[3],o=e[4],x=e[5],f=e[6],u=e[7],m=e[8],p=e[9],b=e[10],v=e[11],t[0]=l,t[1]=h,t[2]=c,t[3]=d,t[4]=o,t[5]=x,t[6]=f,t[7]=u,t[8]=m,t[9]=p,t[10]=b,t[11]=v,t[12]=l*r+o*i+m*a+e[12],t[13]=h*r+x*i+p*a+e[13],t[14]=c*r+f*i+b*a+e[14],t[15]=d*r+u*i+v*a+e[15]),t}function Tt(t,e,s){let r=s[0],i=s[1],a=s[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Rt(t,e,s,r){let i=r[0],a=r[1],l=r[2],h=Math.hypot(i,a,l),c,d,o,x,f,u,m,p,b,v,M,y,w,j,g,_,A,S,k,C,E,L,N,I;return Math.abs(h)<At?null:(h=1/h,i*=h,a*=h,l*=h,c=Math.sin(s),d=Math.cos(s),o=1-d,x=e[0],f=e[1],u=e[2],m=e[3],p=e[4],b=e[5],v=e[6],M=e[7],y=e[8],w=e[9],j=e[10],g=e[11],_=i*i*o+d,A=a*i*o+l*c,S=l*i*o-a*c,k=i*a*o-l*c,C=a*a*o+d,E=l*a*o+i*c,L=i*l*o+a*c,N=a*l*o-i*c,I=l*l*o+d,t[0]=x*_+p*A+y*S,t[1]=f*_+b*A+w*S,t[2]=u*_+v*A+j*S,t[3]=m*_+M*A+g*S,t[4]=x*k+p*C+y*E,t[5]=f*k+b*C+w*E,t[6]=u*k+v*C+j*E,t[7]=m*k+M*C+g*E,t[8]=x*L+p*N+y*I,t[9]=f*L+b*N+w*I,t[10]=u*L+v*N+j*I,t[11]=m*L+M*N+g*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function It(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function ve(t,e){let s=e[0],r=e[1],i=e[2],a=e[4],l=e[5],h=e[6],c=e[8],d=e[9],o=e[10];return t[0]=Math.hypot(s,r,i),t[1]=Math.hypot(a,l,h),t[2]=Math.hypot(c,d,o),t}function Dt(t){let e=t[0],s=t[1],r=t[2],i=t[4],a=t[5],l=t[6],h=t[8],c=t[9],d=t[10];const o=e*e+s*s+r*r,x=i*i+a*a+l*l,f=h*h+c*c+d*d;return Math.sqrt(Math.max(o,x,f))}const we=function(){const t=[1,1,1];return function(e,s){let r=t;ve(r,s);let i=1/r[0],a=1/r[1],l=1/r[2],h=s[0]*i,c=s[1]*a,d=s[2]*l,o=s[4]*i,x=s[5]*a,f=s[6]*l,u=s[8]*i,m=s[9]*a,p=s[10]*l,b=h+x+p,v=0;return b>0?(v=Math.sqrt(b+1)*2,e[3]=.25*v,e[0]=(f-m)/v,e[1]=(u-d)/v,e[2]=(c-o)/v):h>x&&h>p?(v=Math.sqrt(1+h-x-p)*2,e[3]=(f-m)/v,e[0]=.25*v,e[1]=(c+o)/v,e[2]=(u+d)/v):x>p?(v=Math.sqrt(1+x-h-p)*2,e[3]=(u-d)/v,e[0]=(c+o)/v,e[1]=.25*v,e[2]=(f+m)/v):(v=Math.sqrt(1+p-h-x)*2,e[3]=(c-o)/v,e[0]=(u+d)/v,e[1]=(f+m)/v,e[2]=.25*v),e}}();function Ot(t,e,s,r){let i=D([t[0],t[1],t[2]]);const a=D([t[4],t[5],t[6]]),l=D([t[8],t[9],t[10]]);be(t)<0&&(i=-i),s[0]=t[12],s[1]=t[13],s[2]=t[14];const c=t.slice(),d=1/i,o=1/a,x=1/l;c[0]*=d,c[1]*=d,c[2]*=d,c[4]*=o,c[5]*=o,c[6]*=o,c[8]*=x,c[9]*=x,c[10]*=x,we(e,c),r[0]=i,r[1]=a,r[2]=l}function Pt(t,e,s,r){const i=t,a=e[0],l=e[1],h=e[2],c=e[3],d=a+a,o=l+l,x=h+h,f=a*d,u=a*o,m=a*x,p=l*o,b=l*x,v=h*x,M=c*d,y=c*o,w=c*x,j=r[0],g=r[1],_=r[2];return i[0]=(1-(p+v))*j,i[1]=(u+w)*j,i[2]=(m-y)*j,i[3]=0,i[4]=(u-w)*g,i[5]=(1-(f+v))*g,i[6]=(b+M)*g,i[7]=0,i[8]=(m+y)*_,i[9]=(b-M)*_,i[10]=(1-(f+p))*_,i[11]=0,i[12]=s[0],i[13]=s[1],i[14]=s[2],i[15]=1,i}function $t(t,e){let s=e[0],r=e[1],i=e[2],a=e[3],l=s+s,h=r+r,c=i+i,d=s*l,o=r*l,x=r*h,f=i*l,u=i*h,m=i*c,p=a*l,b=a*h,v=a*c;return t[0]=1-x-m,t[1]=o+v,t[2]=f-b,t[3]=0,t[4]=o-v,t[5]=1-d-m,t[6]=u+p,t[7]=0,t[8]=f+b,t[9]=u-p,t[10]=1-d-x,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Bt(t,e,s,r,i){let a=1/Math.tan(e/2),l=1/(r-i);return t[0]=a/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*l,t[15]=0,t}function qt(t,e,s,r,i,a,l){let h=1/(e-s),c=1/(r-i),d=1/(a-l);return t[0]=-2*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+s)*h,t[13]=(i+r)*c,t[14]=(l+a)*d,t[15]=1,t}function Vt(t,e,s,r){let i=e[0],a=e[1],l=e[2],h=r[0],c=r[1],d=r[2],o=i-s[0],x=a-s[1],f=l-s[2],u=o*o+x*x+f*f;u===0?f=1:(u=1/Math.sqrt(u),o*=u,x*=u,f*=u);let m=c*f-d*x,p=d*o-h*f,b=h*x-c*o;return u=m*m+p*p+b*b,u===0&&(d?h+=1e-6:c?d+=1e-6:c+=1e-6,m=c*f-d*x,p=d*o-h*f,b=h*x-c*o,u=m*m+p*p+b*b),u=1/Math.sqrt(u),m*=u,p*=u,b*=u,t[0]=m,t[1]=p,t[2]=b,t[3]=0,t[4]=x*b-f*p,t[5]=f*m-o*b,t[6]=o*p-x*m,t[7]=0,t[8]=o,t[9]=x,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=l,t[15]=1,t}function ce(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t}function oe(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}function Ut(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t}class O extends Array{constructor(e=1,s=0,r=0,i=0,a=0,l=1,h=0,c=0,d=0,o=0,x=1,f=0,u=0,m=0,p=0,b=1){return super(e,s,r,i,a,l,h,c,d,o,x,f,u,m,p,b),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,s,r,i,a,l,h,c,d,o,x,f,u,m,p,b){return e.length?this.copy(e):(Ct(this,e,s,r,i,a,l,h,c,d,o,x,f,u,m,p,b),this)}translate(e,s=this){return Ft(this,s,e),this}rotate(e,s,r=this){return Rt(this,r,e,s),this}scale(e,s=this){return Tt(this,s,typeof e=="number"?[e,e,e]:e),this}add(e,s){return s?ce(this,e,s):ce(this,this,e),this}sub(e,s){return s?oe(this,e,s):oe(this,this,e),this}multiply(e,s){return e.length?s?he(this,e,s):he(this,this,e):Ut(this,this,e),this}identity(){return Lt(this),this}copy(e){return St(this,e),this}fromPerspective({fov:e,aspect:s,near:r,far:i}={}){return Bt(this,e,s,r,i),this}fromOrthogonal({left:e,right:s,bottom:r,top:i,near:a,far:l}){return qt(this,e,s,r,i,a,l),this}fromQuaternion(e){return $t(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return zt(this,e),this}compose(e,s,r){return Pt(this,e,s,r),this}decompose(e,s,r){return Ot(this,e,s,r),this}getRotation(e){return we(e,this),this}getTranslation(e){return It(e,this),this}getScaling(e){return ve(e,this),this}getMaxScaleOnAxis(){return Dt(this)}lookAt(e,s,r){return Vt(this,e,s,r),this}determinant(){return be(this)}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this[2]=e[s+2],this[3]=e[s+3],this[4]=e[s+4],this[5]=e[s+5],this[6]=e[s+6],this[7]=e[s+7],this[8]=e[s+8],this[9]=e[s+9],this[10]=e[s+10],this[11]=e[s+11],this[12]=e[s+12],this[13]=e[s+13],this[14]=e[s+14],this[15]=e[s+15],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e[s+3]=this[3],e[s+4]=this[4],e[s+5]=this[5],e[s+6]=this[6],e[s+7]=this[7],e[s+8]=this[8],e[s+9]=this[9],e[s+10]=this[10],e[s+11]=this[11],e[s+12]=this[12],e[s+13]=this[13],e[s+14]=this[14],e[s+15]=this[15],e}}function Wt(t,e,s="YXZ"){return s==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):s==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):s==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):s==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):s==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):s==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const de=new O;class Gt extends Array{constructor(e=0,s=e,r=e,i="YXZ"){super(e,s,r),this.order=i,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(l,h){const c=Reflect.set(...arguments);return c&&a.includes(h)&&l.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,s=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=s,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,s=this.order){return Wt(this._target,e,s),this.onChange(),this}fromQuaternion(e,s=this.order,r){return de.fromQuaternion(e),this._target.fromRotationMatrix(de,s),r||this.onChange(),this}fromArray(e,s=0){return this._target[0]=e[s],this._target[1]=e[s+1],this._target[2]=e[s+2],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e}}class Yt{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new O,this.worldMatrix=new O,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new F,this.quaternion=new Et,this.scale=new F(1),this.rotation=new Gt,this.up=new F(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,s=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,s&&e&&e.addChild(this,!1)}addChild(e,s=!0){~this.children.indexOf(e)||this.children.push(e),s&&e.setParent(this,!1)}removeChild(e,s=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),s&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let s=0,r=this.children.length;s<r;s++)this.children[s].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let s=0,r=this.children.length;s<r;s++)this.children[s].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,s=!1){s?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Ht(t,e){let s=e[0],r=e[1],i=e[2],a=e[3],l=s+s,h=r+r,c=i+i,d=s*l,o=r*l,x=r*h,f=i*l,u=i*h,m=i*c,p=a*l,b=a*h,v=a*c;return t[0]=1-x-m,t[3]=o-v,t[6]=f+b,t[1]=o+v,t[4]=1-d-m,t[7]=u-p,t[2]=f-b,t[5]=u+p,t[8]=1-d-x,t}function Zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Qt(t,e,s,r,i,a,l,h,c,d){return t[0]=e,t[1]=s,t[2]=r,t[3]=i,t[4]=a,t[5]=l,t[6]=h,t[7]=c,t[8]=d,t}function Kt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Jt(t,e){let s=e[0],r=e[1],i=e[2],a=e[3],l=e[4],h=e[5],c=e[6],d=e[7],o=e[8],x=o*l-h*d,f=-o*a+h*c,u=d*a-l*c,m=s*x+r*f+i*u;return m?(m=1/m,t[0]=x*m,t[1]=(-o*r+i*d)*m,t[2]=(h*r-i*l)*m,t[3]=f*m,t[4]=(o*s-i*c)*m,t[5]=(-h*s+i*a)*m,t[6]=u*m,t[7]=(-d*s+r*c)*m,t[8]=(l*s-r*a)*m,t):null}function fe(t,e,s){let r=e[0],i=e[1],a=e[2],l=e[3],h=e[4],c=e[5],d=e[6],o=e[7],x=e[8],f=s[0],u=s[1],m=s[2],p=s[3],b=s[4],v=s[5],M=s[6],y=s[7],w=s[8];return t[0]=f*r+u*l+m*d,t[1]=f*i+u*h+m*o,t[2]=f*a+u*c+m*x,t[3]=p*r+b*l+v*d,t[4]=p*i+b*h+v*o,t[5]=p*a+b*c+v*x,t[6]=M*r+y*l+w*d,t[7]=M*i+y*h+w*o,t[8]=M*a+y*c+w*x,t}function es(t,e,s){let r=e[0],i=e[1],a=e[2],l=e[3],h=e[4],c=e[5],d=e[6],o=e[7],x=e[8],f=s[0],u=s[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=l,t[4]=h,t[5]=c,t[6]=f*r+u*l+d,t[7]=f*i+u*h+o,t[8]=f*a+u*c+x,t}function ts(t,e,s){let r=e[0],i=e[1],a=e[2],l=e[3],h=e[4],c=e[5],d=e[6],o=e[7],x=e[8],f=Math.sin(s),u=Math.cos(s);return t[0]=u*r+f*l,t[1]=u*i+f*h,t[2]=u*a+f*c,t[3]=u*l-f*r,t[4]=u*h-f*i,t[5]=u*c-f*a,t[6]=d,t[7]=o,t[8]=x,t}function ss(t,e,s){let r=s[0],i=s[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function rs(t,e){let s=e[0],r=e[1],i=e[2],a=e[3],l=e[4],h=e[5],c=e[6],d=e[7],o=e[8],x=e[9],f=e[10],u=e[11],m=e[12],p=e[13],b=e[14],v=e[15],M=s*h-r*l,y=s*c-i*l,w=s*d-a*l,j=r*c-i*h,g=r*d-a*h,_=i*d-a*c,A=o*p-x*m,S=o*b-f*m,k=o*v-u*m,C=x*b-f*p,E=x*v-u*p,L=f*v-u*b,N=M*L-y*E+w*C+j*k-g*S+_*A;return N?(N=1/N,t[0]=(h*L-c*E+d*C)*N,t[1]=(c*k-l*L-d*S)*N,t[2]=(l*E-h*k+d*A)*N,t[3]=(i*E-r*L-a*C)*N,t[4]=(s*L-i*k+a*S)*N,t[5]=(r*k-s*E-a*A)*N,t[6]=(p*_-b*g+v*j)*N,t[7]=(b*w-m*_-v*y)*N,t[8]=(m*g-p*w+v*M)*N,t):null}class is extends Array{constructor(e=1,s=0,r=0,i=0,a=1,l=0,h=0,c=0,d=1){return super(e,s,r,i,a,l,h,c,d),this}set(e,s,r,i,a,l,h,c,d){return e.length?this.copy(e):(Qt(this,e,s,r,i,a,l,h,c,d),this)}translate(e,s=this){return es(this,s,e),this}rotate(e,s=this){return ts(this,s,e),this}scale(e,s=this){return ss(this,s,e),this}multiply(e,s){return s?fe(this,e,s):fe(this,this,e),this}identity(){return Kt(this),this}copy(e){return Zt(this,e),this}fromMatrix4(e){return Xt(this,e),this}fromQuaternion(e){return Ht(this,e),this}fromBasis(e,s,r){return this.set(e[0],e[1],e[2],s[0],s[1],s[2],r[0],r[1],r[2]),this}inverse(e=this){return Jt(this,e),this}getNormalMatrix(e){return rs(this,e),this}}let ns=0;class as extends Yt{constructor(e,{geometry:s,program:r,mode:i=e.TRIANGLES,frustumCulled:a=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=ns++,this.geometry=s,this.program=r,this.mode=i,this.frustumCulled=a,this.renderOrder=l,this.modelViewMatrix=new O,this.normalMatrix=new is,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let s=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:s}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}function ls(t,e){return t[0]=e[0],t[1]=e[1],t}function hs(t,e,s){return t[0]=e,t[1]=s,t}function ue(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t}function xe(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t}function cs(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t}function os(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t}function U(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t}function ds(t,e){var s=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(s*s+r*r)}function fs(t,e){var s=e[0]-t[0],r=e[1]-t[1];return s*s+r*r}function me(t){var e=t[0],s=t[1];return Math.sqrt(e*e+s*s)}function us(t){var e=t[0],s=t[1];return e*e+s*s}function xs(t,e){return t[0]=-e[0],t[1]=-e[1],t}function ms(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function gs(t,e){var s=e[0],r=e[1],i=s*s+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function ps(t,e){return t[0]*e[0]+t[1]*e[1]}function ge(t,e){return t[0]*e[1]-t[1]*e[0]}function bs(t,e,s,r){var i=e[0],a=e[1];return t[0]=i+r*(s[0]-i),t[1]=a+r*(s[1]-a),t}function vs(t,e,s,r,i){const a=Math.exp(-r*i);let l=e[0],h=e[1];return t[0]=s[0]+(l-s[0])*a,t[1]=s[1]+(h-s[1])*a,t}function ws(t,e,s){var r=e[0],i=e[1];return t[0]=s[0]*r+s[3]*i+s[6],t[1]=s[1]*r+s[4]*i+s[7],t}function ys(t,e,s){let r=e[0],i=e[1];return t[0]=s[0]*r+s[4]*i+s[12],t[1]=s[1]*r+s[5]*i+s[13],t}function js(t,e){return t[0]===e[0]&&t[1]===e[1]}class Y extends Array{constructor(e=0,s=e){return super(e,s),this}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}set(e,s=e){return e.length?this.copy(e):(hs(this,e,s),this)}copy(e){return ls(this,e),this}add(e,s){return s?ue(this,e,s):ue(this,this,e),this}sub(e,s){return s?xe(this,e,s):xe(this,this,e),this}multiply(e){return e.length?cs(this,this,e):U(this,this,e),this}divide(e){return e.length?os(this,this,e):U(this,this,1/e),this}inverse(e=this){return ms(this,e),this}len(){return me(this)}distance(e){return e?ds(this,e):me(this)}squaredLen(){return this.squaredDistance()}squaredDistance(e){return e?fs(this,e):us(this)}negate(e=this){return xs(this,e),this}cross(e,s){return s?ge(e,s):ge(this,e)}scale(e){return U(this,this,e),this}normalize(){return gs(this,this),this}dot(e){return ps(this,e)}equals(e){return js(this,e)}applyMatrix3(e){return ws(this,this,e),this}applyMatrix4(e){return ys(this,this,e),this}lerp(e,s){return bs(this,this,e,s),this}smoothLerp(e,s,r){return vs(this,this,e,s,r),this}clone(){return new Y(this[0],this[1])}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e}}class Ns extends tt{constructor(e,{attributes:s={}}={}){Object.assign(s,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,s)}}const Ms=`
attribute vec2 position;
void main(){gl_Position=vec4(position,0.0,1.0);}
`,_s=`
#ifdef GL_ES
precision lowp float;
#endif
uniform vec2 uResolution;
uniform float uTime;
uniform float uHueShift;
uniform float uNoise;
uniform float uScan;
uniform float uScanFreq;
uniform float uWarp;
#define iTime uTime
#define iResolution uResolution

vec4 buf[8];
float rand(vec2 c){return fract(sin(dot(c,vec2(12.9898,78.233)))*43758.5453);}

mat3 rgb2yiq=mat3(0.299,0.587,0.114,0.596,-0.274,-0.322,0.211,-0.523,0.312);
mat3 yiq2rgb=mat3(1.0,0.956,0.621,1.0,-0.272,-0.647,1.0,-1.106,1.703);

vec3 hueShiftRGB(vec3 col,float deg){
    vec3 yiq=rgb2yiq*col;
    float rad=radians(deg);
    float cosh=cos(rad),sinh=sin(rad);
    vec3 yiqShift=vec3(yiq.x,yiq.y*cosh-yiq.z*sinh,yiq.y*sinh+yiq.z*cosh);
    return clamp(yiq2rgb*yiqShift,0.0,1.0);
}

vec4 sigmoid(vec4 x){return 1./(1.+exp(-x));}

vec4 cppn_fn(vec2 coordinate,float in0,float in1,float in2){
    buf[6]=vec4(coordinate.x,coordinate.y,0.3948333106474662+in0,0.36+in1);
    buf[7]=vec4(0.14+in2,sqrt(coordinate.x*coordinate.x+coordinate.y*coordinate.y),0.,0.);
    buf[0]=mat4(vec4(6.5404263,-3.6126034,0.7590882,-1.13613),vec4(2.4582713,3.1660357,1.2219609,0.06276096),vec4(-5.478085,-6.159632,1.8701609,-4.7742867),vec4(6.039214,-5.542865,-0.90925294,3.251348))*buf[6]+mat4(vec4(0.8473259,-5.722911,3.975766,1.6522468),vec4(-0.24321538,0.5839259,-1.7661959,-5.350116),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(0.21808943,1.1243913,-1.7969975,5.0294676);
    buf[1]=mat4(vec4(-3.3522482,-6.0612736,0.55641043,-4.4719114),vec4(0.8631464,1.7432913,5.643898,1.6106541),vec4(2.4941394,-3.5012043,1.7184316,6.357333),vec4(3.310376,8.209261,1.1355612,-1.165539))*buf[6]+mat4(vec4(5.24046,-13.034365,0.009859298,15.870829),vec4(2.987511,3.129433,-0.89023495,-1.6822904),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-5.9457836,-6.573602,-0.8812491,1.5436668);
    buf[0]=sigmoid(buf[0]);buf[1]=sigmoid(buf[1]);
    buf[2]=mat4(vec4(-15.219568,8.095543,-2.429353,-1.9381982),vec4(-5.951362,4.3115187,2.6393783,1.274315),vec4(-7.3145227,6.7297835,5.2473326,5.9411426),vec4(5.0796127,8.979051,-1.7278991,-1.158976))*buf[6]+mat4(vec4(-11.967154,-11.608155,6.1486754,11.237008),vec4(2.124141,-6.263192,-1.7050359,-0.7021966),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-4.17164,-3.2281182,-4.576417,-3.6401186);
    buf[3]=mat4(vec4(3.1832156,-13.738922,1.879223,3.233465),vec4(0.64300746,12.768129,1.9141049,0.50990224),vec4(-0.049295485,4.4807224,1.4733979,1.801449),vec4(5.0039253,13.000481,3.3991797,-4.5561905))*buf[6]+mat4(vec4(-0.1285731,7.720628,-3.1425676,4.742367),vec4(0.6393625,3.714393,-0.8108378,-0.39174938),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-1.1811101,-21.621881,0.7851888,1.2329718);
    buf[2]=sigmoid(buf[2]);buf[3]=sigmoid(buf[3]);
    buf[4]=mat4(vec4(5.214916,-7.183024,2.7228765,2.6592617),vec4(-5.601878,-25.3591,4.067988,0.4602802),vec4(-10.57759,24.286327,21.102104,37.546658),vec4(4.3024497,-1.9625226,2.3458803,-1.372816))*buf[0]+mat4(vec4(-17.6526,-10.507558,2.2587414,12.462782),vec4(6.265566,-502.75443,-12.642513,0.9112289),vec4(-10.983244,20.741234,-9.701768,-0.7635988),vec4(5.383626,1.4819539,-4.1911616,-4.8444734))*buf[1]+mat4(vec4(12.785233,-16.345072,-0.39901125,1.7955981),vec4(-30.48365,-1.8345358,1.4542528,-1.1118771),vec4(19.872723,-7.337935,-42.941723,-98.52709),vec4(8.337645,-2.7312303,-2.2927687,-36.142323))*buf[2]+mat4(vec4(-16.298317,3.5471997,-0.44300047,-9.444417),vec4(57.5077,-35.609753,16.163465,-4.1534753),vec4(-0.07470326,-3.8656476,-7.0901804,3.1523974),vec4(-12.559385,-7.077619,1.490437,-0.8211543))*buf[3]+vec4(-7.67914,15.927437,1.3207729,-1.6686112);
    buf[5]=mat4(vec4(-1.4109162,-0.372762,-3.770383,-21.367174),vec4(-6.2103205,-9.35908,0.92529047,8.82561),vec4(11.460242,-22.348068,13.625772,-18.693201),vec4(-0.3429052,-3.9905605,-2.4626114,-0.45033523))*buf[0]+mat4(vec4(7.3481627,-4.3661838,-6.3037653,-3.868115),vec4(1.5462853,6.5488915,1.9701879,-0.58291394),vec4(6.5858274,-2.2180402,3.7127688,-1.3730392),vec4(-5.7973905,10.134961,-2.3395722,-5.965605))*buf[1]+mat4(vec4(-2.5132585,-6.6685553,-1.4029363,-0.16285264),vec4(-0.37908727,0.53738135,4.389061,-1.3024765),vec4(-0.70647055,2.0111287,-5.1659346,-3.728635),vec4(-13.562562,10.487719,-0.9173751,-2.6487076))*buf[2]+mat4(vec4(-8.645013,6.5546675,-6.3944063,-5.5933375),vec4(-0.57783127,-1.077275,36.91025,5.736769),vec4(14.283112,3.7146652,7.1452246,-4.5958776),vec4(2.7192075,3.6021907,-4.366337,-2.3653464))*buf[3]+vec4(-5.9000807,-4.329569,1.2427121,8.59503);
    buf[4]=sigmoid(buf[4]);buf[5]=sigmoid(buf[5]);
    buf[6]=mat4(vec4(-1.61102,0.7970257,1.4675229,0.20917463),vec4(-28.793737,-7.1390953,1.5025433,4.656581),vec4(-10.94861,39.66238,0.74318546,-10.095605),vec4(-0.7229728,-1.5483948,0.7301322,2.1687684))*buf[0]+mat4(vec4(3.2547753,21.489103,-1.0194173,-3.3100595),vec4(-3.7316632,-3.3792162,-7.223193,-0.23685838),vec4(13.1804495,0.7916005,5.338587,5.687114),vec4(-4.167605,-17.798311,-6.815736,-1.6451967))*buf[1]+mat4(vec4(0.604885,-7.800309,-7.213122,-2.741014),vec4(-3.522382,-0.12359311,-0.5258442,0.43852118),vec4(9.6752825,-22.853785,2.062431,0.099892326),vec4(-4.3196306,-17.730087,2.5184598,5.30267))*buf[2]+mat4(vec4(-6.545563,-15.790176,-6.0438633,-5.415399),vec4(-43.591583,28.551912,-16.00161,18.84728),vec4(4.212382,8.394307,3.0958717,8.657522),vec4(-5.0237565,-4.450633,-4.4768,-5.5010443))*buf[3]+mat4(vec4(1.6985557,-67.05806,6.897715,1.9004834),vec4(1.8680354,2.3915145,2.5231109,4.081538),vec4(11.158006,1.7294737,2.0738268,7.386411),vec4(-4.256034,-306.24686,8.258898,-17.132736))*buf[4]+mat4(vec4(1.6889864,-4.5852966,3.8534803,-6.3482175),vec4(1.3543309,-1.2640043,9.932754,2.9079645),vec4(-5.2770967,0.07150358,-0.13962056,3.3269649),vec4(28.34703,-4.918278,6.1044083,4.085355))*buf[5]+vec4(6.6818056,12.522166,-3.7075126,-4.104386);
    buf[7]=mat4(vec4(-8.265602,-4.7027016,5.098234,0.7509808),vec4(8.6507845,-17.15949,16.51939,-8.884479),vec4(-4.036479,-2.3946867,-2.6055532,-1.9866527),vec4(-2.2167742,-1.8135649,-5.9759874,4.8846445))*buf[0]+mat4(vec4(6.7790847,3.5076547,-2.8191125,-2.7028968),vec4(-5.743024,-0.27844876,1.4958696,-5.0517144),vec4(13.122226,15.735168,-2.9397483,-4.101023),vec4(-14.375265,-5.030483,-6.2599335,2.9848232))*buf[1]+mat4(vec4(4.0950394,-0.94011575,-5.674733,4.755022),vec4(4.3809423,4.8310084,1.7425908,-3.437416),vec4(2.117492,0.16342592,-104.56341,16.949184),vec4(-5.22543,-2.994248,3.8350096,-1.9364246))*buf[2]+mat4(vec4(-5.900337,1.7946124,-13.604192,-3.8060522),vec4(6.6583457,31.911177,25.164474,91.81147),vec4(11.840538,4.1503043,-0.7314397,6.768467),vec4(-6.3967767,4.034772,6.1714606,-0.32874924))*buf[3]+mat4(vec4(3.4992442,-196.91893,-8.923708,2.8142626),vec4(3.4806502,-3.1846354,5.1725626,5.1804223),vec4(-2.4009497,15.585794,1.2863957,2.0252278),vec4(-71.25271,-62.441242,-8.138444,0.50670296))*buf[4]+mat4(vec4(-12.291733,-11.176166,-7.3474145,4.390294),vec4(10.805477,5.6337385,-0.9385842,-4.7348723),vec4(-12.869276,-7.039391,5.3029537,7.5436664),vec4(1.4593618,8.91898,3.5101583,5.840625))*buf[5]+vec4(2.2415268,-6.705987,-0.98861027,-2.117676);
    buf[6]=sigmoid(buf[6]);buf[7]=sigmoid(buf[7]);
    buf[0]=mat4(vec4(1.6794263,1.3817469,2.9625452,0.),vec4(-1.8834411,-1.4806935,-3.5924516,0.),vec4(-1.3279216,-1.0918057,-2.3124623,0.),vec4(0.2662234,0.23235129,0.44178495,0.))*buf[0]+mat4(vec4(-0.6299101,-0.5945583,-0.9125601,0.),vec4(0.17828953,0.18300213,0.18182953,0.),vec4(-2.96544,-2.5819945,-4.9001055,0.),vec4(1.4195864,1.1868085,2.5176322,0.))*buf[1]+mat4(vec4(-1.2584374,-1.0552157,-2.1688404,0.),vec4(-0.7200217,-0.52666044,-1.438251,0.),vec4(0.15345335,0.15196142,0.272854,0.),vec4(0.945728,0.8861938,1.2766753,0.))*buf[2]+mat4(vec4(-2.4218085,-1.968602,-4.35166,0.),vec4(-22.683098,-18.0544,-41.954372,0.),vec4(0.63792,0.5470648,1.1078634,0.),vec4(-1.5489894,-1.3075932,-2.6444845,0.))*buf[3]+mat4(vec4(-0.49252132,-0.39877754,-0.91366625,0.),vec4(0.95609266,0.7923952,1.640221,0.),vec4(0.30616966,0.15693925,0.8639857,0.),vec4(1.1825981,0.94504964,2.176963,0.))*buf[4]+mat4(vec4(0.35446745,0.3293795,0.59547555,0.),vec4(-0.58784515,-0.48177817,-1.0614829,0.),vec4(2.5271258,1.9991658,4.6846647,0.),vec4(0.13042648,0.08864098,0.30187556,0.))*buf[5]+mat4(vec4(-1.7718065,-1.4033192,-3.3355875,0.),vec4(3.1664357,2.638297,5.378702,0.),vec4(-3.1724713,-2.6107926,-5.549295,0.),vec4(-2.851368,-2.249092,-5.3013067,0.))*buf[6]+mat4(vec4(1.5203838,1.2212278,2.8404984,0.),vec4(1.5210563,1.2651345,2.683903,0.),vec4(2.9789467,2.4364579,5.2347264,0.),vec4(2.2270417,1.8825914,3.8028636,0.))*buf[7]+vec4(-1.5468478,-3.6171484,0.24762098,0.);
    buf[0]=sigmoid(buf[0]);
    return vec4(buf[0].x,buf[0].y,buf[0].z,1.);
}

void mainImage(out vec4 fragColor,in vec2 fragCoord){
    vec2 uv=fragCoord/uResolution.xy*2.-1.;
    uv.y*=-1.;
    uv+=uWarp*vec2(sin(uv.y*6.283+uTime*0.5),cos(uv.x*6.283+uTime*0.5))*0.05;
    fragColor=cppn_fn(uv,0.1*sin(0.3*uTime),0.1*sin(0.69*uTime),0.1*sin(0.44*uTime));
}

void main() {
    vec4 col;
    mainImage(col, gl_FragCoord.xy);

    // --- START NEW, CORRECTED COLOR LOGIC ---

    // 1. Define our brand colors (Purple and Pink)
    vec3 color1 = vec3(0.6, 0.2, 0.8); // Purple
    vec3 color2 = vec3(0.9, 0.1, 0.4); // Pink

    // 2. Define the background color (White)
    vec3 backgroundColor = vec3(1.0, 1.0, 1.0);

    // 3. Create a gradient for the nebula based on the vertical position on the screen
    vec3 nebulaColor = mix(color1, color2, gl_FragCoord.y / uResolution.y);

    // 4. Calculate the brightness (luminance) of the original animation.
    // This value will be used as a mask to decide where to draw the nebula.
    float mask = dot(col.rgb, vec3(0.299, 0.587, 0.114));

    // 5. Blend the white background with the colored nebula using the mask.
    vec3 finalColor = mix(backgroundColor, nebulaColor, mask);

    gl_FragColor = vec4(finalColor, 1.0);

    // --- END NEW, CORRECTED COLOR LOGIC ---
}
`;function ks({hueShift:t=0,noiseIntensity:e=0,scanlineIntensity:s=0,speed:r=.5,scanlineFrequency:i=0,warpAmount:a=0,resolutionScale:l=1}){const h=z.useRef(null);return z.useEffect(()=>{const c=h.current,d=c.parentElement,o=new ht({dpr:Math.min(window.devicePixelRatio,2),canvas:c}),x=o.gl,f=new Ns(x),u=new rt(x,{vertex:Ms,fragment:_s,uniforms:{uTime:{value:0},uResolution:{value:new Y},uHueShift:{value:t},uNoise:{value:e},uScan:{value:s},uScanFreq:{value:i},uWarp:{value:a}}}),m=new as(x,{geometry:f,program:u}),p=()=>{const y=d.clientWidth,w=d.clientHeight;o.setSize(y*l,w*l),u.uniforms.uResolution.value.set(y,w)};window.addEventListener("resize",p),p();const b=performance.now();let v=0;const M=()=>{u.uniforms.uTime.value=(performance.now()-b)/1e3*r,u.uniforms.uHueShift.value=t,u.uniforms.uNoise.value=e,u.uniforms.uScan.value=s,u.uniforms.uScanFreq.value=i,u.uniforms.uWarp.value=a,o.render({scene:m}),v=requestAnimationFrame(M)};return M(),()=>{cancelAnimationFrame(v),window.removeEventListener("resize",p)}},[t,e,s,r,i,a,l]),n.jsx("canvas",{ref:h,className:"w-full h-full block"})}function Es({children:t,className:e="",colors:s=["#ffaa40","#9c40ff","#ffaa40"],animationSpeed:r=8,showBorder:i=!1}){const a={backgroundImage:`linear-gradient(to right, ${s.join(", ")})`,animationDuration:`${r}s`};return n.jsxs("div",{className:`relative mx-auto flex max-w-fit flex-row items-center justify-center rounded-[1.25rem] font-medium backdrop-blur transition-shadow duration-500 overflow-hidden cursor-pointer ${e}`,children:[i&&n.jsx("div",{className:"absolute inset-0 bg-cover z-0 pointer-events-none animate-gradient",style:{...a,backgroundSize:"300% 100%"},children:n.jsx("div",{className:"absolute inset-0 bg-black rounded-[1.25rem] z-[-1]",style:{width:"calc(100% - 2px)",height:"calc(100% - 2px)",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})}),n.jsx("div",{className:"inline-block relative z-2 text-transparent animate-gradient",style:{...a,backgroundClip:"text",WebkitBackgroundClip:"text",backgroundSize:"300% 100%"},children:t})]})}const As=()=>n.jsx(n.Fragment,{children:n.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center overflow-visible pt-20",children:[n.jsx("div",{className:"absolute inset-0 z-0",children:n.jsx(ks,{speed:2,hueShift:10,warpAmount:5})}),n.jsx("div",{className:"absolute inset-0 opacity-10 z-10",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),n.jsx("div",{className:"relative z-20 max-w-7xl mx-auto pt-24 px-6 lg:px-12",children:n.jsx("div",{className:"flex justify-center items-center",children:n.jsxs("div",{className:"space-y-10 text-center max-w-4xl text-gray-900",children:[n.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 leading-tight tracking-tight font-serif",children:["The Smart",n.jsx(Es,{colors:["#a46ede","#E91E63"],animationSpeed:3,showBorder:!1,className:"inline-block",children:"Ecosystem"}),"for Research Excellence"]}),n.jsx("p",{className:"text-xl text-gray-900/80 max-w-2xl mx-auto leading-relaxed font-sans-serif",children:"NexScholar empowers students, researchers, academicians, and industry professionals to connect, collaborate, and thrive in a smart, data-driven academic ecosystem."}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-6 pt-4 justify-center",children:n.jsx("a",{href:route("login"),className:"px-10 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 font-medium shadow-xl text-base uppercase flex items-center justify-center font-sans-serif",children:"Start your Research Journey"})}),n.jsx("div",{className:"pt-20",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-16 justify-center",children:[n.jsx("p",{className:"text-gray-900/80 text-sm font-semibold uppercase tracking-widest",children:"Supported by"}),n.jsx("img",{src:"/images/utm.png",alt:"UTM Logo",className:"h-14"}),n.jsx("img",{src:"/images/mtdc.png",alt:"MTDC Logo",className:"h-14"})]})}),n.jsx("div",{className:"mt-8 border-b border-gray-200 max-w-xl mx-auto"})]})})})]})}),Ss=({title:t,subtitle:e,description:s,linkText:r,image_url:i})=>n.jsxs("div",{className:"bg-white rounded-lg p-8 hover:shadow-2xl transition-all duration-300 shadow-xl border border-gray-100 relative overflow-hidden font-[sans-serif]",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-purple-600 font-bold text-lg",children:e}),n.jsx("h4",{className:"text-2xl font-extrabold text-gray-900 leading-tight",children:t}),n.jsx("p",{className:"text-gray-600 leading-relaxed text-normal font-sans !mt-6",children:s}),n.jsxs("div",{className:"flex items-center !mt-6",children:[n.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-pink-500 to-pink-600 rounded-full mr-4"}),n.jsxs("a",{href:"#",className:"inline-flex items-center text-gray-900 hover:text-purple-600 font-semibold text-normal uppercase tracking-wide group",children:[r,n.jsx("span",{className:"ml-2 text-sm group-hover:translate-x-1 transition-transform",children:">"})]})]})]}),n.jsx("div",{className:"mt-8 h-48 bg-gradient-to-br from-purple-100 via-blue-100 to-pink-100 rounded-xl relative overflow-hidden",children:n.jsx("img",{src:i,alt:t,className:"absolute inset-0 w-full h-full object-cover"})})]}),Cs=()=>{const t=[{title:"Plan your postgraduate future",subtitle:"For Students",description:"Easily discover suitable supervisors, grants, and journals tailored to your interest and readiness.",linkText:"Start Planning",image_url:"/images/student.png"},{title:"Build your research network",subtitle:"For Academicians",description:"Attract potential postgrads, manage projects, validate instruments, and monitor trends with intelligent dashboards.",linkText:"Build Network",image_url:"/images/academicians.png"},{title:"Connect to academic intelligence",subtitle:"For Industry & Agencies",description:"Collaborate with researchers, offer research grants, and analyze national research directions using big data insights.",linkText:"Connect Now",image_url:"/images/industry.png"}];return n.jsx("section",{id:"features",className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[n.jsx("div",{className:"text-center mb-24",children:n.jsx("h2",{className:"text-5xl font-extrabold text-gray-900 mb-6 font-[sans-serif]",children:"Your Research Journey Starts Here"})}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-12",children:t.map((e,s)=>n.jsx(Ss,{...e},s))})]})})},Ls=({tag:t,organization:e,title:s,location:r,displayField:i,deadline:a,dateRange:l,description:h,keywords:c,url:d,type:o})=>{const x=()=>{if(!d)return;let f="";o==="grant"?f=route("welcome.funding.show.grant",d):o==="scholarship"?f=route("welcome.funding.show.scholarship",d):o==="event"&&(f=route("welcome.events.show",d)),f&&(window.location.href=f)};return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("span",{className:`text-white text-xs font-semibold px-3 py-1 rounded-full ${o==="grant"?"bg-blue-600":"bg-purple-600"}`,children:t}),n.jsxs("div",{className:"text-right max-w-[200px]",children:[n.jsx("span",{className:"text-gray-700 text-sm font-semibold line-clamp-1 truncate block",children:e}),(o==="grant"||o==="scholarship")&&n.jsx("span",{className:"text-gray-500 text-xs block mt-1",children:o==="grant"?"Research Funding":"Education Support"})]})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 leading-tight line-clamp-1",children:s}),o==="grant"||o==="scholarship"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:o==="grant"?"#2563eb":"#7c3aed"},children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsx("span",{className:"font-semibold text-normal",style:{color:o==="grant"?"#2563eb":"#7c3aed"},children:r})]}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsxs("span",{className:"text-gray-500 text-sm",children:["Deadline: ",a]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("svg",{className:"w-4 h-4 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),n.jsx("span",{className:"text-green-600 font-semibold text-normal",children:i})]}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsxs("span",{className:"text-gray-500 text-sm",children:["Date: ",l]})]})]}),n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4 line-clamp-3 overflow-hidden",children:h}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:c.map((f,u)=>n.jsx("span",{className:"border border-gray-300 text-gray-700 text-xs px-2 py-1 rounded-full",children:f},u))}),n.jsxs("button",{onClick:x,className:`w-full text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center ${o==="grant"?"bg-blue-600 hover:bg-blue-700":"bg-purple-600 hover:bg-purple-700"}`,children:[o==="grant"?"Apply for Grant":o==="scholarship"?"Apply for Scholarship":"Apply Now",n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},zs=({grants:t=[],scholarships:e=[],events:s=[]})=>{const[r,i]=z.useState("funding"),[a,l]=z.useState(0),h=t.map(g=>({type:"grant",tag:g.grant_type||"Grant",organization:g.sponsored_by||"Funding Organization",title:g.title||"Untitled Grant",location:g.country||"Global",deadline:new Date(g.application_deadline).toLocaleDateString(),description:g.description?g.description.replace(/<[^>]*>/g,"").trim():"No description available.",keywords:Array.isArray(g.grant_theme)&&g.grant_theme.length>0?g.grant_theme:["Research"],url:g.url,type:"grant",application_deadline:g.application_deadline})),c=e.map(g=>({type:"scholarship",tag:Array.isArray(g.scholarship_type)&&g.scholarship_type.length>0?g.scholarship_type[0]:g.scholarship_type||"Scholarship",organization:g.sponsored_by||"Educational Institution",title:g.title||"Untitled Scholarship",location:g.country||"Global",deadline:new Date(g.application_deadline).toLocaleDateString(),description:g.description?g.description.replace(/<[^>]*>/g,"").trim():"No description available.",keywords:Array.isArray(g.scholarship_type)&&g.scholarship_type.length>0?g.scholarship_type:[g.scholarship_type||"Education"],url:g.url,type:"scholarship",application_deadline:g.application_deadline})),d=[...h,...c],o=new Date,x=d.filter(g=>new Date(g.application_deadline)>=o).sort((g,_)=>new Date(g.application_deadline)-new Date(_.application_deadline)).slice(0,9),f=x.length>=9?x:[...x,...d.filter(g=>new Date(g.application_deadline)<o).sort((g,_)=>new Date(_.application_deadline)-new Date(g.application_deadline)).slice(0,9-x.length)],u=s.map(g=>({tag:g.event_type,organization:"Event",title:g.event_name,displayField:g.event_mode,dateRange:`${new Date(g.start_date).toLocaleDateString()} - ${new Date(g.end_date).toLocaleDateString()}`,description:g.description.replace(/<[^>]*>/g,""),keywords:Array.isArray(g.event_theme)?g.event_theme:["N/A"],url:g.url,type:"event"})),m=r==="funding"?f:u,p=3,b=Math.ceil(m.length/p),v=m.slice(a*p,(a+1)*p),M=g=>{l(g)},y=()=>{l(g=>(g+1)%b)},w=()=>{l(g=>(g-1+b)%b)},j=g=>{i(g),l(0)};return n.jsx("section",{id:"latest-info",className:"py-40 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-5xl font-extrabold text-gray-900 mb-6 font-[sans-serif]",children:"Latest Information"}),n.jsx("p",{className:"text-gray-600 text-xl max-w-3xl mx-auto leading-relaxed",children:"Stay up to date with the latest funding opportunities, conferences, workshops, and academic programs tailored to your research domain."})]}),n.jsx("div",{className:"flex justify-center mb-12",children:n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsxs("button",{onClick:()=>j("funding"),className:`flex items-center px-6 py-3 rounded-lg font-semibold transition-all duration-200 ${r==="funding"?"bg-purple-600 text-white shadow-lg":"text-gray-700 hover:text-gray-900"}`,children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Funding",n.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-bold ${r==="funding"?"bg-white text-purple-600":"bg-purple-600 text-white"}`,children:f.length})]}),n.jsxs("button",{onClick:()=>j("events"),className:`flex items-center px-6 py-3 rounded-lg font-semibold transition-all duration-200 ${r==="events"?"bg-purple-600 text-white shadow-lg":"text-gray-700 hover:text-gray-900"}`,children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Events",n.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-bold ${r==="events"?"bg-white text-purple-600":"bg-purple-600 text-white"}`,children:u.length})]})]})}),n.jsxs("div",{className:"relative mb-12",children:[b>1&&n.jsx("button",{onClick:w,className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-20 z-10 w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors duration-200 border border-gray-200",children:n.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map((g,_)=>n.jsx(Ls,{...g},_))}),b>1&&n.jsx("button",{onClick:y,className:"hidden lg:flex absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-20 z-10 w-12 h-12 bg-white rounded-full shadow-lg items-center justify-center hover:bg-gray-50 transition-colors duration-200 border border-gray-200",children:n.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),b>1&&n.jsx("div",{className:"flex justify-center space-x-2",children:Array.from({length:b}).map((g,_)=>n.jsx("button",{onClick:()=>M(_),className:`w-3 h-3 rounded-full transition-colors duration-200 ${a===_?"bg-purple-600":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to page ${_+1}`},_))})]})})},Fs=({quote:t,name:e,title:s,image_url:r})=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100",children:[n.jsx("div",{className:"relative mb-6",children:n.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed",children:['"',t,'"']})}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",children:n.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover rounded-full"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gray-900 font-bold text-sm",children:e}),n.jsx("p",{className:"text-gray-500 text-xs",children:s})]})]})]}),Ts=()=>{const t=[{quote:"NexScholar saves me hours every week by helping students find me based on my research focus. I now receive quality postgraduate inquiries with aligned interests.",name:"Dr. Muhammad Aliif Bin Ahmad ",title:"Senior Lecturer at Universiti Teknologi Malaysia",image_url:"/images/people1.png"},{quote:"Before NexScholar, finding a supervisor and suitable grant was pure guesswork. Now I have access to everything—from proposal templates to funding alerts—in one place.",name:"Loh Yin Xia",title:"PhD Candidate at Universiti Kebangsaan Malaysia",image_url:"/images/people2.jpg"},{quote:"Through NexScholar's analytics dashboard, we can monitor national research trends and funding gaps. It's becoming an essential part of our grant evaluation workflow.",name:"Wong Yit Khee",title:"PhD Candidate at Universiti Teknologi Malaysia",image_url:"/images/people3.jpg"},{quote:"We use NexScholar not just for visibility—but also to validate instruments, manage research students, and build external collaboration pipelines.",name:"Dr. Kavintheran Thambiratnam",title:"Senior Lecturer at Universiti Islam Antarabangsa Malaysia",image_url:"/images/people4.jpeg"}];return n.jsxs("section",{id:"testimonials",className:"relative py-40 bg-[#f1f6f9]",children:[n.jsx("div",{className:"absolute inset-0 z-0 opacity-50 overflow-hidden",children:n.jsx("div",{className:"absolute -left-1/4 -top-1/4 w-[150%] h-[150%]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='wave' patternUnits='userSpaceOnUse' width='800' height='800' patternTransform='rotate(10)'%3E%3Cpath d='M 0,100 Q 200,50 400,100 T 800,100' stroke='%23d1d5db' stroke-width='2' fill='none' /%3E%3Cpath d='M 0,200 Q 200,250 400,200 T 800,200' stroke='%23d1d5db' stroke-width='2' fill='none' /%3E%3Cpath d='M 0,300 Q 200,280 400,300 T 800,300' stroke='%23d1d5db' stroke-width='2' fill='none' /%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23wave)' /%3E%3C/svg%3E")`}})}),n.jsx("div",{className:"max-w-7xl mx-auto relative px-6 lg:px-12",children:n.jsxs("div",{className:"grid lg:grid-cols-5 gap-16 mb-20",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("h2",{className:"text-5xl font-extrabold text-gray-900 mb-6 leading-tight",children:"What are people saying?"}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-8",children:"NexScholar is transforming how students, researchers, and industry collaborate on research. But don't just take our word for it—here's what our users are saying."}),n.jsxs("a",{href:route("login"),className:"inline-flex items-center px-8 py-4 border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-gradient-to-r from-purple-600 to-pink-600 hover:text-white transition-all duration-300 font-semibold",children:["MEET THE TEAM",n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),n.jsx("div",{className:"lg:col-span-3",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((e,s)=>n.jsx(Fs,{...e},s))})})]})})]})},Rs=({icon:t,title:e,description:s})=>n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-100 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 mx-auto",children:n.jsx(t,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:e}),n.jsx("p",{className:"text-sm text-slate-600 leading-snug",children:s})]}),Is=()=>{const t=[{icon:Le,title:"AI-Powered Matchmaking",description:"Instantly match students with supervisors, grants, and collaborators based on AI-inferred preferences, research field, and readiness."},{icon:ye,title:"Research Discovery",description:"Explore active research topics, funding calls, publications, and datasets intelligently filtered for your needs."},{icon:je,title:"Research Analytics & Dashboards",description:"Visualize research outputs, proposal stages, grant statuses, and student supervision metrics in real time."},{icon:Ne,title:"Semantic & RAG-Based Discovery",description:"Retrieve context-aware answers and insights by combining LLM with your documents via Retrieval-Augmented Generation (RAG)."},{icon:Me,title:"Industry Engagement",description:"Connect with industry partners, explore contract research needs, and align academic goals with commercial impact."},{icon:_e,title:"Research Learning & Enrichment Hub",description:"Access personalized learning paths, writing templates, instrument validators, and self-paced micro-training."}];return n.jsxs("section",{id:"ai-features",className:"py-40 bg-white relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-100/30 via-transparent to-blue-100/30"}),n.jsxs("div",{className:"max-w-7xl mx-auto relative px-6 lg:px-12",children:[n.jsxs("div",{className:"text-center mb-24",children:[n.jsx("h3",{className:"text-purple-600 text-lg font-semibold mb-4",children:"A New Era of Intelligent Research"}),n.jsx("h2",{className:"text-5xl font-black text-gray-900 mb-6",children:"Discover NexScholar AI"}),n.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto leading-relaxed text-xl",children:"NexScholar leverages Artificial Intelligence and Retrieval-Augmented Generation (RAG) to revolutionize how students, academicians, and industries explore research, discover opportunities, and build impactful collaborations — all in one intelligent ecosystem."}),n.jsx("a",{href:route("login"),className:"mt-10 inline-block px-10 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 font-semibold shadow-xl text-lg",children:"Explore NexScholar AI"})]}),n.jsxs("div",{className:"hidden lg:block relative w-[1000px] h-[1000px] mx-auto",children:[n.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 z-30",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full shadow-2xl"}),n.jsx("div",{className:"absolute inset-2 bg-white rounded-full flex items-center justify-center shadow-inner",children:n.jsx("div",{className:"w-28 h-28 bg-white rounded-full flex items-center justify-center shadow-xl",children:n.jsx("img",{src:"/images/logo.png",alt:"NexScholar Logo",className:"w-12 h-12 object-contain"})})})]}),t.map((e,s)=>{const r=e.icon,i=s*60-90,a=380,l=Math.cos(i*Math.PI/180)*a,h=Math.sin(i*Math.PI/180)*a;return n.jsxs("div",{children:[n.jsx("div",{className:"absolute w-0.5 bg-gradient-to-r from-violet-300 to-transparent z-10",style:{top:"50%",left:"50%",height:`${a}px`,transformOrigin:"top center",transform:`translate(-50%, 0) rotate(${i+90}deg)`}}),n.jsx("div",{className:"absolute w-72 group cursor-pointer z-20",style:{top:"50%",left:"50%",transform:`translate(${l-144}px, ${h-90}px)`},children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-slate-100 group-hover:border-violet-200 group-hover:scale-105",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:n.jsx(r,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2 text-center",children:e.title}),n.jsx("p",{className:"text-sm text-slate-600 text-center leading-snug",children:e.description})]})})]},s)})]}),n.jsx("div",{className:"lg:hidden grid grid-cols-2 gap-6",children:t.map((e,s)=>n.jsx(Rs,{icon:e.icon,title:e.title,description:e.description},s))})]})]})},Ds=()=>{const t=[{icon:Q,title:"Create your NexScholar account",description:"Accessible via web platform – no install required",cta:"Sign Up"},{icon:X,title:"Set up your academic profile",description:"Add your field, institution, interests & keywords for accurate matching",cta:"Learn More"},{icon:H,title:"Get matched instantly",description:"Discover grants, supervisors, collaborators & tools based on AI-RAG",cta:"Learn More"}];return n.jsx("section",{id:"unbank",className:"py-40 bg-gradient-to-br from-purple-900 via-blue-900 to-purple-900",children:n.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[n.jsxs("div",{className:"text-center lg:text-left",children:[n.jsxs("div",{className:"relative w-80 h-64 mx-auto lg:mx-0 mb-8",children:[n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl rotate-12",children:n.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-500 to-purple-600 rounded"})})}),n.jsx("div",{className:"absolute top-8 left-12 w-16 h-16 bg-gradient-to-br from-pink-400 to-red-500 rounded-2xl shadow-xl transform -rotate-12 flex items-center justify-center",children:n.jsx(Q,{className:"w-8 h-8 text-white"})}),n.jsx("div",{className:"absolute top-16 right-8 w-14 h-14 bg-gradient-to-br from-green-400 to-blue-500 rounded-xl shadow-xl transform rotate-45 flex items-center justify-center",children:n.jsx(X,{className:"w-6 h-6 text-white transform -rotate-45"})}),n.jsx("div",{className:"absolute bottom-12 left-8 w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg shadow-xl transform rotate-12 flex items-center justify-center",children:n.jsx(H,{className:"w-6 h-6 text-white transform -rotate-12"})}),n.jsx("div",{className:"absolute bottom-8 right-16 w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full shadow-xl"}),n.jsx("div",{className:"absolute top-4 right-20 w-8 h-8 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-full shadow-lg"})]}),n.jsx("h2",{className:"text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Start your research journey"}),n.jsx("h2",{className:"text-3xl lg:text-4xl font-extrabold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent",children:"in 3 simple steps!"})]}),n.jsx("div",{className:"space-y-6",children:t.map((e,s)=>{const r=e.icon;return n.jsxs("div",{className:"flex items-center justify-between p-6 border-l-4 border-gradient-to-b from-pink-500 to-purple-600 bg-white/5 backdrop-blur-sm rounded-r-xl hover:bg-white/10 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-1 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full"}),n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-lg flex items-center justify-center",children:n.jsx(r,{className:"w-5 h-5 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:e.title}),n.jsx("p",{className:"text-sm text-gray-300",children:e.description})]})]}),n.jsxs("a",{href:route("register"),className:"inline-flex items-center text-white hover:text-pink-400 hover:bg-white/10 group ml-4 text-sm font-medium uppercase tracking-wide px-4 py-2 rounded transition-colors duration-200",children:[e.cta,n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},s)})})]})})})},Os=({posts:t=[]})=>{const e=t.slice(0,6).map(s=>({title:s.title,author:s.author?s.author.full_name:"NexScholar Team",date:new Date(s.created_at).toLocaleDateString(),url:s.url}));return n.jsx("section",{id:"news",className:"py-40 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-12",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-5xl font-extrabold text-gray-900 mb-4 font-[sans-serif]",children:"Lastest Posts"}),n.jsx("p",{className:"text-gray-600 text-xl",children:"Latest research highlights, platform updates, and academic opportunities"})]}),n.jsxs("a",{href:route("posts.index"),className:"inline-flex items-center px-8 py-4 border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-gradient-to-r from-purple-600 to-pink-600 hover:text-white transition-all duration-300 font-semibold",children:["READ ALL POSTS",n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),n.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 relative",children:[n.jsx("div",{className:"hidden lg:block absolute left-2/3 top-0 bottom-0 w-1 bg-gradient-to-b from-transparent via-pink-300 to-transparent"}),n.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[" ",n.jsx("div",{className:"bg-gradient-to-br from-purple-500 via-pink-500 to-blue-600 rounded-xl overflow-hidden shadow-lg mb-6 flex-grow mr-4 cursor-pointer",children:n.jsx("img",{src:"/images/AI.jpg",className:"w-full h-full object-cover"})}),n.jsx("h3",{className:"text-4xl font-extrabold text-gray-900 leading-tight flex-shrink-0 font-[sans-serif] hover:text-purple-600 transition-colors cursor-pointer mb-6",children:"NexScholar Launches AI Validation Tool for Academic Surveys"})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"space-y-6",children:e.map((s,r)=>n.jsx("div",{className:`pb-6 ${r<e.length-1?"border-b border-gray-200":""}`,children:n.jsxs(R,{href:route("welcome.posts.show",s.url),className:"block",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2 hover:text-purple-600 transition-colors cursor-pointer leading-tight font-[sans-serif]",children:s.title}),n.jsxs("p",{className:"text-gray-500 text-sm",children:[n.jsx("span",{className:"font-semibold text-purple-600 uppercase",children:s.author})," - ",s.date]})]})},r))})})]})})]})})},Ps=()=>{const[t,e]=z.useState(""),[s,r]=z.useState({funding:!0,events:!0,product:!1}),[i,a]=z.useState(!1),[l,h]=z.useState(""),[c,d]=z.useState(""),o=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),x=m=>{const p=m.target.value;e(p),h(""),d(""),p&&!o(p)&&h("Please enter a valid email.")},f=m=>{r(p=>({...p,[m]:!p[m]}))},u=async m=>{if(m.preventDefault(),!t){h("Email is required.");return}if(!o(t)){h("Please enter a valid email.");return}if(Object.entries(s).filter(([b,v])=>v).map(([b,v])=>b).length===0){alert("Please select at least one subscription type.");return}a(!0);try{await new Promise(b=>setTimeout(b,1500)),d("Thanks! Please check your email to confirm your subscription."),e(""),alert("Subscription successful! Please check your email to confirm your subscription.")}catch{h("Hmm, something went wrong. Please try again."),alert("Subscription failed. Something went wrong. Please try again.")}finally{a(!1)}};return n.jsx("section",{id:"subscribe",className:"py-20 lg:py-28 bg-gradient-to-b from-slate-50/50 to-white",children:n.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h2",{className:"text-4xl lg:text-5xl font-black text-slate-900 mb-4",children:"Subscribe to stay informed"}),n.jsx("p",{className:"text-base lg:text-lg text-slate-500 mb-8 max-w-3xl mx-auto",children:"Get curated alerts on funding, conferences & workshops, and NexScholar's AI + RAG features delivered to your inbox."}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"}),n.jsx("input",{type:"email",placeholder:"Your email address",value:t,onChange:x,className:`w-full h-14 pl-12 pr-4 rounded-xl bg-white shadow-inner border-slate-200 focus:ring-2 focus:ring-primary focus:border-transparent text-base ${l?"border-red-500 focus:ring-red-500":""}`,"aria-invalid":!!l,"aria-describedby":l?"email-error":void 0})]}),l&&n.jsx("p",{id:"email-error",className:"text-red-500 text-sm mt-1 text-left","aria-live":"polite",children:l})]}),n.jsxs("button",{type:"submit",disabled:i||!!l,className:"flex-shrink-0 h-14 px-8 rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:translate-y-0 flex items-center justify-center",children:[i?n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):n.jsx(Z,{className:"w-5 h-5 mr-2"}),i?"Subscribing...":"Subscribe"]})]})}),c&&n.jsx("p",{className:"text-green-600 text-sm font-medium","aria-live":"polite",children:c}),n.jsxs("div",{className:"space-y-3 max-w-2xl mx-auto",children:[n.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Subscription Preferences:"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"funding",checked:s.funding,onChange:()=>f("funding"),className:"border-slate-300"}),n.jsx("label",{htmlFor:"funding",className:"text-sm text-slate-600 cursor-pointer",children:"Funding alerts"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"events",checked:s.events,onChange:()=>f("events"),className:"border-slate-300"}),n.jsx("label",{htmlFor:"events",className:"text-sm text-slate-600 cursor-pointer",children:"Events (Conference/Workshop)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"product",checked:s.product,onChange:()=>f("product"),className:"border-slate-300"}),n.jsx("label",{htmlFor:"product",className:"text-sm text-slate-600 cursor-pointer",children:"Product & AI/RAG updates"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-slate-500 max-w-2xl mx-auto",children:[n.jsx(ke,{className:"w-4 h-4"}),n.jsxs("span",{children:["We respect your privacy.",n.jsx("button",{type:"button",className:"underline hover:text-slate-700 transition-colors ml-1",children:"Unsubscribe anytime"}),". View our",n.jsx("button",{type:"button",className:"underline hover:text-slate-700 transition-colors ml-1",children:"Privacy Policy"}),"."]})]})]})]})})})},$s=()=>{const[t,e]=z.useState(null),s={Navigate:[{name:"Home",href:"#home"},{name:"Features",href:"#features"},{name:"Latest Info",href:"#latest-info"},{name:"Testimonials",href:"#testimonials"}],Discover:[{name:"NexScholar AI",href:"#ai-features"},{name:"News & Events",href:"#news"},{name:"Login",href:route("login")},{name:"Register",href:route("register")}],Resources:[{name:"Mastering Your Profile & Onboarding",href:route("resources.category","mastering-profile")},{name:"Finding Your Match",href:route("resources.category","finding-match")},{name:"Managing Your Research",href:route("resources.category","managing-research")}],"Legal & More":[{name:"Terms of Use",href:route("legal.terms")},{name:"Privacy Policy",href:route("legal.privacy")},{name:"Cookie Policy",href:route("legal.cookies")},{name:"Trust & Security",href:route("legal.security")}]},r=[{icon:Ae,href:"https://www.facebook.com/nexscholar/",label:"Facebook"},{icon:Se,href:"https://www.linkedin.com/company/nexscholar/",label:"LinkedIn"},{icon:Fe,href:"https://www.instagram.com/nexscholar__",label:"Instagram"},{icon:Ie,href:"https://www.youtube.com/@Nexscholar",label:"YouTube"}],i=a=>{e(t===a?null:a)};return n.jsx("footer",{className:"text-slate-200 py-12 lg:py-16 bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900",children:n.jsxs("div",{className:"container max-w-7xl mx-auto px-6 lg:px-12",children:[n.jsxs("div",{className:"grid lg:grid-cols-5 gap-8 mb-8",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("img",{src:"/images/logo.png",alt:"NexScholar",className:"w-10 h-10"}),n.jsx("span",{className:"text-xl font-semibold text-white",children:"NexScholar"})]}),n.jsx("p",{className:"text-slate-300 mb-6 max-w-sm text-sm leading-relaxed",children:"Making research collaboration accessible for everyone—powered by AI, analytics, and RAG for trustworthy answers."}),n.jsx("div",{className:"flex gap-3",children:r.map(a=>n.jsx("a",{href:a.href,"aria-label":a.label,className:"w-9 h-9 rounded-full bg-slate-700/50 flex items-center justify-center text-slate-400 hover:bg-gradient-to-r hover:from-purple-500 hover:to-pink-500 hover:text-white hover:scale-105 transition-all duration-300",children:n.jsx(a.icon,{className:"w-4 h-4"})},a.label))})]}),n.jsx("div",{className:"hidden md:contents",children:Object.entries(s).map(([a,l])=>n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold tracking-wide uppercase text-white mb-4",children:a}),n.jsx("ul",{className:"space-y-3",children:l.map(h=>n.jsx("li",{children:n.jsx("a",{href:h.href,className:"text-slate-400 hover:text-white transition-colors text-sm leading-relaxed",children:h.name})},h.name))})]},a))}),n.jsx("div",{className:"md:hidden lg:col-span-4 space-y-4",children:Object.entries(s).map(([a,l])=>n.jsxs("div",{className:"border-b border-slate-700/50 pb-4",children:[n.jsxs("button",{onClick:()=>i(a),className:"flex items-center justify-between w-full text-left",children:[n.jsx("h3",{className:"text-sm font-semibold tracking-wide uppercase text-white",children:a}),n.jsx(Ee,{className:`w-4 h-4 text-slate-400 transition-transform duration-200 ${t===a?"rotate-180":""}`})]}),t===a&&n.jsx("ul",{className:"mt-3 space-y-2 pl-0",children:l.map(h=>n.jsx("li",{children:n.jsx("a",{href:h.href,className:"text-slate-400 hover:text-white transition-colors text-sm block py-1",children:h.name})},h.name))})]},a))})]}),n.jsx("div",{className:"border-t border-white/10 my-8"}),n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 text-sm",children:[n.jsx("div",{className:"text-slate-400",children:"© 2025 NexScholar Sdn. Bhd. 202501003772 (1605185-U). A UTM Spin-Off Company. All rights reserved."}),n.jsx("div",{className:"text-slate-400",children:"Built with integrity for academia, industry & community."})]})]})})},er=({posts:t,events:e,grants:s,scholarships:r,auth:i})=>{const a={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx(De,{auth:i}),n.jsx(As,{}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx(Cs,{})}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx(zs,{events:e,grants:s,scholarships:r})}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx(Ts,{})}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx(Is,{})}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx(Ds,{})}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx(Os,{posts:t})}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx(Ps,{})}),n.jsx(T.div,{variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:n.jsx($s,{})})]})};export{er as default};
