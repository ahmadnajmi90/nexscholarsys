import{r as a,j as e,R as A}from"./app-BsNwtNXo.js";import{F as d}from"./FilterDropdown-DyFvoIak.js";import{a as H}from"./index-DiYkTQf-.js";const G=({events:r})=>{const[f,y]=a.useState(!1),[s,j]=a.useState(null),[_,v]=a.useState(!1),[c,E]=a.useState([]),[m,S]=a.useState([]),[x,C]=a.useState([]),[h,F]=a.useState([]),[u,D]=a.useState(""),[g,M]=a.useState(""),[n,b]=a.useState(1),p=9,T=[...new Set(r.map(t=>t.event_mode))].filter(Boolean),V=[...new Set(r.map(t=>t.event_type))].filter(Boolean),$=[...new Set(r.flatMap(t=>t.event_theme||[]))].filter(Boolean),P=[...new Set(r.map(t=>t.country))].filter(Boolean),N=r.filter(t=>{var k;const l=c.length===0||c.includes(t.event_mode),o=m.length===0||m.includes(t.event_type),R=x.length===0||((k=t.event_theme)==null?void 0:k.some(O=>x.includes(O))),q=h.length===0||h.includes(t.country),I=(!u||new Date(t.start_date)>=new Date(u))&&(!g||new Date(t.start_date)<=new Date(g));return l&&o&&R&&q&&I}),i=Math.ceil(N.length/p),B=N.slice((n-1)*p,n*p),L=t=>{j(t),v(!0)},w=()=>{j(null),v(!1)};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("button",{onClick:()=>y(!f),className:"fixed top-20 right-4 z-50 bg-blue-600 text-white p-2 rounded-full shadow-lg lg:hidden",children:e.jsx(H,{className:"text-xl"})}),e.jsxs("div",{className:`fixed lg:relative top-0 left-0 lg:block lg:w-1/4 w-3/4 h-full bg-gray-100 border-r p-4 transition-transform duration-300 ${f?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex justify-between items-center",children:["Filters",e.jsx("button",{onClick:()=>y(!1),className:"text-gray-600 lg:hidden",children:"✕"})]}),e.jsx(d,{label:"Event Mode",options:T,selectedValues:c,setSelectedValues:E}),e.jsx(d,{label:"Event Type",options:V,selectedValues:m,setSelectedValues:S}),e.jsx(d,{label:"Event Theme",options:$,selectedValues:x,setSelectedValues:C}),e.jsx(d,{label:"Country",options:P,selectedValues:h,setSelectedValues:F}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Start Date"}),e.jsx("input",{type:"date",value:u,onChange:t=>D(t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"End Date"}),e.jsx("input",{type:"date",value:g,onChange:t=>M(t.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]})]}),e.jsxs("div",{className:"flex-1 py-6 sm:py-4 lg:py-0 px-4",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map((t,l)=>{const o=new Date(t.end_date)<new Date;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.image?`/storage/${t.image}`:"/storage/default.jpg",alt:t.event_name,className:"w-full h-48 object-cover"}),o&&e.jsx("span",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded",children:"Ended"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 truncate",title:t.event_name,children:t.event_name}),e.jsx("p",{className:"text-gray-600 mt-4 text-center font-extralight",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},dangerouslySetInnerHTML:{__html:t.description||"No description available."}})]}),e.jsx("button",{onClick:()=>L(t),className:"inline-block rounded-full border border-gray-300 px-7 py-2 text-base font-medium text-body-color transition hover:border-primary hover:bg-primary hover:text-dark dark:border-dark-300 dark:text-dark-600",children:"View Details"})]},l)})}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-2 items-center",children:[e.jsx("button",{onClick:()=>b(t=>Math.max(t-1,1)),disabled:n===1,className:"px-4 py-2 border rounded bg-white text-gray-700 hover:bg-gray-200 disabled:opacity-50",children:"◄"}),Array.from({length:i},(t,l)=>l+1).filter(t=>t===1||t===i||Math.abs(t-n)<=1).map((t,l,o)=>e.jsxs(A.Fragment,{children:[l>0&&t-o[l-1]>1&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{onClick:()=>b(t),className:`px-4 py-2 border rounded ${n===t?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:t})]},t)),e.jsx("button",{onClick:()=>b(t=>Math.min(t+1,i)),disabled:n===i,className:"px-4 py-2 border rounded bg-white text-gray-700 hover:bg-gray-200 disabled:opacity-50",children:"►"})]})]}),_&&s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:w,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-3xl w-full overflow-y-auto max-h-[90vh]",onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:s.image?`/storage/${s.image}`:"/storage/default.jpg",alt:s.event_name,className:"w-full h-48 object-cover rounded-t-lg mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 text-center",children:s.event_name}),e.jsx("p",{className:"text-gray-600 mb-2",dangerouslySetInnerHTML:{__html:s.description}}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Event Type:"})," ",s.event_type||"Not provided."]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Event Duration:"})," ",s.start_date?`${s.start_date} - ${s.end_date}`:"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Registration Link:"})," ",s.registration_url?e.jsx("a",{href:s.registration_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"Click Here"}):"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Registration Deadline:"})," ",s.registration_deadline||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Contact Email:"})," ",s.contact_email||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Location:"})," ",`${s.venue}, ${s.city}, ${s.country}`||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",s.attachment?e.jsx("a",{href:`/storage/${s.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"}):"No attachment available."]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:w,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200",children:"Close"})})]})})]})};export{G as default};
