import{j as e,r as o,q as D,b as l,y as ie,Y as q}from"./app-D3_-8AdP.js";import{c as k}from"./createLucideIcon-C8jzjr-4.js";import{U as A}from"./users-Bb7EhaW0.js";import{F,C as V}from"./folder-open-83rc4xTl.js";import{u as X}from"./useRoles-BrZZIZFY.js";import{C as K}from"./chevron-left-DP1rQIXV.js";import{M as le,i as ce,u as Q,P as de,a as he,b as ue,L as xe,m as u,G as U,B as Y}from"./proxy-DPoPRpv4.js";import{F as R}from"./file-text-B95WFHrA.js";import{S as B}from"./sparkles-Dtce5lSx.js";import{S as J}from"./shield-B1yk0LnZ.js";import{z as me}from"./transition-CgLG8SsO.js";import{t as ge}from"./analytics-BQ374C1C.js";import{O as pe}from"./index--6txfz9e.js";import{M as fe}from"./Modal-BVpA_03z.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],ee=k("BookUser",be);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],te=k("Bookmark",ye);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],je=k("Bot",ve);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ne=k("Briefcase",we);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],re=k("Building",ke);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Ce=k("Calendar1",Me);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W=k("ClipboardList",_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],se=k("Database",Se);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],O=k("DollarSign",$e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"12ixgl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",key:"u0c8gj"}],["path",{d:"M7 16.5 8 22l-3-1-3 1 1-5.5",key:"5gm2nr"}]],Ae=k("FileBadge",Pe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],E=k("House",Le);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ae=k("LayoutGrid",Fe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],ne=k("Library",ze);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],T=k("LogOut",De);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L=k("Settings",Ee);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],H=k("UserRound",Ie);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Re=k("User",Ve);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ue=k("Zap",Oe),Be=({activeSection:n,onSectionChange:c})=>{const r=[{id:"dashboard",icon:E,label:"Dashboard"},{id:"features",icon:Ue,label:"Features"},{id:"networking",icon:A,label:"Networking"},{id:"content",icon:F,label:"Content"},{id:"settings",icon:L,label:"Settings"}];return e.jsx("div",{className:"fixed left-0 top-0 h-full w-16 bg-indigo-700 z-20",children:e.jsxs("div",{className:"flex flex-col items-center py-4 space-y-4",children:[e.jsx("a",{href:route("welcome"),className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mb-4",children:e.jsx("img",{src:"/images/logo.png",alt:"Nexscholar Logo",className:"w-10 h-10 bg-white rounded-lg object-contain shadow-lg p-1"})}),r.map(a=>{const m=a.icon,x=n===a.id;return e.jsxs("button",{onClick:()=>c(a.id),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 group relative ${x?"bg-white bg-opacity-20 text-white":"text-white hover:bg-white hover:bg-opacity-20"}`,title:a.label,children:[e.jsx(m,{className:"w-5 h-5"}),e.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:a.label})]},a.id)})]})})};class Te extends o.Component{getSnapshotBeforeUpdate(c){const r=this.props.childRef.current;if(r&&c.isPresent&&!this.props.isPresent){const a=r.offsetParent,m=ce(a)&&a.offsetWidth||0,x=this.props.sizeRef.current;x.height=r.offsetHeight||0,x.width=r.offsetWidth||0,x.top=r.offsetTop,x.left=r.offsetLeft,x.right=m-x.width-x.left}return null}componentDidUpdate(){}render(){return this.props.children}}function He({children:n,isPresent:c,anchorX:r}){const a=o.useId(),m=o.useRef(null),x=o.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=o.useContext(le);return o.useInsertionEffect(()=>{const{width:N,height:p,top:M,left:f,right:b}=x.current;if(c||!m.current||!N||!p)return;const y=r==="left"?`left: ${f}`:`right: ${b}`;m.current.dataset.motionPopId=a;const j=document.createElement("style");return g&&(j.nonce=g),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${N}px !important;
            height: ${p}px !important;
            ${y}px !important;
            top: ${M}px !important;
          }
        `),()=>{document.head.contains(j)&&document.head.removeChild(j)}},[c]),e.jsx(Te,{isPresent:c,childRef:m,sizeRef:x,children:o.cloneElement(n,{ref:m})})}const Ge=({children:n,initial:c,isPresent:r,onExitComplete:a,custom:m,presenceAffectsLayout:x,mode:g,anchorX:N})=>{const p=Q(qe),M=o.useId();let f=!0,b=o.useMemo(()=>(f=!1,{id:M,initial:c,isPresent:r,custom:m,onExitComplete:y=>{p.set(y,!0);for(const j of p.values())if(!j)return;a&&a()},register:y=>(p.set(y,!1),()=>p.delete(y))}),[r,p,a]);return x&&f&&(b={...b}),o.useMemo(()=>{p.forEach((y,j)=>p.set(j,!1))},[r]),o.useEffect(()=>{!r&&!p.size&&a&&a()},[r]),g==="popLayout"&&(n=e.jsx(He,{isPresent:r,anchorX:N,children:n})),e.jsx(de.Provider,{value:b,children:n})};function qe(){return new Map}const I=n=>n.key||"";function Z(n){const c=[];return o.Children.forEach(n,r=>{o.isValidElement(r)&&c.push(r)}),c}const We=({children:n,custom:c,initial:r=!0,onExitComplete:a,presenceAffectsLayout:m=!0,mode:x="sync",propagate:g=!1,anchorX:N="left"})=>{const[p,M]=he(g),f=o.useMemo(()=>Z(n),[n]),b=g&&!p?[]:f.map(I),y=o.useRef(!0),j=o.useRef(f),v=Q(()=>new Map),[i,w]=o.useState(f),[t,d]=o.useState(f);ue(()=>{y.current=!1,j.current=f;for(let C=0;C<t.length;C++){const h=I(t[C]);b.includes(h)?v.delete(h):v.get(h)!==!0&&v.set(h,!1)}},[t,b.length,b.join("-")]);const s=[];if(f!==i){let C=[...f];for(let h=0;h<t.length;h++){const S=t[h],P=I(S);b.includes(P)||(C.splice(h,0,S),s.push(S))}return x==="wait"&&s.length&&(C=s),d(Z(C)),w(f),null}const{forceRender:_}=o.useContext(xe);return e.jsx(e.Fragment,{children:t.map(C=>{const h=I(C),S=g&&!p?!1:f===t||b.includes(h),P=()=>{if(v.has(h))v.set(h,!0);else return;let z=!0;v.forEach(oe=>{oe||(z=!1)}),z&&(_==null||_(),d(j.current),g&&(M==null||M()),a&&a())};return e.jsx(Ge,{isPresent:S,initial:!y.current||r?void 0:!1,custom:c,presenceAffectsLayout:m,mode:x,onExitComplete:S?void 0:P,anchorX:N,children:C},h)})})},Ze=({activeSection:n,isOpen:c,onToggleSidebar:r})=>{const{isAdmin:a,isPostgraduate:m,isUndergraduate:x,isFacultyAdmin:g,isAcademician:N,canPostEvents:p,canPostProjects:M,canPostGrants:f,canCreateFacultyAdmin:b,canAssignAbilities:y}=X(),{auth:j,pendingRequestCount:v}=D().props,i=j.user;console.log(i);const w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},d=()=>{switch(n){case"dashboard":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("dashboard"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(E,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Dashboard"})]})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("roles.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(L,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Roles & Permissions"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("faculty-admins.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(Y,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Faculty Admin"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("admin.profiles.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(A,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Profile Management"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("admin.data-management.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(se,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Data Management"})]})})]}),g&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("faculty-admin.academicians"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(J,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Verify Academicians"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("faculty-admin.directory"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(A,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Academicians Directory"})]})})]})]});case"features":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("ai.matching.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(je,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"AI Matching"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("postgraduate-recommendations.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(B,{className:"w-5 h-5 text-gray-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Postgraduate Recommendations"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("bookmarks.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(te,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"My Bookmarks"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("project-hub.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(ae,{className:"w-5 h-5 text-gray-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Scholar Lab"})]})})]});case"networking":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("connections.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative",children:[e.jsx(A,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"My Network"}),v>0&&e.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:v})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/postgraduates",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(U,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Postgraduate"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/undergraduates",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(ee,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Undergraduate"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/academicians",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(ne,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Academician"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/universities",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(re,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"University"})]})})]});case"content":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/grants",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(O,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Grant"})]})}),f&&e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("post-grants.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(O,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Grants"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/projects",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(F,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Project"})]})}),M&&e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("post-projects.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(F,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Projects"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/events",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(V,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Event"})]})}),p&&e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("post-events.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(V,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Event"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:"/posts",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(R,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Post"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("create-posts.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(R,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Post"})]})})]});case"settings":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("profile.edit"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(L,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"General Account Setting"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("role.edit"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(H,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Personal Information"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(l,{href:route("logout"),method:"post",as:"button",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center w-full",children:[e.jsx(T,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Log Out"})]})})]});default:return null}},s=()=>{switch(n){case"dashboard":return"Dashboard";case"features":return"Features";case"networking":return"Networking";case"content":return"Content";case"settings":return"Settings";default:return"Navigation"}},_=()=>{switch(n){case"dashboard":return"Access your main dashboard and administrative tools.";case"features":return"Explore AI-powered features and academic tools.";case"networking":return"Connect with other academics and researchers.";case"content":return"Manage your content, grants, projects, and events.";case"settings":return"Update your profile and account settings.";default:return"Navigate through different sections of the platform."}};return c?e.jsx("div",{className:"fixed left-16 top-0 h-full w-64 bg-gray-100 z-10",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 bg-gray-100",children:[e.jsx("a",{href:route("welcome"),className:"text-lg font-semibold text-indigo-700",children:"Nexscholar"}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(K,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"p-4 bg-gray-100 border-b border-gray-200",children:i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-1 border-white shadow-lg",children:e.jsx("img",{src:i.academician?i.academician.profile_picture?`/storage/${i.academician.profile_picture}`:"/storage/profile_pictures/default.jpg":i.postgraduate?i.postgraduate.profile_picture?`/storage/${i.postgraduate.profile_picture}`:"/storage/profile_pictures/default.jpg":i.undergraduate&&i.undergraduate.profile_picture?`/storage/${i.undergraduate.profile_picture}`:"/storage/profile_pictures/default.jpg",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:i.academician?i.academician.full_name:i.postgraduate?i.postgraduate.full_name:i.undergraduate?i.undergraduate.full_name:a?"Admin":g?i.full_name:"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:i.email}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:a?"Administrator":g?"Faculty Admin":N?"Academician":m?"Postgraduate":x?"Undergraduate":"User"})]})]}),N&&i.academician&&i.academician.total_publications!==0&&i.academician.scholar_profile!==null&&e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg py-2 pr-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:i.academician.total_publications}),e.jsx("div",{className:"text-xs text-gray-500",children:"Publications"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:i.academician.scholar_profile.total_citations}),e.jsx("div",{className:"text-xs text-gray-500",children:"Citations"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:i.academician.scholar_profile.h_index}),e.jsx("div",{className:"text-xs text-gray-500",children:"h-index"})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx(u.h3,{className:"text-sm font-medium text-gray-700 mb-4",variants:t,children:s()}),e.jsx(u.div,{className:"grid grid-cols-2 gap-3",variants:w,initial:"hidden",animate:"visible",children:d()},n)]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx("div",{className:"bg-white bg-opacity-60 backdrop-blur-sm rounded-lg p-3 border border-white border-opacity-50",children:e.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:_()})})})]})}):null},Xe=({isOpen:n,toggleSidebar:c})=>{const{isAdmin:r,isPostgraduate:a,isUndergraduate:m,isFacultyAdmin:x,isAcademician:g,canPostEvents:N,canPostProjects:p,canPostGrants:M,canCreateFacultyAdmin:f,canAssignAbilities:b}=X(),{auth:y,pendingRequestCount:j}=D().props,[v,i]=o.useState(["main"]),w=v[v.length-1],t={main:{title:"NexScholar",items:[{id:"dashboard",label:"Dashboard",icon:E},{id:"features",label:"Features",icon:B},{id:"networking",label:"Networking",icon:A},{id:"manage",label:"Manage",icon:F},{id:"survey",label:"Survey",icon:W},{id:"settings",label:"Settings",icon:L}]},dashboard:{title:"Dashboard",items:[{label:"Dashboard Overview",href:route("dashboard"),icon:E},...x?[{label:"Verify Academicians",href:route("faculty-admin.academicians"),icon:J},{label:"Academicians Directory",href:route("faculty-admin.directory"),icon:A}]:[],...r?[{label:"Faculty Admin",href:route("faculty-admins.index"),icon:Y},{label:"Roles & Permissions",href:route("roles.index"),icon:L},{label:"Profile Management",href:route("admin.profiles.index"),icon:A},{label:"Data Management",href:route("admin.data-management.index"),icon:se}]:[]]},features:{title:"Features",items:[{label:"AI Matching",href:route("ai.matching.index"),icon:B},{label:"Postgraduate Recommendations",href:route("postgraduate-recommendations.index"),icon:U},{label:"My Bookmarks",href:route("bookmarks.index"),icon:te},{label:"Scholar Lab",href:route("project-hub.index"),icon:ae}]},networking:{title:"Networking",items:[{label:"My Network",href:route("connections.index"),icon:A,badge:j},{label:"Postgraduate",href:"/postgraduates",icon:U},{label:"Undergraduate",href:"/undergraduates",icon:ee},{label:"Academician",href:"/academicians",icon:ne},{label:"University",href:"/universities",icon:re}]},manage:{title:"Manage",items:[{label:"View Grant",href:"/grants",icon:O},...M?[{label:"Manage Grants",href:route("post-grants.index"),icon:O}]:[],{label:"View Project",href:"/projects",icon:F},...p?[{label:"Manage Project",href:route("post-projects.index"),icon:F}]:[],{label:"View Event",href:"/events",icon:V},...N?[{label:"Manage Event",href:route("post-events.index"),icon:V}]:[],{label:"View Post",href:"/posts",icon:R},{label:"Manage Post",href:route("create-posts.index"),icon:R}]},survey:{title:"Survey",items:[{label:"Free Survey",href:"https://docs.google.com/forms/d/e/1FAIpQLSdPX9CXPOAZLedNsqA9iyMs5ZkAOACol4_wBVN2LPdxbnsJeg/viewform",icon:W,external:!0}]},settings:{title:"Settings",items:[{label:"General Account Setting",href:route("profile.edit"),icon:L},{label:"Personal Information",href:route("role.edit"),icon:H},{label:"Log Out",href:route("logout"),method:"post",as:"button",icon:T}]}},d=h=>{i([...v,h])},s=()=>{i(v.slice(0,-1))},_={enter:h=>({x:h>0?"100%":"-100%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:h=>({zIndex:0,x:h<0?"100%":"-100%",opacity:0})},C=t[w];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed top-0 left-0 h-full w-64 shadow-lg z-50 transform transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full"} ${w==="main"?"bg-indigo-700":"bg-white"}`,children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:`flex items-center p-4 border-b ${w==="main"?"bg-indigo-800 border-indigo-600":"bg-gray-50 border-gray-200"}`,children:[w!=="main"&&e.jsx("button",{onClick:s,className:`p-2 mr-2 rounded-md transition-colors ${w==="main"?"hover:bg-indigo-600 text-white":"hover:bg-gray-200 text-gray-700"}`,children:e.jsx(K,{className:"w-5 h-5"})}),e.jsx("h3",{className:`text-lg font-semibold ${w==="main"?"text-white ml-2":"text-gray-800"}`,children:C.title})]}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:e.jsx(We,{initial:!1,children:e.jsx(u.div,{custom:1,variants:_,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute inset-0",children:e.jsx("nav",{className:"h-full overflow-y-auto p-4 space-y-1",children:C.items.map((h,S)=>{const P=h.icon;if(h.href){const z=e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors ${w==="main"?"hover:bg-indigo-600":"hover:bg-gray-100"}`,children:[e.jsxs("span",{className:`flex items-center ${w==="main"?"text-white":"text-gray-700"}`,children:[P&&e.jsx(P,{className:`w-5 h-5 mr-3 ${w==="main"?"text-indigo-200":"text-gray-600"}`}),h.label]}),h.badge>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:h.badge})]});return h.external?e.jsx("a",{href:h.href,target:"_blank",rel:"noopener noreferrer",className:"block",children:z},S):e.jsx(l,{href:h.href,method:h.method,as:h.as||"a",className:"block",children:z},S)}else return e.jsxs("button",{onClick:()=>d(h.id),className:`w-full flex items-center p-3 rounded-lg transition-colors text-left ${w==="main"?"hover:bg-indigo-600":"hover:bg-gray-100"}`,children:[P&&e.jsx(P,{className:`w-5 h-5 mr-3 ${w==="main"?"text-indigo-200":"text-gray-600"}`}),e.jsx("span",{className:w==="main"?"text-white":"text-gray-700",children:h.label})]},S)})})},w)})})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:c})]})},Ke=({profilePicture:n})=>e.jsx("nav",{className:"border-b border-gray-200 px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between mx-auto",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(l,{href:route("profile.edit"),className:"text-gray-700 hover:text-blue-600 font-medium",children:"My Account"}),e.jsx(l,{href:route("role.edit"),className:"text-gray-700 hover:text-blue-600 font-medium",children:"Profile"})]}),e.jsx("div",{className:"flex items-center space-x-4"})]})}),G=o.createContext(),$=({children:n})=>{const[c,r]=o.useState(!1),a=()=>{r(m=>!m)};return e.jsx(G.Provider,{value:{open:c,setOpen:r,toggleOpen:a},children:e.jsx("div",{className:"relative",children:n})})},Qe=({children:n})=>{const{open:c,setOpen:r,toggleOpen:a}=o.useContext(G);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,children:n}),c&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})},Ye=({align:n="right",width:c="48",contentClasses:r="py-1 bg-white",children:a})=>{const{open:m,setOpen:x}=o.useContext(G);let g="origin-top";n==="left"?g="ltr:origin-top-left rtl:origin-top-right start-0":n==="right"&&(g="ltr:origin-top-right rtl:origin-top-left end-0");let N="";return c==="48"&&(N="w-48"),e.jsx(e.Fragment,{children:e.jsx(me,{show:m,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${g} ${N}`,onClick:()=>x(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+r,children:a})})})})},Je=({className:n="",children:c,...r})=>e.jsx(l,{...r,className:"flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+n,children:c});$.Trigger=Qe;$.Content=Ye;$.Link=Je;function et({show:n,onClose:c}){D().props;const[r,a]=o.useState("terms"),[m,x]=o.useState(""),[g,N]=o.useState(""),[p,M]=o.useState(!1),[f,b]=o.useState(!1);o.useEffect(()=>{if(n){const v=r==="terms"?m:g,i=r==="terms"?"api.legal.terms":"api.legal.privacy",w=r==="terms"?x:N;v||(M(!0),window.axios.get(route(i)).then(t=>{w(t.data.content)}).catch(t=>console.error(`Failed to fetch ${r} content`,t)).finally(()=>M(!1)))}},[n,r]);const y=v=>v?v.replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">$1</h1>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold text-gray-900 mt-4 mb-4">$1</h2>').replace(/^### (.*$)/gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">$1</h3>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-indigo-600 hover:text-indigo-800 underline">$1</a>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/(<h[1-3][^>]*>.*?<\/h[1-3]>)\s*\n/g,"$1").replace(/\n(?=## )/g,"").replace(/\n(?=### )/g,"").replace(/\n(?=# )/g,"").replace(/\n/g,"<br />"):"",j=async()=>{b(!0);try{await window.axios.post(route("user.agree-to-terms")),window.location.reload()}catch(v){console.error("Failed to agree to terms:",v),b(!1)}};return e.jsx(fe,{show:n,maxWidth:"2xl",children:e.jsxs("div",{className:"p-6 flex flex-col h-full",children:[e.jsx("div",{className:"flex justify-between items-center pb-3 flex-shrink-0",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Terms Agreement Required"})}),e.jsx("div",{className:"flex justify-center flex-shrink-0 mb-4",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-amber-800",children:"You must agree to our updated terms to continue using the platform"})]})}),e.jsx("div",{className:"prose max-w-none flex-grow overflow-y-auto max-h-[50vh]",children:p?e.jsx("p",{children:"Loading..."}):e.jsx("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:y(r==="terms"?m:g)}})}),e.jsx("div",{className:"mt-6 flex justify-center flex-shrink-0",children:e.jsxs("nav",{className:"flex space-x-2 bg-gray-50 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>a("terms"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${r==="terms"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Terms of Use"}),e.jsx("button",{onClick:()=>a("privacy"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${r==="privacy"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Privacy Policy"})]})}),e.jsx("div",{className:"mt-6 flex justify-center flex-shrink-0",children:e.jsx("button",{onClick:j,disabled:f,className:`px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200 ${f?"opacity-50 cursor-not-allowed":""}`,children:f?"Agreeing...":"I Have Read and Agree"})})]})})}const gt=({children:n,title:c,TopMenuOpen:r})=>{const[a,m]=o.useState(!1),[x,g]=o.useState(!1),[N,p]=o.useState("dashboard"),[M,f]=o.useState(!1),{url:b}=D(),{auth:y}=D().props,j=d=>{const s=d.academician||d.postgraduate||d.undergraduate;return s!=null&&s.profile_picture?`/storage/${s.profile_picture}`:"/storage/profile_pictures/default.jpg"},v=d=>{const s=d.toLowerCase();return s.includes("/dashboard")?"dashboard":s.includes("/ai-matching")||s.includes("/postgraduate-recommendations")||s.includes("/bookmarks")||s.includes("/project-hub")?"features":s.includes("/connections")||s.includes("/postgraduates")||s.includes("/undergraduates")||s.includes("/academicians")||s.includes("/universities")?"networking":s.includes("/grants")||s.includes("/post-grants")||s.includes("/projects")||s.includes("/post-projects")||s.includes("/events")||s.includes("/post-events")||s.includes("/posts")||s.includes("/create-posts")?"content":s.includes("/profile")||s.includes("/role")?"settings":(s.includes("/roles")||s.includes("/faculty-admins")||s.includes("/admin/profiles")||s.includes("/admin/data-management")||s.includes("/faculty-admin"),"dashboard")},i=()=>{const d=!a;m(d),localStorage.setItem("isSidebarOpen",d)},w=d=>{p(d),a||(m(!0),localStorage.setItem("isSidebarOpen","true"))};o.useEffect(()=>{const d=v(b);p(d)},[b]),o.useEffect(()=>{setTimeout(()=>{let d=c;if(d===void 0&&(d=document.title,d==="Nexscholar"||d.endsWith("- Nexscholar"))){const s=b.split("/").filter(Boolean);s.length>0&&(d=s[s.length-1].split("-").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "))}ge(b,d)},250)},[b,c]),o.useEffect(()=>{const d=()=>{const s=window.innerWidth>=1024;if(g(s),s){const _=localStorage.getItem("isSidebarOpen");m(_!==null?_==="true":!0)}else m(!1)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),o.useEffect(()=>{const d=()=>{window.innerWidth>=1024||m(!1)};return ie.on("start",d)},[]),o.useEffect(()=>{y!=null&&y.user&&y.user.agreed_to_terms===!1&&f(!0)},[y]);const t=d=>b.startsWith(d);return e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[e.jsx(pe,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#22c55e",color:"#fff"}},error:{duration:4e3,style:{background:"#ef4444",color:"#fff"}}}}),x&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{activeSection:N,onSectionChange:w}),e.jsx(Ze,{activeSection:N,isOpen:a,onToggleSidebar:i})]}),!x&&e.jsx(Xe,{isOpen:a,toggleSidebar:i}),x?e.jsxs("div",{className:`flex-1 transition-all duration-300 ${a?"ml-80":"ml-16"}`,children:[r&&e.jsx(Ke,{}),e.jsx(q,{title:c}),e.jsxs("div",{className:`${c?"p-4":"px-4 py-2"} bg-white shadow min-h-screen`,children:[c&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:c}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs($,{children:[e.jsx($.Trigger,{children:e.jsx("img",{src:j(y.user),alt:"Profile",className:"h-10 w-10 rounded-full object-cover cursor-pointer hover:ring-2 hover:ring-indigo-400 transition"})}),e.jsxs($.Content,{align:"right",width:"48",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-900 truncate",children:y.user.full_name}),e.jsx("span",{className:"block text-sm text-gray-500 truncate",children:y.user.email})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs($.Link,{href:route("profile.edit"),children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"General Account Setting"]}),e.jsxs($.Link,{href:route("role.edit"),children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Personal Information"]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs($.Link,{href:route("logout"),method:"post",as:"button",className:"w-full text-left text-red-600 hover:bg-red-50",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})})]}),e.jsx("div",{className:"border-b border-gray-200 -mx-4"})]}),n]})]}):e.jsxs("div",{children:[e.jsx(q,{title:c}),e.jsxs("div",{className:"pb-20",children:[e.jsx("button",{className:"fixed top-4 right-4 z-50 bg-blue-600 text-white p-3 rounded-md shadow-md lg:hidden",onClick:i,children:a?"✕":"☰"}),n]}),e.jsx("div",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 rounded-t-3xl shadow-lg",children:e.jsxs("div",{className:"flex justify-around items-center relative py-3",children:[e.jsxs(l,{href:"/events",className:`flex flex-col items-center ${t("/event")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(Ce,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Event"})]}),e.jsxs(l,{href:"/projects",className:`flex flex-col items-center ${t("/project")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(Ne,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Project"})]}),e.jsx("div",{className:"absolute -top-6 w-14 h-14 flex items-center justify-center bg-blue-500 rounded-full shadow-lg border-4 border-white",children:e.jsx(l,{href:"/dashboard",children:e.jsx(E,{className:"w-7 h-7 stroke-white stroke-[1.5]"})})}),e.jsxs(l,{href:"/grants",className:`flex flex-col items-center ${t("/grant")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(Ae,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Grant"})]}),e.jsxs(l,{href:"/role",className:`flex flex-col items-center ${t("/role")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(Re,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})})]}),e.jsx(et,{show:M})]})};export{Ne as B,W as C,O as D,ae as L,gt as M,Re as U};
