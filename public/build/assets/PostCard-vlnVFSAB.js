import{r as d,j as e}from"./app-Doi1BfNX.js";import{F as j}from"./FilterDropdown-DS8TWl37.js";import{S as g}from"./SearchBar-DZ3SVqNk.js";import{P as b}from"./Pagination-DRXd3z_6.js";import v from"./ContentSkeletonCard-CW_ilfIe.js";import"./purify.es-B2xYLbnv.js";import"./react-select.esm-D1FqzvMq.js";import"./floating-ui.dom-eiE65J5j.js";import"./chevron-left-B4SkBdMm.js";import"./createLucideIcon-BIWf6Fgr.js";import"./chevron-right-Dg3EFaoF.js";const w=({html:l,maxLength:i=100,className:s})=>{if(!l)return e.jsx("p",{className:s,children:"No content available"});const r=l.replace(/<[^>]*>/g,""),a=r.length>i?r.substring(0,i)+"...":r;return e.jsx("p",{className:s,children:a})},z=({posts:l,isLoading:i})=>{const[s,r]=d.useState([]),[a,h]=d.useState(1),o=9,[c,x]=d.useState(!1),p=[...new Set(l.map(t=>t.category))].filter(Boolean).map(t=>({value:t,label:t})),m=l.filter(t=>s.length===0||s.includes(t.category)),u=Math.ceil(m.length/o),f=m.slice((a-1)*o,a*o);return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"fixed top-20 right-4 z-50 flex flex-col items-end space-y-2 lg:hidden",children:[e.jsx("button",{onClick:()=>x(!c),className:"bg-indigo-600 text-white p-2 rounded-lg shadow-lg",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L13 14.414V19a1 1 0 01-1 1h-2a1 1 0 01-1-1v-4.586L3.293 6.707A1 1 0 013 6V4z"})})}),e.jsx(g,{placeholder:"Search posts...",routeName:"posts.index",className:""})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 md:p-0 md:py-2 md:px-4 lg:p-0 lg:py-2 lg:pr-2",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:`fixed lg:relative top-0 left-0 lg:block lg:w-full w-3/4 h-full bg-gray-100 border-r rounded-lg p-4 transition-transform duration-300 z-50 ${c?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex justify-between items-center",children:["Filters",e.jsx("button",{onClick:()=>x(!1),className:"text-gray-600 lg:hidden",children:"âœ•"})]}),e.jsx(j,{label:"Category",options:p,selectedValues:s,setSelectedValues:r})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx("div",{className:"mb-6 hidden lg:block",children:e.jsx(g,{placeholder:"Search posts...",routeName:"posts.index",className:""})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-0 md:px-2 lg:px-0",children:i?Array.from({length:9},(t,n)=>e.jsx(v,{},n)):f.map((t,n)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[e.jsx("img",{src:t.featured_image?`/storage/${t.featured_image}`:"/storage/default.jpg",alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 truncate",title:t.title,children:t.title}),e.jsx("p",{className:"text-gray-600 h-12 mt-4 text-center font-extralight",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.jsx(w,{html:t.content||"No content available.",maxLength:100})})]}),e.jsx("div",{className:"px-4",children:e.jsx("a",{href:route("posts.show",t.url),className:"inline-block rounded-full border border-gray-300 px-7 py-2 text-base font-medium text-body-color transition hover:border-primary hover:bg-primary hover:text-white",children:"View Details"})})]},n))}),e.jsx("div",{className:"mt-6",children:e.jsx(b,{currentPage:a,totalPages:u,onPageChange:h})})]})]})]})};export{z as default};
