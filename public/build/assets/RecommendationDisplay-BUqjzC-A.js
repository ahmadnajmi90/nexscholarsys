import{r as a,a as y,j as t}from"./app-CxJcie6X.js";import{u as v,v as w,a as C,t as k}from"./index-Bo4JNGWa.js";import"./iconBase-Dgfn16JF.js";function E({academicianId:n}){const[m,r]=a.useState([]),[d,i]=a.useState(!0),[c,x]=a.useState(null),[s,u]=a.useState(null),[o,f]=a.useState({averages:{},counts:{}});if(a.useEffect(()=>{n&&(i(!0),y.get(route("academicians.recommendations.get",n)).then(e=>{e.data&&e.data.recommendations?r(e.data.recommendations):r([]),e.data&&e.data.ratings&&f(e.data.ratings),i(!1)}).catch(e=>{console.error("Error fetching recommendations:",e),x("Failed to load recommendations"),i(!1)}))},[n]),d)return t.jsx("div",{className:"flex justify-center py-4",children:t.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})});if(c)return t.jsx("p",{className:"text-red-500 text-sm",children:c});const g=m||[],p=[{id:"communication",icon:t.jsx(v,{size:28,className:"text-blue-500"})},{id:"support",icon:t.jsx(w,{size:28,className:"text-pink-500"})},{id:"expertise",icon:t.jsx(C,{size:28,className:"text-yellow-500"})},{id:"responsiveness",icon:t.jsx(k,{size:28,className:"text-red-500"})}],h=e=>o.counts&&o.counts[e]?o.counts[e]:0,j=e=>{u(s===e?null:e)},l=s?g.filter(e=>e[`${s}_comment`]&&e[`${s}_comment`].trim()!==""):[];return t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-start gap-6 w-full",children:p.map(e=>t.jsxs("div",{onClick:()=>j(e.id),className:"flex items-center cursor-pointer transition-transform duration-200 hover:scale-105",children:[t.jsx("div",{className:`p-1 rounded-full ${s===e.id?"bg-gray-200":""}`,children:e.icon}),t.jsx("span",{className:"text-gray-700 text-lg font-medium ml-1",children:h(e.id)})]},e.id))}),s&&t.jsx("div",{className:"mt-4 transition-all duration-300",children:l.length>0?t.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto px-0 py-2",children:l.map((e,N)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[t.jsx("p",{className:"text-gray-700",children:e[`${s}_comment`]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.created_at).toLocaleDateString()})]},N))}):t.jsx("p",{className:"text-gray-500 text-sm italic p-2 text-center",children:"No comments yet for this category"})})]})}export{E as default};
