import{r as o,j as t}from"./app-6Mso6ff_.js";import{C as O}from"./chevron-down-DCl41wW9.js";import{S as W}from"./search-Kx-8S1Fs.js";import{H as b}from"./history-CFJCoELS.js";import{S as D}from"./sparkles-fdcrkbyY.js";import{X as Y}from"./x-Dck1i2Bc.js";import"./createLucideIcon-0mxtiCN6.js";const ee=({onSearch:v,researchOptions:_,isSearching:m=!1,initialQuery:z="",pageTitle:J="Find Your Perfect Research Supervisor",searchDescription:P="Enter your research interest, topic, or field of study below and we'll match you with supervisors who have relevant expertise.",placeholder:B="e.g., Artificial Intelligence in Healthcare, Design Science Research...",tips:G=[],error:w=null,children:T,searchQuery:n,onSearchQueryChange:j,searchType:a,onSearchTypeChange:F,isAcademician:N,userId:S})=>{const g=()=>`ai_recent_searches_${S}_${a}`,[l,x]=o.useState([]),[I,d]=o.useState(!1),[p,i]=o.useState("history"),[k,u]=o.useState(null),[R,A]=o.useState([]),h=o.useRef(null);o.useEffect(()=>{function e(s){h.current&&!h.current.contains(s.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]),o.useEffect(()=>{try{const e=g(),s=localStorage.getItem(e);if(s){const r=JSON.parse(s);if(Array.isArray(r)){const c=r.slice(0,5);x(c),i(c.length>0?"history":"suggestions")}}else i("suggestions")}catch(e){console.error("Error loading recent searches:",e),i("suggestions")}},[S,a]),o.useEffect(()=>{console.log("ðŸ’¡ Generating suggestions for searchType:",a),A((()=>{const s=[];return a==="supervisor"?s.push("Find me a supervisor specializing in machine learning and AI","I'm looking for experts in sustainable energy research","Who can guide me in data science and analytics?","Recommend supervisors for biomedical engineering research","Looking for mentors in computer vision and robotics"):a==="students"?s.push("Students interested in deep learning and neural networks","Find motivated researchers for data analysis projects","Looking for students passionate about climate change research","Find postgraduates with experience in molecular biology","Students working on mobile and web development"):s.push("Find collaborators for interdisciplinary AI research","Looking for partners in climate science and sustainability","Who's working on cybersecurity and privacy research?","Find colleagues interested in educational technology","Collaborators for joint publication in data science"),s})())},[a]);const C=e=>{try{const s=typeof e=="string"?e:String(e);if(s&&s.trim().length>0){const r=[s,...l.filter(f=>f!==s)].slice(0,5);x(r);const c=g();localStorage.setItem(c,JSON.stringify(r))}}catch(s){console.error("Error saving recent search:",s)}},L=(e,s)=>{s.stopPropagation();try{const r=l.filter(f=>f!==e);x(r);const c=g();localStorage.setItem(c,JSON.stringify(r)),r.length===0&&i("suggestions")}catch(r){console.error("Error deleting search:",r)}},$=e=>{e.preventDefault(),u(null),C(n),v(n)},H=e=>{var r;const s=typeof e=="string"?e:((r=e==null?void 0:e.target)==null?void 0:r.value)||"";j(s),u(null)},E=e=>{const s=typeof e=="string"?e:String(e);j(s),d(!1)},K=()=>{const e=[];return N||e.push({value:"supervisor",label:"Supervisor"}),N&&e.push({value:"students",label:"Students"}),e.push({value:"collaborators",label:"Collaborators"}),e};return t.jsxs("div",{className:"max-w-5xl mx-auto px-4 min-h-[50vh] flex flex-col items-center justify-center",children:[t.jsx("div",{className:"mb-10 text-center",children:t.jsx("h1",{className:"text-xl text-gray-600 font-normal",children:"What can we match you?"})}),t.jsxs("div",{className:"w-full max-w-4xl",children:[t.jsxs("form",{onSubmit:$,className:"relative",children:[t.jsx("div",{className:"relative bg-white rounded-full shadow-lg border border-gray-200 hover:shadow-xl transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:a,onChange:e=>F(e.target.value),className:"appearance-none bg-transparent border-none pl-6 pr-10 py-4 text-sm font-medium text-gray-700 focus:outline-none cursor-pointer",style:{minWidth:"140px"},children:K().map(e=>t.jsxs("option",{value:e.value,children:[e.icon," ",e.label]},e.value))}),t.jsx(O,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]}),t.jsx("div",{className:"h-8 w-px bg-gray-300"}),t.jsx("input",{type:"text",value:typeof n=="string"?n:"",onChange:H,onFocus:()=>d(!0),onKeyDown:e=>{e.key==="Enter"&&(e.preventDefault(),n.trim().length>=3?(u(null),C(n),v(n),d(!1)):u("Please enter at least 3 characters to search"))},placeholder:"Ask me anything about your research match...",className:"flex-1 px-6 py-4 text-base border-none outline-none focus:outline-none focus:ring-0 bg-transparent"}),t.jsx("button",{type:"submit",disabled:m,className:`mr-2 p-3 rounded-full ${m?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 transition-colors"}`,children:m?t.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):t.jsx(W,{className:"h-5 w-5 text-white"})})]})}),I&&t.jsxs("div",{ref:h,className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-200 z-50 overflow-hidden animate-slideDown",style:{animation:"slideDown 0.2s ease-out"},children:[t.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[t.jsxs("button",{type:"button",onClick:()=>i("history"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${p==="history"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[t.jsx(b,{className:"inline w-4 h-4 mr-2"}),"History ",l.length>0&&`(${l.length})`]}),t.jsxs("button",{type:"button",onClick:()=>i("suggestions"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${p==="suggestions"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[t.jsx(D,{className:"inline w-4 h-4 mr-2"}),"Suggestions"]})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:p==="history"?t.jsx(t.Fragment,{children:l.length>0?t.jsx("div",{className:"space-y-1",children:l.map((e,s)=>t.jsxs("button",{type:"button",onClick:()=>E(e),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-blue-50 rounded-lg transition-colors flex items-center group",children:[t.jsx(b,{className:"mr-3 text-gray-400 group-hover:text-blue-600 w-4 h-4 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:e}),t.jsx("button",{onClick:r=>L(e,r),className:"ml-2 p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors opacity-0 group-hover:opacity-100",title:"Delete",children:t.jsx(Y,{className:"w-4 h-4"})})]},s))}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(b,{className:"mx-auto w-12 h-12 mb-3 text-gray-300"}),t.jsx("p",{className:"text-sm",children:"No search history yet"}),t.jsx("p",{className:"text-xs mt-1",children:"Your recent searches will appear here"})]})}):t.jsx("div",{className:"space-y-2",children:R.map((e,s)=>t.jsxs("button",{type:"button",onClick:()=>E(e),className:"w-full px-4 py-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-blue-50 hover:from-blue-50 hover:to-blue-100 hover:text-blue-800 rounded-lg transition-all text-left border border-gray-200 hover:border-blue-400 hover:shadow-sm flex items-start group",children:[t.jsx(D,{className:"w-4 h-4 mr-3 mt-0.5 text-gray-400 group-hover:text-blue-500 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:e})]},s))})})]})]}),(k||w)&&t.jsx("p",{className:"text-red-500 mt-3 text-center text-sm",children:k||w})]})]})},y=document.createElement("style");y.textContent=`
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
`;typeof document<"u"&&!document.getElementById("slideDown-animation")&&(y.id="slideDown-animation",document.head.appendChild(y));export{ee as default};
