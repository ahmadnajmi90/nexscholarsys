import{r as g,j as e,y as H}from"./app-CxJcie6X.js";import{I as k}from"./input-BNu0kPk3.js";import{L as a}from"./label-BgeW8bSG.js";import{B as C}from"./button-CilYtwya.js";import{C as m}from"./checkbox-QRuHANkv.js";import{S as i,a as c,b as n,c as d,d as r}from"./select-DNjtd788.js";import{T as Q,a as J,b as T}from"./tabs-DSS59pEI.js";import{m as O}from"./proxy-C_kn_Yp2.js";import{A as q}from"./arrow-left-w2sMtZ5p.js";import{F as z}from"./filter-BSnmnjcW.js";import{B as A}from"./building-2-DXrILOr8.js";import{M as K}from"./map-pin-DG_WyWfu.js";import{S as E}from"./search-Wx2OjB82.js";import{U as M}from"./user-DvQF5qPv.js";import"./utils-CIsb_jhR.js";import"./clsx-B-dksMZM.js";import"./index-CobXwCSB.js";import"./index-Dp3B9jqt.js";import"./index-BB13cI-f.js";import"./index-CtHA97Ma.js";import"./index-CO9hoYs6.js";import"./check-DzdilCLx.js";import"./createLucideIcon-BZHwJ_Ns.js";import"./index-DadmCbDz.js";import"./index-BA9qgrdh.js";import"./index-D9NnzX5f.js";import"./Combination-C8-sQI5E.js";import"./tslib.es6-CmEaCU22.js";import"./index-ONskwyIA.js";import"./floating-ui.dom-eiE65J5j.js";import"./chevron-down-DWq6ukzU.js";import"./chevron-up-SH7aGQ9b.js";function Ce({activeTab:N,filters:l,onFilterChange:t,onReset:G,allUniversities:D,malaysianStates:F,mockResearchers:b=[],onResearcherSelect:P,onTabChange:I,networkTypes:f,setNetworkTypes:S,onClearMapData:h}){const[j,w]=g.useState(""),[o,p]=g.useState(""),[u,x]=g.useState(""),v=(s,R)=>{t({[s]:R})},V=()=>{w(""),p(""),x(""),h==null||h()},U=o?Array.from(new Set(b.filter(s=>s.university===o).map(s=>s.department))):[],y=b.filter(s=>!(o&&s.university!==o||u&&s.department!==u||j&&!s.name.toLowerCase().includes(j.toLowerCase()))),L=["Environmental","Agriculture","Education","Energy","Cultural","Healthcare","Economic","Technology"],B=["Education","Technology","Healthcare","Agriculture","Energy","Environmental","Finance","Tourism","Manufacturing","Cultural"];return e.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"w-80 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"p-4 pb-0",children:e.jsxs(C,{variant:"ghost",onClick:()=>H.visit("/dashboard"),className:"w-full justify-start gap-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx(q,{className:"w-4 h-4"}),"Back to Dashboard"]})}),e.jsx("div",{className:"p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:e.jsx(Q,{value:N,onValueChange:s=>I(s),className:"w-full",children:e.jsxs(J,{className:"w-full h-auto grid grid-cols-2 bg-gray-100 dark:bg-gray-900 p-1",children:[e.jsx(T,{value:"overview",className:"text-xs py-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm",children:"📍 Overview"}),e.jsx(T,{value:"network",className:"text-xs py-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm",children:"🔗 Network"})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:N==="overview"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Map Layers"})]}),e.jsxs("div",{className:"space-y-3 pb-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"show-universities",checked:l.showUniversities,onCheckedChange:s=>v("showUniversities",s)}),e.jsxs(a,{htmlFor:"show-universities",className:"flex items-center gap-2 cursor-pointer text-sm",children:[e.jsx(A,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Universities"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"show-projects",checked:l.showProjects,onCheckedChange:s=>v("showProjects",s)}),e.jsxs(a,{htmlFor:"show-projects",className:"flex items-center gap-2 cursor-pointer text-sm",children:[e.jsx(K,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{children:"Community Projects"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"show-industry",checked:l.showIndustry,onCheckedChange:s=>v("showIndustry",s)}),e.jsxs(a,{htmlFor:"show-industry",className:"flex items-center gap-2 cursor-pointer text-sm",children:[e.jsx(A,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Industry Partners"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"search",className:"text-sm",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),e.jsx(k,{id:"search",placeholder:"University, project, or industry...",value:l.search,onChange:s=>t({search:s.target.value}),className:"pl-9"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"state",className:"text-sm",children:"State"}),e.jsxs(i,{value:l.state||"",onValueChange:s=>t({state:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All States"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All States"}),F.map(s=>e.jsx(r,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"type",className:"text-sm",children:"Project Type"}),e.jsxs(i,{value:l.type||"",onValueChange:s=>t({type:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Types"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Types"}),L.map(s=>e.jsx(r,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"industry-sector",className:"text-sm",children:"Industry Sector"}),e.jsxs(i,{value:l.industrySector||"",onValueChange:s=>t({industrySector:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Sectors"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Sectors"}),B.map(s=>e.jsx(r,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"partnership-type",className:"text-sm",children:"Partnership Type"}),e.jsxs(i,{value:l.partnershipType||"",onValueChange:s=>t({partnershipType:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Types"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Types"}),e.jsx(r,{value:"funding",children:"Funding"}),e.jsx(r,{value:"joint-lab",children:"Joint Lab"}),e.jsx(r,{value:"internship",children:"Internship/Training"}),e.jsx(r,{value:"community",children:"Community Projects"}),e.jsx(r,{value:"research-grants",children:"Research Grants"}),e.jsx(r,{value:"pilot",children:"Pilot Projects"}),e.jsx(r,{value:"tech-transfer",children:"Technology Transfer"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"department",className:"text-sm",children:"Department"}),e.jsxs(i,{value:l.department||"",onValueChange:s=>t({department:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Departments"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Departments"}),e.jsx(r,{value:"Computer Science",children:"Computer Science"}),e.jsx(r,{value:"Electrical Engineering",children:"Electrical Engineering"}),e.jsx(r,{value:"Civil Engineering",children:"Civil Engineering"}),e.jsx(r,{value:"Mechanical Engineering",children:"Mechanical Engineering"}),e.jsx(r,{value:"Biotechnology",children:"Biotechnology"}),e.jsx(r,{value:"Environmental Science",children:"Environmental Science"}),e.jsx(r,{value:"Marine Science",children:"Marine Science"}),e.jsx(r,{value:"Information Technology",children:"Information Technology"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"collaboration-type",className:"text-sm",children:"Collaboration Type"}),e.jsxs(i,{value:l.collaborationType||"",onValueChange:s=>t({collaborationType:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Types"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Types"}),e.jsx(r,{value:"intra",children:"Intra-University"}),e.jsx(r,{value:"inter",children:"Inter-University"}),e.jsx(r,{value:"international",children:"International"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"project-category",className:"text-sm",children:"Project Category"}),e.jsxs(i,{value:l.projectCategory||"",onValueChange:s=>t({projectCategory:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Categories"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Categories"}),e.jsx(r,{value:"community",children:"Community"}),e.jsx(r,{value:"lab",children:"Lab Extension"}),e.jsx(r,{value:"pilot",children:"Pilot Site"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"project-status",className:"text-sm",children:"Project Status"}),e.jsxs(i,{value:l.projectStatus||"",onValueChange:s=>t({projectStatus:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Status"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Status"}),e.jsx(r,{value:"Active",children:"Active"}),e.jsx(r,{value:"Completed",children:"Completed"}),e.jsx(r,{value:"Planning",children:"Planning"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"sdg-tags",className:"text-sm",children:"SDG Tags"}),e.jsxs(i,{value:l.sdgTags||"",onValueChange:s=>t({sdgTags:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All SDGs"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All SDGs"}),e.jsx(r,{value:"SDG 3",children:"SDG 3: Health"}),e.jsx(r,{value:"SDG 4",children:"SDG 4: Quality Education"}),e.jsx(r,{value:"SDG 7",children:"SDG 7: Clean Energy"}),e.jsx(r,{value:"SDG 9",children:"SDG 9: Innovation"}),e.jsx(r,{value:"SDG 11",children:"SDG 11: Sustainable Cities"}),e.jsx(r,{value:"SDG 13",children:"SDG 13: Climate Action"}),e.jsx(r,{value:"SDG 15",children:"SDG 15: Life on Land"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"funding-type",className:"text-sm",children:"Funding Type"}),e.jsxs(i,{value:l.fundingType||"",onValueChange:s=>t({fundingType:s==="all"?"":s}),children:[e.jsx(c,{children:e.jsx(n,{placeholder:"All Types"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Types"}),e.jsx(r,{value:"internal",children:"Internal"}),e.jsx(r,{value:"government",children:"Government"}),e.jsx(r,{value:"industry",children:"Industry"}),e.jsx(r,{value:"international",children:"International"})]})]})]}),e.jsx(C,{variant:"outline",className:"w-full",onClick:G,children:"Reset Filters"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Researcher Search"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"selected-university",className:"text-sm",children:"University"}),e.jsxs(i,{value:o,onValueChange:s=>{s==="all"||s===""?(p(""),x(""),h==null||h()):(p(s),x(""))},children:[e.jsx(c,{children:e.jsx(n,{placeholder:"Select University"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Universities"}),D.map(s=>e.jsx(r,{value:s.shortName,children:s.shortName},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"selected-department",className:"text-sm",children:"Department"}),e.jsxs(i,{value:u,onValueChange:s=>{x(s==="all"||s===""?"":s)},disabled:!o,children:[e.jsx(c,{children:e.jsx(n,{placeholder:o?"Select Department":"Select university first"})}),e.jsxs(d,{children:[e.jsx(r,{value:"all",children:"All Departments"}),U.map(s=>e.jsx(r,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"search-researcher",className:"text-sm",children:"Search Researcher"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),e.jsx(k,{id:"search-researcher",placeholder:"Search by name...",value:j,onChange:s=>w(s.target.value),className:"pl-9"})]})]}),j&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:["Researchers (",y.length,")"]}),e.jsx("button",{onClick:V,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Clear filters"})]}),e.jsx("div",{className:"space-y-1 max-h-[400px] overflow-y-auto",children:y.length>0?y.map(s=>e.jsxs("button",{onClick:()=>{P(s.id)},className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[s.department," • ",s.university]})]},s.id)):e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 text-center py-8 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg",children:"No researchers found with current filters"})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic mt-3",children:"Select a researcher to view their network"})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Network Type"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"paper-network",checked:f.papers,onCheckedChange:()=>S(s=>({...s,papers:!s.papers}))}),e.jsxs(a,{htmlFor:"paper-network",className:"flex items-center gap-2 cursor-pointer text-sm",children:[e.jsx("div",{className:"w-6 h-0.5 bg-blue-500"}),e.jsx("span",{children:"Paper Collaboration"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"project-network",checked:f.projects,onCheckedChange:()=>S(s=>({...s,projects:!s.projects}))}),e.jsxs(a,{htmlFor:"project-network",className:"flex items-center gap-2 cursor-pointer text-sm",children:[e.jsx("div",{className:"w-6 h-0.5 bg-green-500"}),e.jsx("span",{children:"Project Collaboration"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic mt-4",children:"💡 More filters coming in Phase 2"})]})]})})]})}export{Ce as default};
