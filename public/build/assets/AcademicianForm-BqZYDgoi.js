import{q as pe,W as xe,r as i,b as _,j as e}from"./app-BEZ7ddVX.js";import{T as p,I as h}from"./TextInput-D3aP1mR7.js";import{I as m}from"./InputLabel-Cpp7emNY.js";import{P as fe}from"./PrimaryButton-N--B47Eh.js";import{S as W}from"./react-select.esm-CcI930mO.js";import be from"./CVPreviewModal-DqbV82Qw.js";import{z as j}from"./transition-x2y6crlv.js";function ke({className:O="",researchOptions:T,aiGenerationInProgress:w,aiGenerationMethod:G,generatedProfileData:n}){var q;const t=pe().props.academician,{data:a,setData:o,post:y,errors:d,processing:H,recentlySuccessful:J}=xe({phone_number:(t==null?void 0:t.phone_number)||"",full_name:(t==null?void 0:t.full_name)||"",profile_picture:(t==null?void 0:t.profile_picture)||"",research_expertise:typeof(t==null?void 0:t.research_expertise)=="string"?JSON.parse(t==null?void 0:t.research_expertise):t==null?void 0:t.research_expertise,field_of_study:(t==null?void 0:t.field_of_study)||"",highest_degree:(t==null?void 0:t.highest_degree)||"",website:(t==null?void 0:t.website)||"",linkedin:(t==null?void 0:t.linkedin)||"",google_scholar:(t==null?void 0:t.google_scholar)||"",researchgate:(t==null?void 0:t.researchgate)||"",bio:(t==null?void 0:t.bio)||"",current_position:(t==null?void 0:t.current_position)||"",department:(t==null?void 0:t.department)||"",availability_as_supervisor:(t==null?void 0:t.availability_as_supervisor)||!1,style_of_supervision:(t==null?void 0:t.style_of_supervision)||"",background_image:(t==null?void 0:t.background_image)||""}),[D,N]=i.useState(!1),[b,Y]=i.useState("auto"),[v,A]=i.useState([""]),[x,f]=i.useState(!1),[K,S]=i.useState(!1),[L,k]=i.useState(!1),[R,I]=i.useState(!1),[C,P]=i.useState(!1),[c,Q]=i.useState(null),[X,Z]=i.useState(null),[U,ee]=i.useState(!1),g=i.useRef(!1);i.useEffect(()=>{n&&!g.current&&(console.log("Applying generated profile data:",n),o(s=>({...s,full_name:a.full_name,phone_number:n.phone_number||s.phone_number,bio:n.bio||s.bio,current_position:n.current_position||s.current_position,department:n.department||s.department,highest_degree:n.highest_degree||s.highest_degree,field_of_study:n.field_of_study||s.field_of_study,research_expertise:n.research_expertise||s.research_expertise})),g.current=!0,window._profileSuccessShown||(window._profileSuccessShown=!0,alert("Profile successfully generated! Please review and save the changes.")))},[n]),i.useEffect(()=>{if(console.log("Checking if automatic generation should be triggered:",{aiGenerationInProgress:w,aiGenerationMethod:G,generationTriggeredRef:g.current,isGenerating:x,generatedProfileData:!!n,location:window.location.href}),n){console.log("Generated profile data already available, skipping generation");return}if(w&&!g.current&&!x){console.log("Generation in progress, checking status"),E();return}},[w,G,x,n]);const E=()=>{g.current||(f(!0),_.get(route("ai.status")).then(s=>{s.data.status==="in_progress"?setTimeout(E,3e3):s.data.status==="error"?(f(!1),alert("Profile generation failed: "+s.data.message)):(f(!1),s.data&&(o(r=>({...r,full_name:a.full_name,phone_number:s.data.phone_number||r.phone_number,bio:s.data.bio||r.bio,current_position:s.data.current_position||r.current_position,department:s.data.department||r.department,highest_degree:s.data.highest_degree||r.highest_degree,field_of_study:s.data.field_of_study||r.field_of_study,research_expertise:s.data.research_expertise||r.research_expertise})),g.current=!0,window._profileSuccessShown||(window._profileSuccessShown=!0,alert("Profile successfully generated! Please review and save the changes."))))}).catch(s=>{console.error("Error checking generation status:",s),f(!1)}))};i.useEffect(()=>{a.google_scholar&&z()},[a.google_scholar]);const z=()=>{_.get("/api/scholar/status").then(s=>{s.data.success&&(Q(s.data),ee(s.data.can_update),s.data.profile&&Z(s.data.profile.last_updated_human))}).catch(s=>{console.error("Error fetching Google Scholar status:",s)})},se=()=>{if(!a.google_scholar){alert("Please add your Google Scholar URL first.");return}P(!0),_.post("/api/scholar/scrape").then(s=>{P(!1),s.data.success?(alert(s.data.message),z()):alert(s.data.message||"Failed to update Google Scholar profile.")}).catch(s=>{var r,l;P(!1),console.error("Error scraping Google Scholar:",s),alert(((l=(r=s.response)==null?void 0:r.data)==null?void 0:l.message)||"An error occurred while updating your Google Scholar profile.")})},te=(s,r)=>{const l=[...v];l[s]=r,A(l)},re=()=>{A([...v,""])},ae=()=>{if(x){console.log("Generation already in progress",{isGenerating:x});return}if(g.current){console.log("Generation has already been triggered and completed");return}console.log("Starting profile generation with mode:",b),g.current=!0,N(!1),f(!0),window._profileSuccessShown=!1;const s=b==="url"?v.filter(r=>r.trim()!=="").length>0?v:[a.website,a.linkedin,a.google_scholar,a.researchgate].filter(r=>r&&r.trim()!==""):[];console.log("Sending profile generation request with:",{mode:b,urls:s}),_.post(route("academician.generateProfile"),{mode:b,urls:s}).then(r=>{console.log("Profile generation successful:",r.data);const l=r.data;o(u=>({...u,full_name:a.full_name,bio:l.bio||u.bio,current_position:l.current_position||u.current_position,department:l.department||u.department,highest_degree:l.highest_degree||u.highest_degree,field_of_study:l.field_of_study||u.field_of_study,research_expertise:l.research_expertise||u.research_expertise,website:a.website,linkedin:a.linkedin,google_scholar:a.google_scholar,researchgate:a.researchgate})),f(!1),window._profileSuccessShown||(window._profileSuccessShown=!0,alert("Profile successfully generated! Please review and save the changes."))}).catch(r=>{var l;console.error("Profile generation failed:",((l=r.response)==null?void 0:l.data)||r.message||r),alert("Profile generation failed, please try again."),f(!1),g.current=!1})},le=s=>{if(s.preventDefault(),!a.profile_picture){alert("Please select a profile picture.");return}const r=new FormData;r.append("profile_picture",a.profile_picture),y(route("role.updateProfilePicture"),{data:r,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{alert("Profile picture updated successfully."),$(),window.location.reload()},onError:l=>{console.error("Error updating profile picture:",l),alert("Failed to update the profile picture. Please try again.")}})},oe=s=>{if(s.preventDefault(),!a.background_image){alert("Please select a background image.");return}const r=new FormData;r.append("background_image",a.background_image),y(route("role.updateBackgroundImage"),{data:r,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{alert("Background image updated successfully."),F(!1),window.location.reload()},onError:l=>{console.error("Error updating background image:",l),alert("Failed to update the background image. Please try again.")}})},ie=s=>{s.preventDefault();const r=new FormData;Object.keys(a).forEach(l=>{l!=="profile_picture"&&(l==="research_expertise"?r.append(l,JSON.stringify(a[l])):l==="availability_as_supervisor"?r.append(l,a[l]===!0?1:0):Array.isArray(a[l])?r.append(l,JSON.stringify(a[l])):r.append(l,a[l]))}),y(route("role.update"),{data:r,onSuccess:()=>{alert("Profile updated successfully.")},onError:l=>{console.error("Error updating profile:",l),alert("Failed to update the profile. Please try again.")}})},[ne,B]=i.useState(!1),de=()=>B(!0),$=()=>B(!1),[ce,F]=i.useState(!1),[M,ue]=i.useState("profiles"),he=s=>{k(!0),_.post(route("role.generateCV"),{customized_cv:s},{responseType:"blob"}).then(r=>{const l=window.URL.createObjectURL(new Blob([r.data])),u=document.createElement("a");u.href=l,u.setAttribute("download","cv.docx"),document.body.appendChild(u),u.click(),u.remove(),k(!1),S(!1)}).catch(r=>{console.error("CV generation failed:",r),alert("Failed to generate CV. Please try again."),k(!1)})},me=()=>{I(!1),S(!0)},ge=()=>{g.current=!1},V=()=>{ge(),N(!0)};return e.jsxs("div",{className:"pb-8",children:[e.jsxs("div",{className:"w-full bg-white pb-12 shadow-md relative mb-4",children:[e.jsxs("div",{className:"relative w-full h-48 overflow-hidden",children:[e.jsx("img",{src:`/storage/${a.background_image||"default-background.jpg"}`,alt:"Background",className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>F(!0),className:"absolute top-4 right-4 bg-blue-500 p-2 rounded-full shadow-lg text-white hover:bg-blue-600","aria-label":"Edit Background Image",children:"✏️"})]}),e.jsxs("div",{className:"relative flex flex-col items-center -mt-16 z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`/storage/${a.profile_picture||"default-profile.jpg"}`,alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover"}),e.jsx("button",{onClick:de,className:"absolute bottom-0 right-0 bg-blue-500 p-2 rounded-full shadow-lg text-white hover:bg-blue-600","aria-label":"Edit Profile Picture",children:"✏️"})]}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:a.full_name}),a.highest_degree&&e.jsxs("p",{className:"text-gray-500",children:[a.highest_degree," in ",a.field_of_study]}),e.jsx("p",{className:"text-gray-500",children:a.current_position})]})]})]}),ce&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-lg",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Update Background Image"}),e.jsxs("form",{onSubmit:oe,children:[e.jsx("input",{type:"file",accept:"image/*",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",onChange:s=>o("background_image",s.target.files[0])}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-2",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})}),ne&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-lg",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Update Profile Picture"}),e.jsxs("form",{onSubmit:le,children:[e.jsx("input",{type:"file",accept:"image/*",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",onChange:s=>o("profile_picture",s.target.files[0])}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 mr-2",children:"Save"}),e.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-8xl mx-auto flex space-x-8 px-4 sm:px-6",children:["Profiles"].map(s=>e.jsx("button",{className:`py-4 px-3 font-medium text-sm ${M.toLowerCase()===s.toLowerCase()?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>ue(s.toLowerCase()),children:s},s))})}),x&&e.jsx(j,{show:x,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("p",{className:"text-lg font-medium",children:"Generating profile, please wait..."}),e.jsxs("svg",{className:"animate-spin h-8 w-8 mt-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})]})})}),e.jsx(j,{show:D,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:()=>N(!1),children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Generation Method"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Choose method:"}),e.jsxs("select",{className:"block w-full border-gray-300 rounded-md shadow-sm",value:b,onChange:s=>Y(s.target.value),children:[e.jsx("option",{value:"auto",children:"Auto search from Internet"}),e.jsx("option",{value:"url",children:"Use my provided URL(s)"})]})]}),b==="url"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"The system will use the Website, LinkedIn, Google Scholar, and ResearchGate fields from your profile. You can also add extra URL(s) below if you wish."}),v.map((s,r)=>e.jsx("input",{type:"text",className:"block w-full border-gray-300 rounded-md shadow-sm p-2 mb-2",value:s,onChange:l=>te(r,l.target.value),placeholder:"https://example.com/extra-info"},r)),e.jsx("button",{type:"button",onClick:re,className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-800",children:"Add URL"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:ae,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-800",children:"Submit"})})]})})}),e.jsxs("div",{className:"w-full px-4 py-8",children:[M==="profiles"&&e.jsxs("section",{className:O,children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your personal information."})]}),e.jsx("div",{className:"hidden sm:flex space-x-2 absolute top-0 right-0 mt-2 mr-2",children:e.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-800",children:"AI Generated Profile"})}),e.jsx("div",{className:"sm:hidden mt-4",children:e.jsx("button",{type:"button",onClick:V,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-800",children:"AI Generated Profile"})})]}),e.jsxs("form",{onSubmit:ie,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"full_name",value:"Full Name (Without Salutation)",required:!0}),e.jsx(p,{id:"full_name",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.full_name,onChange:s=>o("full_name",s.target.value),required:!0,isFocused:!0,autoComplete:"full_name"}),e.jsx(h,{className:"mt-2",message:d.full_name})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"phone_number",value:"Phone Number",required:!0}),e.jsx(p,{id:"phone_number",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.phone_number,onChange:s=>o("phone_number",s.target.value),autoComplete:"tel"}),e.jsx(h,{className:"mt-2",message:d.phone_number})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"highest_degree",value:"Highest Degree",required:!0}),e.jsxs("select",{id:"highest_degree",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.highest_degree||"",onChange:s=>o("highest_degree",s.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select your Highest Degree"}),e.jsx("option",{value:"Certificate",children:"Certificate"}),e.jsx("option",{value:"Diploma",children:"Diploma"}),e.jsx("option",{value:"Bachelor's Degree",children:"Bachelor's Degree"}),e.jsx("option",{value:"Master's Degree",children:"Master's Degree"}),e.jsx("option",{value:"Ph.D.",children:"Ph.D."}),e.jsx("option",{value:"Postdoctoral",children:"Postdoctoral"})]}),e.jsx(h,{className:"mt-2",message:d.highest_degree})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"field_of_study",value:"Field of Study",required:!0}),e.jsx(p,{id:"field_of_study",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.field_of_study,onChange:s=>o("field_of_study",s.target.value)}),e.jsx(h,{className:"mt-2",message:d.field_of_study})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"bio",value:"Short Bio"}),e.jsx("textarea",{id:"bio",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.bio,onChange:s=>o("bio",s.target.value),rows:4}),e.jsx(h,{className:"mt-2",message:d.bio})]})}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"research_expertise",className:"block text-sm font-medium text-gray-700",children:"Field of Research (Multiple Selection) Structure : Field of Research - Research Area - Niche Domain"}),e.jsx(W,{id:"research_expertise",isMulti:!0,options:T.map(s=>({value:`${s.field_of_research_id}-${s.research_area_id}-${s.niche_domain_id}`,label:`${s.field_of_research_name} - ${s.research_area_name} - ${s.niche_domain_name}`})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",classNamePrefix:"select",menuPortalTarget:document.body,styles:{valueContainer:s=>({...s,maxWidth:"100%"}),multiValueLabel:s=>({...s,maxWidth:250,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),menuPortal:s=>({...s,zIndex:9999})},value:(q=a.research_expertise)==null?void 0:q.map(s=>{const r=T.find(l=>`${l.field_of_research_id}-${l.research_area_id}-${l.niche_domain_id}`===s);return{value:s,label:r?`${r.field_of_research_name} - ${r.research_area_name} - ${r.niche_domain_name}`:s}}),onChange:s=>{const r=s.map(l=>l.value);o("research_expertise",r)},placeholder:"Select field of research..."})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"current_position",value:"Current Position",required:!0}),e.jsxs("select",{id:"current_position",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.current_position,onChange:s=>o("current_position",s.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Position"}),e.jsx("option",{value:"Lecturer",children:"Lecturer"}),e.jsx("option",{value:"Senior Lecturer",children:"Senior Lecturer"}),e.jsx("option",{value:"Assoc. Prof.",children:"Associate Professor"}),e.jsx("option",{value:"Professor",children:"Professor"}),e.jsx("option",{value:"Postdoctoral Researcher",children:"Postdoctoral Researcher"}),e.jsx("option",{value:"Researcher",children:"Researcher"})]}),e.jsx(h,{className:"mt-2",message:d.current_position})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"department",value:"Department",required:!0}),e.jsx(p,{id:"department",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.department,onChange:s=>o("department",s.target.value)}),e.jsx(h,{className:"mt-2",message:d.department})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(m,{htmlFor:"availability_as_supervisor",value:"Availability as Supervisor",required:!0}),e.jsxs("select",{id:"availability_as_supervisor",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.availability_as_supervisor?"true":"false",onChange:s=>o("availability_as_supervisor",s.target.value==="true"),children:[e.jsx("option",{value:"true",children:"Available"}),e.jsx("option",{value:"false",children:"Not Available"})]}),e.jsx(h,{className:"mt-2",message:d.availability_as_supervisor})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{htmlFor:"style_of_supervision",value:"Style of Supervision"}),e.jsxs("div",{className:"group relative",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-gray-500 hover:text-gray-700 cursor-help",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),e.jsxs("div",{className:"absolute left-0 w-80 p-4 bg-gray-800 text-white text-sm rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 -translate-x-1/2 translate-y-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Directive:"})," Structured approach with active guidance and regular monitoring"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Facilitative:"})," Supportive approach encouraging student independence"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Coaching:"})," Focuses on personal development and academic growth"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Adaptive:"})," Flexible support based on student's changing needs"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Participatory:"})," Collaborative approach with shared decision-making"]})]}),e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2",children:e.jsx("div",{className:"border-8 border-transparent border-b-gray-800"})})]})]})]}),e.jsx(W,{id:"style_of_supervision",isMulti:!0,options:[{value:"Directive Supervision",label:"Directive Supervision"},{value:"Facilitative Supervision",label:"Facilitative Supervision"},{value:"Coaching Supervision",label:"Coaching Supervision"},{value:"Adaptive Supervision",label:"Adaptive Supervision"},{value:"Participatory Supervision",label:"Participatory Supervision"}],className:"mt-1 block w-full",classNamePrefix:"select",value:Array.isArray(a.style_of_supervision)?a.style_of_supervision.map(s=>({value:s,label:s})):[],onChange:s=>{const r=s?s.map(l=>l.value):[];o("style_of_supervision",r)},menuPortalTarget:document.body,styles:{menuPortal:s=>({...s,zIndex:9999})}}),e.jsx(h,{className:"mt-2",message:d.style_of_supervision})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"website",value:"Website (Personal or Work)"}),e.jsx(p,{id:"website",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.website,onChange:s=>o("website",s.target.value),autoComplete:"url"}),e.jsx(h,{className:"mt-2",message:d.website})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"linkedin",value:"LinkedIn"}),e.jsx(p,{id:"linkedin",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.linkedin,onChange:s=>o("linkedin",s.target.value),autoComplete:"url"}),e.jsx(h,{className:"mt-2",message:d.linkedin})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"google_scholar",value:"Google Scholar"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(p,{id:"google_scholar",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.google_scholar,onChange:s=>o("google_scholar",s.target.value),autoComplete:"url"}),e.jsx(h,{className:"mt-2",message:d.google_scholar}),a.google_scholar&&e.jsxs("div",{className:"flex flex-col space-y-2 mt-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:se,disabled:C||!U,className:`px-3 py-1 text-sm rounded ${C||!U?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-700"}`,children:C?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Updating..."]}):"Update Google Scholar Data"}),c&&c.profile&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Last updated: ",X||"Never"]})]}),c&&c.profile&&e.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded",children:[e.jsx("div",{className:"font-semibold",children:"Profile Stats:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[e.jsxs("div",{children:["Citations: ",c.profile.citations]}),e.jsxs("div",{children:["h-index: ",c.profile.h_index]}),e.jsxs("div",{children:["i10-index: ",c.profile.i10_index]})]}),e.jsxs("div",{className:"mt-1",children:["Publications: ",c.publication_count]})]}),c&&!c.can_update&&c.latest_scraping&&e.jsx("div",{className:"text-xs text-amber-600",children:c.latest_scraping.status==="success"?"Profile was recently updated. Please wait before updating again.":c.latest_scraping.message})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"researchgate",value:"ResearchGate"}),e.jsx(p,{id:"researchgate",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:a.researchgate,onChange:s=>o("researchgate",s.target.value),autoComplete:"url"}),e.jsx(h,{className:"mt-2",message:d.researchgate})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(fe,{disabled:H,children:"Save"}),e.jsx(j,{show:J,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]}),M==="projects"&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"})]}),K&&e.jsx(be,{onClose:()=>S(!1),onDownload:he}),L&&e.jsx(j,{show:L,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center",children:[e.jsx("p",{className:"text-lg font-medium",children:"Downloading CV, please wait..."}),e.jsxs("svg",{className:"animate-spin h-8 w-8 mt-4 text-blue-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})]})})}),R&&e.jsx(j,{show:R,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reminder"}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:'The "Generate CV" feature requires that your Website and Google Scholar fields are filled so that the system can extract data from those URLs.'}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>I(!1),className:"mr-2 px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{onClick:me,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-700",children:"Proceed"})]})]})})})]})}export{ke as default};
