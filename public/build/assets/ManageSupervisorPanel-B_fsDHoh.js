import{r as b,j as e}from"./app-BfGWvB7w.js";import{C as n,a as u,b as f,c as j,d as h}from"./card-D-wjmK2K.js";import{B as m}from"./badge-CZPp8yh3.js";import{B as d}from"./button-Cq3fupve.js";import{A as w,a as p}from"./avatar-DBW4jV_K.js";import{S as C}from"./separator-BtMPuOoi.js";import{U as k}from"./user-round-RE_N2eX7.js";import{c as y}from"./createLucideIcon-Czp2GFly.js";import{M as i}from"./message-circle-CqMKxsYR.js";import{C as o}from"./calendar-clock-DZUDxLpr.js";import{E as _}from"./external-link-3EsMfOIN.js";import"./utils-CIsb_jhR.js";import"./clsx-B-dksMZM.js";import"./index-Dp3B9jqt.js";import"./index-YHrrFQIB.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M15.6 2.7a10 10 0 1 0 5.7 5.7",key:"1e0p6d"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M13.4 10.6 19 5",key:"1kr7tw"}]],S=y("CircleGauge",A);function z({relationships:s=[],reload:a,onOpenDetail:r,onOpenMeetings:t}){const l=b.useMemo(()=>Array.isArray(s)?s.filter(c=>c.status==="active"):[],[s]);return l.length?e.jsx("div",{className:"space-y-4",children:l.map(c=>e.jsx(B,{relationship:c,onOpenDetail:r,onOpenMeetings:t,reload:a},c.id))}):e.jsxs(n,{className:"border-dashed border-slate-200",children:[e.jsx(u,{children:e.jsx(f,{className:"text-lg font-semibold text-slate-800",children:"You do not have an active supervisor yet"})}),e.jsx(j,{className:"text-sm text-slate-600",children:"Once a supervisor accepts your proposal, their details will appear here and the management tools will unlock."})]})}function B({relationship:s,onOpenDetail:a,onOpenMeetings:r}){const t=(s==null?void 0:s.academician)??{},l=t.profile_picture?`/storage/${t.profile_picture}`:null,c=t.full_name??"Supervisor",v=(s==null?void 0:s.role)==="main"?"Main Supervisor":"Co-supervisor",g=(s==null?void 0:s.meeting_cadence)??"No meeting cadence set",N=s==null?void 0:s.scholarlab_board_id;return e.jsxs(n,{className:"shadow-sm lg:grid lg:grid-cols-[2fr_1fr] lg:gap-6",children:[e.jsx(u,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(w,{className:"h-14 w-14",children:l?e.jsx("img",{src:l,alt:c,className:"h-full w-full object-cover"}):e.jsx(p,{className:"bg-indigo-50 text-indigo-600",children:e.jsx(k,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(f,{className:"text-xl font-semibold text-slate-900",children:c}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[e.jsx(m,{variant:"outline",className:"border-indigo-200 text-indigo-600",children:v}),(s==null?void 0:s.accepted_at)&&e.jsxs(m,{variant:"outline",className:"border-slate-200 text-slate-600",children:["Accepted ",new Date(s.accepted_at).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(d,{variant:"outline",onClick:()=>a==null?void 0:a({...s,preferred_tab:"overview"}),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"View overview"]})})]})}),e.jsxs(j,{className:"space-y-4 text-sm text-slate-600",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(x,{icon:i,label:"Conversation",value:"Open the messaging tab to continue your discussions."}),e.jsx(x,{icon:o,label:"Meeting cadence",value:g})]}),N&&e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-800",children:"ScholarLab workspace"}),e.jsx("p",{className:"text-xs text-slate-500",children:"A collaborative board was created for this supervision. Use it to track milestones and meetings."})]}),e.jsxs(d,{variant:"link",className:"text-indigo-600",onClick:()=>a==null?void 0:a({...s,preferred_tab:"scholarlab"}),children:["Open board",e.jsx(_,{className:"ml-2 h-4 w-4"})]})]})]}),e.jsxs(h,{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:[e.jsxs(d,{variant:"outline",onClick:()=>a==null?void 0:a({...s,preferred_tab:"chat"}),children:[e.jsx(i,{className:"mr-2 h-4 w-4"}),"Open chat"]}),e.jsxs(d,{onClick:()=>r==null?void 0:r({...s,preferred_tab:"meetings"}),children:[e.jsx(o,{className:"mr-2 h-4 w-4"}),"View meetings"]})]}),e.jsx(C,{className:"hidden lg:block",orientation:"vertical"})]})}function x({icon:s,label:a,value:r}){return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(s,{className:"mt-0.5 h-4 w-4 text-slate-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:a}),e.jsx("div",{className:"text-sm text-slate-700",children:r})]})]})}export{z as default};
