import{W as B,r as a,j as e,Y as H,b as W}from"./app-iMgHp_eS.js";import{I as n,a as i}from"./InputError-BMVSv-U-.js";import{P as N}from"./PrimaryButton-DP4M3mkB.js";import{T as c}from"./TextInput-PMIHhHcg.js";import{M as D}from"./Modal-CtrNcR4a.js";import"./index---wvTow-.js";import{F as G}from"./index-BUhZSn-9.js";import{E as C}from"./eye-ZibFgNRD.js";import{E as k}from"./eye-off-BASHMR4U.js";import"./dialog-tgbUGkxp.js";import"./transition-GCCCemnQ.js";import"./index-CPRTWrZv.js";import"./iconBase-DNAnfLIv.js";import"./createLucideIcon-BXdi-pyk.js";function ae(){const{data:r,setData:o,post:S,processing:g,errors:l,reset:$}=B({name:"",email:"",password:"",password_confirmation:""}),[m,P]=a.useState(!1),[d,M]=a.useState(!1),[x,I]=a.useState(!1),[h,f]=a.useState(!1),[t,u]=a.useState("terms"),[y,E]=a.useState(""),[b,F]=a.useState(""),[_,j]=a.useState(!1),L=s=>{s.preventDefault(),S(route("register"),{onFinish:()=>$("password","password_confirmation")})},w=s=>{u(s),f(!0)},v=()=>{f(!1)};a.useEffect(()=>{if(h){const s=t==="terms"?y:b,A=t==="terms"?"api.legal.terms":"api.legal.privacy",q=t==="terms"?E:F;s||(j(!0),window.axios.get(route(A)).then(p=>{q(p.data.content)}).catch(p=>console.error(`Failed to fetch ${t} content`,p)).finally(()=>j(!1)))}},[h,t]);const T=s=>s?s.replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">$1</h1>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold text-gray-900 mt-4 mb-4">$1</h2>').replace(/^### (.*$)/gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">$1</h3>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-indigo-600 hover:text-indigo-800 underline">$1</a>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/(<h[1-3][^>]*>.*?<\/h[1-3]>)\s*\n/g,"$1").replace(/\n(?=## )/g,"").replace(/\n(?=### )/g,"").replace(/\n(?=# )/g,"").replace(/\n/g,"<br />"):"";return e.jsxs("section",{className:"bg-white",children:[e.jsx(H,{title:"Register"}),e.jsxs("div",{className:"lg:grid lg:min-h-screen lg:grid-cols-12",children:[e.jsxs("section",{className:"relative flex h-32 items-end bg-gray-900 lg:col-span-5 lg:h-full xl:col-span-6",children:[e.jsx("img",{alt:"Background",src:"https://images.unsplash.com/photo-1617195737496-bc30194e3a19?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80",className:"absolute inset-0 h-full w-full object-cover opacity-80"}),e.jsxs("div",{className:"hidden lg:relative lg:block lg:p-12",children:[e.jsx("h2",{className:"mt-6 text-2xl font-bold text-white sm:text-3xl md:text-4xl",children:"Welcome to NexScholar"}),e.jsx("p",{className:"mt-4 leading-relaxed text-white/90",children:"Empower your learning journey and achieve more with us."})]})]}),e.jsx("main",{className:"flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-7 lg:px-16 lg:py-12 xl:col-span-6",children:e.jsxs("div",{className:"max-w-xl lg:max-w-3xl",children:[e.jsx("h1",{className:"text-2xl font-bold sm:text-3xl text-center",children:"Create an Account"}),e.jsx("p",{className:"mt-4 text-gray-500 text-center",children:"Start your journey with NexScholar by creating your account below."}),e.jsxs("form",{onSubmit:L,className:"mt-8 grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6",children:[e.jsx(n,{htmlFor:"name",value:"Username"}),e.jsx(c,{id:"name",name:"name",value:r.name,className:"mt-1 w-full rounded-md border-gray-200 shadow-sm",onChange:s=>o("name",s.target.value),autoFocus:!0,required:!0}),e.jsx(i,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx(n,{htmlFor:"email",value:"Email"}),e.jsx(c,{id:"email",type:"email",name:"email",value:r.email,className:"mt-1 w-full rounded-md border-gray-200 shadow-sm",onChange:s=>o("email",s.target.value),required:!0}),e.jsx(i,{message:l.email,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx(n,{htmlFor:"password",value:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"password",type:d?"text":"password",name:"password",value:r.password,className:"mt-1 w-full rounded-md border-gray-200 shadow-sm pr-12",onChange:s=>o("password",s.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>M(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-gray-500 hover:text-gray-700 transition-colors rounded-md hover:bg-gray-100",tabIndex:-1,children:d?e.jsx(C,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"})})]}),e.jsx(i,{message:l.password,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx(n,{htmlFor:"password_confirmation",value:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"password_confirmation",type:x?"text":"password",name:"password_confirmation",value:r.password_confirmation,className:"mt-1 w-full rounded-md border-gray-200 shadow-sm pr-12",onChange:s=>o("password_confirmation",s.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>I(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-gray-500 hover:text-gray-700 transition-colors rounded-md hover:bg-gray-100",tabIndex:-1,children:x?e.jsx(C,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"})})]}),e.jsx(i,{message:l.password_confirmation,className:"mt-2"})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",className:"h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:m,onChange:s=>P(s.target.checked)}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>w("privacy"),className:"text-blue-600 underline hover:text-blue-500 bg-transparent border-none cursor-pointer",children:"privacy policy"})," ","and"," ",e.jsx("button",{type:"button",onClick:()=>w("terms"),className:"text-blue-600 underline hover:text-blue-500 bg-transparent border-none cursor-pointer",children:"terms of use"})]})]})}),e.jsx("div",{className:"col-span-6",children:e.jsx(N,{className:"w-full !justify-center !text-sm",disabled:g||!m,children:"Create an Account"})}),e.jsx("div",{className:"col-span-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",e.jsx(W,{href:route("login"),className:"text-blue-600 underline hover:text-blue-500",children:"Log in"})]})}),e.jsxs("div",{className:"col-span-6",children:[e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-gray-300"}),e.jsx("span",{className:"mx-2 text-gray-400 text-sm",children:"OR"}),e.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),e.jsx("div",{className:"w-full",children:e.jsxs(N,{type:"button",className:"w-full !bg-white !text-gray-700 !border-gray-300 !justify-center hover:!bg-gray-50 !py-2.5 !font-medium !shadow-sm",disabled:g||!m,onClick:()=>window.location.href=route("auth.google"),children:[e.jsx(G,{className:"mr-2 text-xl"}),e.jsx("span",{children:"Sign up with Google"})]})})]})]})]})})]}),e.jsx(D,{show:h,onClose:v,maxWidth:"2xl",children:e.jsxs("div",{className:"p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2 flex-shrink-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==="terms"?"Terms of Use":"Privacy Policy"}),e.jsx("button",{type:"button",onClick:v,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"prose max-w-none mt-4 flex-grow overflow-y-auto max-h-[50vh] border-t border-gray-200",children:_?e.jsx("p",{children:"Loading..."}):e.jsx("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:T(t==="terms"?y:b)}})}),e.jsx("div",{className:"mt-6 flex justify-center flex-shrink-0",children:e.jsxs("nav",{className:"flex space-x-2 bg-gray-50 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>u("terms"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${t==="terms"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Terms of Use"}),e.jsx("button",{onClick:()=>u("privacy"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${t==="privacy"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Privacy Policy"})]})})]})})]})}export{ae as default};
