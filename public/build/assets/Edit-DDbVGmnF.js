import{W as f,r as d,j as e}from"./app-9jO5LEp0.js";import{M as b}from"./MainLayout-DxxRVetL.js";import p from"./NationalityForm-8oBd1czI.js";import{S as _}from"./react-select.esm-DUyMhpC5.js";import{R as N}from"./quill.snow-CgNy-22S.js";import"./index-BFMYvyq7.js";function F({postProject:l,auth:o,isPostgraduate:h,researchOptions:c,universities:x}){var m;const{data:t,setData:r,post:g,processing:v,errors:s}=f({title:l.title||"",description:l.description||"",project_type:l.project_type||"",project_theme:l.project_theme||"",purpose:l.purpose||[],start_date:l.start_date||"",end_date:l.end_date||"",application_deadline:l.application_deadline||"",duration:l.duration||"",sponsored_by:l.sponsored_by||"",category:l.category||"",field_of_research:l.field_of_research||[],supervisor_category:l.supervisor_category||"",supervisor_name:l.supervisor_name||"",university:l.university||"",email:l.email||"",origin_country:l.origin_country||"",student_nationality:l.student_nationality||"",student_level:l.student_level||"",appointment_type:l.appointment_type||"",purpose_of_collaboration:l.purpose_of_collaboration||"",image:l.image||"",attachment:l.attachment||"",amount:l.amount||"",application_url:l.application_url||"",project_status:l.project_status||"draft"}),[j,y]=d.useState(t.university);d.useState(!1),d.useState("");const u=async a=>{a&&a.preventDefault();const i=new FormData;Object.keys(t).forEach(n=>{n==="image"||n==="attachment"?(t[n]instanceof File||typeof t[n]=="string")&&i.append(n,t[n]):Array.isArray(t[n])||Array.isArray(t[n])?i.append(n,JSON.stringify(t[n])):i.append(n,t[n])}),console.log("Form Data Contents:");for(let n of i.entries())console.log(n[0]+": "+n[1]);g(route("post-projects.update",l.id),{data:i,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{alert("Project updated successfully!")},onError:n=>{console.error("Error updating Project:",n),alert("Failed to update the Project. Please try again.")}})};return e.jsx(b,{title:"",isPostgraduate:h,children:e.jsxs("div",{className:"p-4",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"absolute top-4 left-4 text-gray-700 hover:text-gray-900",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsxs("form",{onSubmit:u,className:"bg-white p-6 rounded-lg max-w-7xl mx-auto space-y-6",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-700 text-center",children:"Add New Project"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium",children:["Project Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.title,onChange:a=>r("title",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter Project Name"}),s.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.title})]}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium",children:["Project Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1 w-full rounded-lg border border-gray-200",style:{height:"300px",overflowY:"auto"},children:e.jsx(N,{theme:"snow",value:t.description,onChange:a=>r("description",a),placeholder:"Enter description",style:{height:"300px",maxHeight:"300px"}})}),s.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.description})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Project Type"}),e.jsxs("select",{id:"project_type",name:"project_type",value:t.project_type,onChange:a=>r("project_type",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a Project Type"}),e.jsx("option",{value:"Fundamental Research",children:"Fundamental Research"}),e.jsx("option",{value:"Applied Research",children:"Applied Research"}),e.jsx("option",{value:"Fundamental + Applied",children:"Fundamental + Applied"})]}),s.project_type&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.project_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Project Theme"}),e.jsxs("select",{value:t.project_theme,onChange:a=>r("project_theme",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:" Select a Project Theme"}),e.jsx("option",{value:"Artificial Intelligence and Machine Learning",children:"Artificial Intelligence and Machine Learning"}),e.jsx("option",{value:"Sustainable Development and Renewable Energy",children:"Sustainable Development and Renewable Energy"}),e.jsx("option",{value:"Healthcare and Biotechnology",children:"Healthcare and Biotechnology"}),e.jsx("option",{value:"Cybersecurity and Data Privacy",children:"Cybersecurity and Data Privacy"}),e.jsx("option",{value:"Smart Cities and IoT (Internet of Things)",children:"Smart Cities and IoT (Internet of Things)"}),e.jsx("option",{value:"Climate Change and Environmental Protection",children:"Climate Change and Environmental Protection"}),e.jsx("option",{value:"Education Technology and E-Learning",children:"Education Technology and E-Learning"}),e.jsx("option",{value:"Big Data Analytics and Data Science",children:"Big Data Analytics and Data Science"}),e.jsx("option",{value:"Agricultural Innovation and Food Security",children:"Agricultural Innovation and Food Security"}),e.jsx("option",{value:"Financial Technology (FinTech) and Blockchain",children:"Financial Technology (FinTech) and Blockchain"}),e.jsx("option",{value:"Robotics and Automation",children:"Robotics and Automation"}),e.jsx("option",{value:"E-Commerce and Digital Marketing",children:"E-Commerce and Digital Marketing"}),e.jsx("option",{value:"Human-Computer Interaction (HCI)",children:"Human-Computer Interaction (HCI)"}),e.jsx("option",{value:"Space Exploration and Satellite Technologies",children:"Space Exploration and Satellite Technologies"}),e.jsx("option",{value:"Virtual Reality (VR) and Augmented Reality (AR)",children:"Virtual Reality (VR) and Augmented Reality (AR)"}),e.jsx("option",{value:"Water Resource Management",children:"Water Resource Management"}),e.jsx("option",{value:"Social Innovation and Community Development",children:"Social Innovation and Community Development"}),e.jsx("option",{value:"Transportation and Autonomous Vehicles",children:"Transportation and Autonomous Vehicles"}),e.jsx("option",{value:"Supply Chain Optimization and Logistics",children:"Supply Chain Optimization and Logistics"}),e.jsx("option",{value:"Renewable Construction and Smart Infrastructure",children:"Renewable Construction and Smart Infrastructure"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Purpose"}),e.jsxs("select",{multiple:!0,value:t.purpose,onChange:a=>{const i=Array.from(a.target.selectedOptions).map(n=>n.value);r("purpose",i)},className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:" Select a Purpose"}),e.jsx("option",{value:"Seek for Postgraduate",children:"Seek for Postgraduate"}),e.jsx("option",{value:"Seek for Academician Collaboration",children:"Seek for Academician Collaboration"}),e.jsx("option",{value:"Seek for Industrial Collaboration",children:"Seek for Industrial Collaboration"}),e.jsx("option",{value:"For Showcase",children:"For Showcase"})]})]})}),!t.purpose.includes("For Showcase")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Start Date"}),e.jsx("input",{type:"date",value:t.start_date,onChange:a=>{r("start_date",a.target.value)},className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"End Date"}),e.jsx("input",{type:"date",value:t.end_date,min:t.start_date||"",onChange:a=>{r("end_date",a.target.value)},className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mt-1 block text-gray-700 font-medium",children:"Application Deadline"}),e.jsx("input",{type:"date",value:t.application_deadline,onChange:a=>r("application_deadline",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mt-1 block text-gray-700 font-medium",children:"Duration (in months)"}),e.jsx("input",{type:"number",value:t.duration,onChange:a=>r("duration",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter grant duration"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Sponsored By"}),e.jsx("input",{type:"text",value:t.sponsored_by,onChange:a=>r("sponsored_by",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter sponsor"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 font-medium",children:"Category"}),e.jsxs("select",{id:"category",name:"category",value:t.category,onChange:a=>r("category",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a Category"}),e.jsx("option",{value:"Fundamental Research",children:"Fundamental Research"}),e.jsx("option",{value:"Applied Research",children:"Applied Research"}),e.jsx("option",{value:"Fundamental + Applied",children:"Fundamental + Applied"})]}),s.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.category})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[(t.category==="Fundamental Research"||t.category==="Applied Research"||t.category==="Fundamental + Applied")&&e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"field_of_research",className:"block text-sm font-medium text-gray-700",children:"Field of Research (Multiple Selection) Structure : Field of Research - Research Area - Niche Domain"}),e.jsx(_,{id:"field_of_research",isMulti:!0,options:c.map(a=>({value:`${a.field_of_research_id}-${a.research_area_id}-${a.niche_domain_id}`,label:`${a.field_of_research_name} - ${a.research_area_name} - ${a.niche_domain_name}`})),className:"mt-1",classNamePrefix:"select",value:(m=t.field_of_research)==null?void 0:m.map(a=>{const i=c.find(n=>`${n.field_of_research_id}-${n.research_area_id}-${n.niche_domain_id}`===a);return{value:a,label:i?`${i.field_of_research_name} - ${i.research_area_name} - ${i.niche_domain_name}`:a}}),onChange:a=>{const i=a.map(n=>n.value);r("field_of_research",i)},placeholder:"Search and select fields of research..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Project Supervisor / Project Leader"}),e.jsxs("select",{value:t.supervisor_category,onChange:a=>r("supervisor_category",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"Own Name",children:"Own Name"}),e.jsx("option",{value:"On Behalf",children:"On Behalf"})]})]})]}),t.supervisor_category==="On Behalf"&&e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mt-1 block text-gray-700 font-medium",children:"Supervisor / Project Leader Name"}),e.jsx("input",{type:"text",value:t.supervisor_name,onChange:a=>r("supervisor_name",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mt-1 block text-gray-700 font-medium",children:"University"}),e.jsxs("select",{id:"university",className:"mt-1 block w-full border rounded-md p-2",value:j||"",onChange:a=>{const i=a.target.value;y(i),r("university",i)},children:[e.jsx("option",{value:"",hidden:!0,children:"Select your University"}),x.map(a=>e.jsx("option",{value:a.id,children:a.full_name},a.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Email"}),e.jsx("input",{type:"email",value:t.email,onChange:a=>r("email",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter email"}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"usePersonalEmail",checked:t.email===o.email,onChange:a=>{a.target.checked?r("email",o.email):r("email","")},className:"form-checkbox h-5 w-5 text-blue-600"}),e.jsxs("label",{htmlFor:"usePersonalEmail",className:"ml-2 text-gray-700",children:["Use personal email (",o.email,")"]})]})]}),e.jsx("div",{children:e.jsx(p,{title:"Project Origin Country",value:t.origin_country,onChange:a=>r("origin_country",a)})})]}),t.purpose==="Seek for Postgraduate"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsx(p,{title:"Student Nationality",value:t.student_nationality,onChange:a=>r("student_nationality",a)})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Level of Study"}),e.jsxs("select",{value:t.student_level,onChange:a=>r("student_level",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Level of Study"}),e.jsx("option",{value:"Master",children:"Master"}),e.jsx("option",{value:"Ph.D.",children:"Ph.D."})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Appointment Type"}),e.jsxs("select",{value:t.appointment_type,onChange:a=>r("appointment_type",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Appointment Type"}),e.jsx("option",{value:"Research Assistant (RA)",children:"Research Assistant (RA)"}),e.jsx("option",{value:"Graduate Assistant (GA)",children:"Graduate Assistant (GA)"}),e.jsx("option",{value:"Teaching Assistant (TA)",children:"Teaching Assistant (TA)"}),e.jsx("option",{value:"Research Fellow (RF)",children:"Research Fellow (RF)"}),e.jsx("option",{value:"Project Assistant (PA)",children:"Project Assistant (PA)"}),e.jsx("option",{value:"Technical Assistant (TA)",children:"Technical Assistant (TA)"}),e.jsx("option",{value:"Graduate Research Assistant (GRA)",children:"Graduate Research Assistant (GRA)"}),e.jsx("option",{value:"Scholarship Recipient",children:"Scholarship Recipient"}),e.jsx("option",{value:"Intern",children:"Intern"})]})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Purpose of Collaboration"}),e.jsx("textarea",{value:t.purpose_of_collaboration,onChange:a=>r("purpose_of_collaboration",a.target.value||""),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter Purpose of Collaboration"}),s.purpose_of_collaboration&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.purpose_of_collaboration})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Upload Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:a=>r("image",a.target.files[0]),className:"w-full rounded-lg border-gray-200 p-2 text-sm"}),l.image&&e.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Current Image:"," ",e.jsx("a",{href:`/storage/${l.image}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Image"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Upload Attachment"}),e.jsx("input",{type:"file",onChange:a=>r("attachment",a.target.files[0]),className:"w-full rounded-lg border-gray-200 p-2 text-sm"}),l.attachment&&e.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Current Attachment:"," ",e.jsx("a",{href:`/storage/${l.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[t.purpose!=="Seek for Postgraduate"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Approved Project Amount"}),e.jsx("input",{type:"number",value:t.amount,onChange:a=>r("amount",a.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter amount (e.g., 5000.00)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Application URL"}),e.jsx("input",{type:"url",value:t.application_url,onChange:a=>r("application_url",a.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter application URL"}),s.application_url&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.application_url})]})]}),e.jsx("div",{className:"flex space-x-4",children:e.jsx("button",{type:"button",onClick:()=>{u()},disabled:v,className:"inline-block rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white hover:bg-blue-600",children:"Publish"})})]})]})})}export{F as default};
