import{q as j,r as h,j as e,Y as y,a as g}from"./app-Ch1hfq28.js";import{M as v}from"./MainLayout-ByB_RjOK.js";import R from"./AcademicianTable-BvPMqcI4.js";import N from"./PostgraduateTable-k6imHFXD.js";import S from"./UndergraduateTable-BzMDknAw.js";import"./index-CGFxfSXY.js";import"./useRoles-BxDBOg59.js";import"./analytics-BQ374C1C.js";import"./index-BqZYO6RA.js";const L=({academicians:s,postgraduates:o,undergraduates:d,universities:i,faculties:c,researchOptions:l})=>{const{url:b}=j(),x=()=>{const a=new URLSearchParams(window.location.search);return a.has("academicians_page")?"academicians":a.has("postgraduates_page")?"postgraduates":a.has("undergraduates_page")?"undergraduates":"academicians"},[n,p]=h.useState(x);h.useEffect(()=>{p(x())},[b]);const m=async(a,r)=>{try{return(await g.post(route("admin.profiles.reminder"),{userId:a,role:r})).data}catch(t){throw console.error("Error sending reminder:",t),t}},u=async(a,r)=>{try{return(await g.post(route("admin.profiles.batch-reminder"),{userIds:a,role:r})).data}catch(t){throw console.error("Error sending batch reminder:",t),t}},f=[{id:"academicians",label:"Academicians",count:s.total},{id:"postgraduates",label:"Postgraduates",count:o.total},{id:"undergraduates",label:"Undergraduates",count:d.total}],w=a=>{p(a);const r=new URLSearchParams(window.location.search);r.delete("academicians_page"),r.delete("postgraduates_page"),r.delete("undergraduates_page"),r.set("tab",a);const t=`${window.location.pathname}?${r.toString()}`;window.history.replaceState({},"",t)};return e.jsxs(v,{title:"",children:[e.jsx(y,{title:"Profile Management"}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"md:flex md:items-center md:justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"User Profile Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Send reminders to users to complete or update their profiles. Review users by role and take action individually or in batches."})]})}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px",children:f.map(a=>e.jsxs("button",{onClick:()=>w(a.id),className:`py-4 px-6 text-center border-b-2 font-medium text-sm sm:text-base ${n===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap flex items-center space-x-2`,children:[e.jsx("span",{children:a.label}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n===a.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.count})]},a.id))})}),e.jsxs("div",{className:"p-6",children:[n==="academicians"&&e.jsx(R,{academics:s.data,universities:i,faculties:c,researchOptions:l,onSendReminder:m,onSendBatchReminder:u,pagination:s,currentTab:n}),n==="postgraduates"&&e.jsx(N,{postgraduates:o.data,universities:i,faculties:c,researchOptions:l,onSendReminder:m,onSendBatchReminder:u,pagination:o,currentTab:n}),n==="undergraduates"&&e.jsx(S,{undergraduates:d.data,universities:i,faculties:c,researchOptions:l,onSendReminder:m,onSendBatchReminder:u,pagination:d,currentTab:n})]})]})]})})]})};export{L as default};
