import{W as f,r as N,j as e,Y as _}from"./app-DBgMSVdZ.js";import{G as b}from"./GuestLayout-Besvxc1z.js";import{I as i,T as x}from"./TextInput-iVkp3kwQ.js";import{I as u}from"./InputLabel-D7zyfyPU.js";import{P as F}from"./PrimaryButton-p9KoG2j_.js";function R({universities:o,faculties:h}){const{data:s,setData:l,post:v,processing:j,errors:r,reset:y}=f({full_name:"",university:"",role:"",industry:"",faculty:"",current_postgraduate_status:""}),[n,c]=N.useState(s.university),m=h.filter(t=>t.university_id===parseInt(n)),g=t=>{const a=t.target.value;l(d=>({...d,current_postgraduate_status:a,university:a==="Registered"?d.university:"",faculty:a==="Registered"?d.faculty:""}))},p=t=>{t.preventDefault(),v(route("profile.complete"),{onFinish:()=>y("full_name","university","role","industry","faculty")})};return e.jsxs(b,{children:[e.jsx(_,{title:"Register"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"role",value:"Role"}),e.jsxs("select",{id:"role",name:"role",className:"mt-1 w-full border rounded-md p-2",value:s.role,onChange:t=>l("role",t.target.value),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select your Role"}),e.jsx("option",{value:"Academician",children:"Academician"}),e.jsx("option",{value:"Postgraduate",children:"Postgraduate"})]}),e.jsx(i,{message:r.role,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"full_name",value:"Full Name"}),e.jsx(x,{id:"full_name",name:"full_name",value:s.full_name,className:"mt-1 block w-full",autoComplete:"full_name",isFocused:!0,onChange:t=>l("full_name",t.target.value),required:!0}),e.jsx(i,{message:r.full_name,className:"mt-2"})]}),s.role!=="Industry"?e.jsxs(e.Fragment,{children:[s.role==="Postgraduate"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"current_postgraduate_status",className:"mt-1 block text-sm font-medium text-gray-700",children:"Current Postgraduate Status"}),e.jsxs("select",{id:"current_postgraduate_status",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:s.current_postgraduate_status,onChange:g,children:[e.jsx("option",{value:"",hidden:!0,children:"Select your current postgraduate status"}),e.jsx("option",{value:"Not registered yet",children:"Not registered yet"}),e.jsx("option",{value:"Registered",children:"Registered"})]})]})}),s.role==="Postgraduate"&&s.current_postgraduate_status==="Registered"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"university",value:"University",required:!0}),e.jsxs("select",{id:"university",className:"mt-1 block w-full border rounded-md p-2",value:n||"",onChange:t=>{const a=t.target.value;c(a),l("university",a)},children:[e.jsx("option",{value:"",hidden:!0,children:"Select your University"}),o.map(t=>e.jsx("option",{value:t.id,children:t.full_name},t.id))]}),e.jsx(i,{className:"mt-2",message:r.university})]}),n&&e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"faculty",value:"Faculty",required:!0}),e.jsxs("select",{id:"faculty",className:"mt-1 block w-full border rounded-md p-2",value:s.faculty||"",onChange:t=>l("faculty",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select your Faculty"}),m.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),s.role==="Academician"&&e.jsx("p",{className:"mt-2 text-red-500 text-sm",children:"*Select carefully as it is not allowed to change after this"}),e.jsx(i,{className:"mt-2",message:r.faculty})]})]}),s.role==="Academician"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"university",value:"University",required:!0}),e.jsxs("select",{id:"university",className:"mt-1 block w-full border rounded-md p-2",value:n||"",onChange:t=>{const a=t.target.value;c(a),l("university",a)},children:[e.jsx("option",{value:"",hidden:!0,children:"Select your University"}),o.map(t=>e.jsx("option",{value:t.id,children:t.full_name},t.id))]}),e.jsx(i,{className:"mt-2",message:r.university})]}),n&&e.jsxs("div",{className:"mt-4",children:[e.jsx(u,{htmlFor:"faculty",value:"Faculty",required:!0}),e.jsxs("select",{id:"faculty",className:"mt-1 block w-full border rounded-md p-2",value:s.faculty||"",onChange:t=>l("faculty",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select your Faculty"}),m.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),s.role==="Academician"&&e.jsx("p",{className:"mt-2 text-red-500 text-sm",children:"*Select carefully as it is not allowed to change after this"}),e.jsx(i,{className:"mt-2",message:r.faculty})]})]})]}):e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx(u,{htmlFor:"industry",value:"Industry"}),e.jsx(x,{id:"industry",type:"text",name:"industry",value:s.industry,className:"mt-1 block w-full",autoComplete:"industry",onChange:t=>l("industry",t.target.value),required:!0}),e.jsx(i,{message:r.industry,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(F,{className:"ms-4",disabled:j,children:"Complete Profile"})})]})]})}export{R as default};
