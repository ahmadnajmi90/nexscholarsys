import{r as o,j as e,d as $}from"./app-Cxpda9MH.js";const D=({data:p,title:n,isProject:l,isEvent:r,isGrant:c})=>{const[y,h]=o.useState(!1),[s,g]=o.useState(null),[i,u]=o.useState(""),[d,N]=o.useState(1),f=a=>{g(a),h(!0)},j=()=>{h(!1),g(null)};function v(a,t,A){$.post("/click-tracking",{entity_type:a,entity_id:t,action:A}).then(x=>{console.log("Click tracked successfully:",x.data)}).catch(x=>{console.error("Error tracking click:",x)})}const _=[...new Set(p.map(a=>l?a.category:r?a.event_type:c?a.grant_type:null))].filter(Boolean),b=p.filter(a=>i===""?!0:l?a.category===i:r?a.event_type===i:c?a.grant_type===i:!0),m=8,k=Math.ceil(b.length/m),w=b.slice((d-1)*m,d*m),C=a=>{N(a)};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs("div",{className:"w-full sm:w-1/4 p-4 bg-gray-100 border-r",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:l?"Category":r?"Event Type":c?"Grant Type":"Filter"}),e.jsxs("select",{className:"p-2 border border-gray-300 rounded w-full",value:i,onChange:a=>{u(a.target.value),N(1)},children:[e.jsx("option",{value:"",children:l?"All Categories":r?"All Event Types":"All Grant Types"}),_.map((a,t)=>e.jsx("option",{value:a,children:a},t))]})]})})]}),e.jsxs("div",{className:"flex-1 px-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((a,t)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[e.jsx("img",{src:a.image!==null?`/storage/${a.image}`:"/storage/default.jpg",alt:a[n],className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 text-center truncate",style:{maxWidth:"100%"},title:a[n],children:a[n]}),e.jsx("p",{className:"text-gray-600 mt-4 text-center",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},dangerouslySetInnerHTML:{__html:a.description||"No description available."}})]}),e.jsx("button",{onClick:()=>{f(a),v(l?"project":r?"event":"grant",a.id,"view_details")},className:"inline-block rounded-full border border-gray-300 px-7 py-2 text-base font-medium text-body-color transition hover:border-primary hover:bg-primary hover:text-dark dark:border-dark-300 dark:text-dark-600",children:"View Details"})]},t))}),e.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:k},(a,t)=>e.jsx("button",{onClick:()=>C(t+1),className:`px-4 py-2 border rounded ${d===t+1?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:t+1},t))})]}),y&&s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 overflow-auto",onClick:j,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-4xl relative overflow-y-auto max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[s.image&&e.jsx("img",{src:s.image!==null?`/storage/${s.image}`:"/storage/default.jpg",alt:s[n],className:"w-full h-48 object-cover rounded-t-lg mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 text-center",children:s[n]}),e.jsxs("div",{className:"space-y-4",children:[l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Description:"}),s.description?e.jsx("div",{className:"mt-2 text-sm",dangerouslySetInnerHTML:{__html:s.description}}):e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No description available."})]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Category:"})," ",s.category||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Project Theme:"})," ",s.project_theme||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Purpose:"})," ",Array.isArray(s.purpose)?s.purpose.join(", "):"No Purpose Specified"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Project Duration:"})," ",s.start_date?`${s.start_date} - ${s.end_date}`:"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Application Deadline:"})," ",s.application_deadline||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Contact Email:"})," ",s.email||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",s.attachment?e.jsx("a",{href:`/storage/${s.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"}):"No attachment available."]})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Description:"}),s.description?e.jsx("div",{className:"mt-2 text-sm",dangerouslySetInnerHTML:{__html:s.description}}):e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No description available."})]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Event type:"})," ",s.event_type||"Not provided."]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Event Duration:"})," ",s.start_date?`${s.start_date} - ${s.end_date}`:"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Registration Link:"})," ",s.registration_url?e.jsx("a",{href:s.registration_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"Click Here"}):"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Registration Deadline:"})," ",s.registration_deadline||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Contact Email:"})," ",s.contact_email||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Location:"})," ",`${s.venue}, ${s.city}, ${s.country}`||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",s.attachment?e.jsx("a",{href:`/storage/${s.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"}):"No attachment available."]})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Description:"}),s.description?e.jsx("div",{className:"mt-2 text-sm",dangerouslySetInnerHTML:{__html:s.description}}):e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No description available."})]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Grant Type:"})," ",s.grant_type||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Grant Theme:"})," ",Array.isArray(s.grant_theme)?s.grant_theme.join(", "):"No Grant Theme Specified"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Cycle:"})," ",s.cycle||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Grant Duration:"})," ",s.start_date?`${s.start_date} - ${s.end_date}`:"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Application Deadline:"})," ",s.application_deadline||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Sponsored by:"})," ",s.sponsored_by||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Website / Link:"})," ",s.website||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Contact Email:"})," ",s.email||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",s.attachment?e.jsx("a",{href:`/storage/${s.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"}):"No attachment available."]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:j,className:"px-6 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition duration-200",children:"Close"})})]})})]})};export{D as P};
