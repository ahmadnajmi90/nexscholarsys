import{r as i,W as u,j as e,b as l,y as g}from"./app-DUoY1KLM.js";import{L as b,M as p}from"./MainLayout-AVcyjhic.js";import{P as f,T as j,C as y}from"./ConfirmationModal-CDW9KfFn.js";import{C as N}from"./chevron-left-CO8ZWUka.js";import"./index-CLWRSuMR.js";import"./useRoles-C4rK3am4.js";import"./analytics-BQ374C1C.js";function v({workspace:t}){const[m,n]=i.useState(!1),[r,o]=i.useState(null),s=u({name:""}),c=a=>{if(a.preventDefault(),!t||!t.data||!t.data.id){console.error("Workspace ID is missing, cannot create board.");return}s.post(`/api/v1/workspaces/${t.data.id}/boards`,{onSuccess:()=>{n(!1),s.reset()}})},x=(a,d)=>{a.preventDefault(),a.stopPropagation(),o(d)},h=()=>{r&&g.delete(route("boards.destroy",r.id),{onSuccess:()=>{o(null)}})};return e.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-2 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(l,{href:route("project-hub.index"),className:"flex items-center text-gray-500 hover:text-gray-700 mb-2",children:[e.jsx(N,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"Back to workspaces"})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.data.name})}),t.data.description&&e.jsx("p",{className:"mt-1 text-gray-500",children:t.data.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Boards"})}),m?e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Create a new board"}),e.jsxs("form",{onSubmit:c,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",value:s.data.name,onChange:a=>s.setData("name",a.target.value),className:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm text-sm",placeholder:"Board name",disabled:s.processing,autoFocus:!0}),s.errors.name&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:s.errors.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),s.reset()},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:s.processing,children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-700",disabled:s.processing||!s.data.name.trim(),children:s.processing?"Creating...":"Create Board"})]})]})]}):e.jsxs("button",{type:"button",onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 mb-6 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Create new board"]}),t.data.boards&&t.data.boards.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.data.boards.map(a=>e.jsxs("div",{className:"relative bg-white shadow rounded-lg hover:shadow-md transition-shadow duration-200",children:[e.jsxs(l,{href:route("project-hub.boards.show",a.id),className:"block p-5",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(b,{className:"w-5 h-5 text-indigo-500 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.name})]}),e.jsx("div",{className:"flex items-center text-sm text-gray-500 mt-3",children:e.jsxs("span",{children:["Created ",new Date(a.created_at).toLocaleDateString()]})})]}),e.jsx("button",{onClick:d=>x(d,a),className:"absolute top-2 right-2 p-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 rounded-full",title:"Delete board",children:e.jsx(j,{className:"w-4 h-4"})})]},a.id))}):e.jsx("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:e.jsx("p",{className:"text-gray-500 mb-4",children:"No boards available. Create a board to get started."})})]}),e.jsx(y,{show:!!r,onClose:()=>o(null),onConfirm:h,title:"Delete Board",message:r?`Are you sure you want to delete the board "${r.name}"? This action cannot be undone and will delete all lists and tasks within this board.`:""})]})}v.layout=t=>e.jsx(p,{title:"Workspace Boards",children:t,TopMenuOpen:!1});export{v as default};
