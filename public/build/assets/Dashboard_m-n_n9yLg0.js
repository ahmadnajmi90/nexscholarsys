import{j as e,r as S,b as j,R as F}from"./app-C8DLZsco.js";import{C as u,U as M}from"./Carousel-BJJQ9rLl.js";import{J as G,q as _,S as b,T as C,U as E,V as T,W as O,X as H,H as A,Y as J,Z as Q,_ as D}from"./index-BtCcvCeq.js";import"./index-DuIaUx_v.js";import{u as L}from"./useRoles-dpMVYOLR.js";import{A as W}from"./AdminDashboardComponent-LAELAXCy.js";import{F as Z}from"./FacultyAdminDashboardComponent-CKuIgN6J.js";import{z as $}from"./transition-C4rq1jrJ.js";const z=()=>{const o=[{label:"Give Feedback",icon:e.jsx("img",{src:"/images/feedback.png",alt:"Feedback",style:{width:"30px",height:"30px"}}),link:"https://forms.gle/CQnJJxd8tfSrL2RE7"},{label:"Find Academician",icon:e.jsx("img",{src:"/images/academician.png",alt:"Academician",style:{width:"30px",height:"30px"}}),link:"/academicians"},{label:"Find Postgraduate",icon:e.jsx("img",{src:"/images/postgraduate.png",alt:"Postgraduate",style:{width:"30px",height:"30px"}}),link:"/postgraduates"},{label:"ChatGPT",icon:e.jsx("img",{src:"/images/chatgpt.png",alt:"ChatGPT",style:{width:"30px",height:"30px"}}),link:"https://chatgpt.com/"},{label:"Scispaces",icon:e.jsx("img",{src:"/images/scispaces.png",alt:"Scispaces",style:{width:"30px",height:"30px"}}),link:"https://typeset.io/"},{label:"Canva",icon:e.jsx("img",{src:"/images/canva.png",alt:"Canva",style:{width:"30px",height:"30px"}}),link:"https://www.canva.com/"},{label:"Mendeley",icon:e.jsx("img",{src:"/images/mendeley.png",alt:"Mendeley",style:{width:"30px",height:"30px"}}),link:"https://www.mendeley.com/"},{label:"Zotero",icon:e.jsx("img",{src:"/images/zotero.png",alt:"Zotero",style:{width:"30px",height:"30px"}}),link:"https://www.zotero.org/"},{label:"Scimago",icon:e.jsx("img",{src:"/images/scimago.png",alt:"Scimago",style:{width:"30px",height:"30px"}}),link:"https://www.scimagojr.com/"},{label:"Scopus",icon:e.jsx("img",{src:"/images/scopus.png",alt:"Scopus",style:{width:"30px",height:"30px"}}),link:"https://www.scopus.com/sources.uri?zone=TopNavBar&origin=searchbasic"}];return e.jsxs("div",{className:"md:mx-0 md:auto",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 mt-4",children:"QuickLinks"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-9 gap-4",children:o.map((l,t)=>e.jsx("div",{className:"flex flex-col items-center justify-center bg-white shadow-md rounded-lg hover:bg-gray-100 transition p-4",style:{width:"100%",height:"137px"},children:l.link?e.jsxs("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-2",children:l.icon}),e.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:l.label})]}):e.jsxs("button",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-2",children:l.icon}),e.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:l.label})]})},t))})]})},re=({totalUsers:o,onlineUsers:l,posts:t,events:x,projects:r,grants:h,academicians:m,universities:g,faculties:c,users:n,researchOptions:d,profileIncompleteAlert:i,topViewedAcademicians:f,analyticsData:N,facultyAdminDashboardData:v})=>{new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});const{isAdmin:p,isPostgraduate:w,isUndergraduate:y,isFacultyAdmin:k,isAcademician:U}=L(),[P,a]=S.useState(!1);S.useEffect(()=>{i!=null&&i.show&&a(!0)},[i]);const R=s=>e.jsxs("div",{className:"block relative p-5 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(s.featured_image?`/storage/${s.featured_image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white pr-10",children:[e.jsx("h2",{className:"text-4xl font-bold truncate",title:s.title,children:s.title||"Untitled Post"}),s.content&&e.jsx("div",{className:"text-sm line-clamp-2 mb-2",dangerouslySetInnerHTML:{__html:s.content}}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("p",{className:"text-xs",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:s.total_views})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(C,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"ml-1",children:s.total_likes})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:s.total_shares})]})]})]})]})]}),V=s=>e.jsxs("div",{className:"block relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(s.image?`/storage/${s.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:s.event_name,children:s.event_name||"Untitled Event"}),e.jsx("p",{className:"text-xs",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),B=s=>e.jsxs("div",{className:"block relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(s.image?`/storage/${s.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:s.title,children:s.title||"Untitled Project"}),e.jsx("p",{className:"text-xs",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),I=s=>e.jsxs("div",{className:"relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(s.image?`/storage/${s.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:s.title,children:s.title||"Untitled Grant"}),e.jsx("p",{className:"text-xs",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]});return e.jsxs("div",{className:"p-6 md:py-0 md:px-2 min-h-screen",children:[e.jsx($,{show:P&&(i==null?void 0:i.show),enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsxs("div",{className:"p-4 mb-4 text-sm text-yellow-800 bg-yellow-100 rounded-lg flex items-center justify-between",role:"alert",children:[e.jsx("div",{className:"flex items-center",children:i==null?void 0:i.message}),e.jsxs(j,{href:route("role.edit"),className:"ml-4 px-4 py-2 bg-white text-yellow-800 border border-yellow-800 rounded-md hover:bg-yellow-50 transition-colors duration-200 flex items-center",children:["Update Now",e.jsx("span",{className:"ml-2 w-2 h-2 bg-red-500 rounded-full"})]})]})}),p&&e.jsx("div",{className:"mb-8",children:e.jsx(W,{totalUsers:o,topViewedAcademicians:f,analyticsData:N})}),k&&e.jsxs("div",{className:"space-y-8",children:[e.jsx(Z,{dashboardData:v}),e.jsxs("div",{className:"border-t pt-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Faculty Administration"}),e.jsx("div",{className:"bg-white shadow-md rounded-lg p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 flex flex-col items-center text-center",children:[e.jsx("div",{className:"bg-blue-100 p-4 rounded-full mb-4",children:e.jsx(G,{className:"text-blue-700 text-2xl"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Verify Academicians"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Review and verify unverified academicians in your faculty."}),e.jsx(j,{href:route("faculty-admin.academicians"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Verification"})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-6 flex flex-col items-center text-center",children:[e.jsx("div",{className:"bg-indigo-100 p-4 rounded-full mb-4",children:e.jsx(_,{className:"text-indigo-700 text-2xl"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Academicians Directory"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage all academicians in your faculty."}),e.jsx(j,{href:route("faculty-admin.directory"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View Directory"})]})]})})]})]}),!p&&!k&&e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-10 gap-6 mb-[10rem] h-[300px]",children:[e.jsx("div",{className:"md:col-span-4 h-full",children:e.jsx(u,{items:t.slice(0,5),timer:7e3,fadeDuration:300,renderItem:R,label:"Post",seoPrefix:"/posts/",label_color:"bg-blue-500"})}),e.jsxs("div",{className:"md:col-span-3 h-full flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 h-1/2",children:[x.length>0&&e.jsx("div",{className:`${r.length===0?"col-span-2":""}`,children:e.jsx(u,{items:x.slice(0,5),timer:8e3,fadeDuration:300,renderItem:V,label:"Event",seoPrefix:"/events/",label_color:"bg-red-500"})}),r.length>0&&e.jsx("div",{className:`${x.length===0?"col-span-2":""}`,children:e.jsx(u,{items:r.slice(0,5),timer:9e3,fadeDuration:300,renderItem:B,label:"Project",seoPrefix:"/projects/",label_color:"bg-orange-500"})})]}),e.jsx("div",{className:"h-1/2",children:e.jsx(u,{items:h.slice(0,5),timer:1e4,fadeDuration:300,renderItem:I,label:"Grant",seoPrefix:"/grants/",label_color:"bg-green-700"})})]}),e.jsx("div",{className:"md:col-span-3 h-full",children:e.jsx(M,{events:x})})]})]}),!p&&!k&&e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsx(z,{})})]})},q=({totalUsers:o,topViewedAcademicians:l,analyticsData:t})=>{const[x,r]=F.useState(!1);F.useEffect(()=>{const n=t&&typeof t=="object"&&"activeUsers"in t&&"avgSessionDuration"in t&&"topPages"in t&&"pageViewsOverTime"in t;r(n),t&&!n&&console.warn("Mobile: Analytics data has an unexpected format",t)},[t]);const h=({academicians:n})=>e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Top Viewed Academicians"}),e.jsx(T,{className:"text-indigo-500"})]}),e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:n&&n.length>0?n.slice(0,5).map((d,i)=>e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:e.jsx("span",{className:"text-indigo-500 font-bold text-xs",children:i+1})}),e.jsx("div",{className:"w-6 h-6 rounded-full bg-cover bg-center mr-2",style:{backgroundImage:`url(${encodeURI(d.profile_picture?`/storage/${d.profile_picture}`:"/storage/profile_pictures/default.jpg")})`}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-xs truncate max-w-[120px]",title:d.full_name||"Unknown",children:d.full_name||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[120px]",title:d.current_position||"No position",children:d.current_position||"No position"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"w-3 h-3 text-indigo-500 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:d.total_views})]})]},d.id)):e.jsx("p",{className:"text-xs text-gray-500",children:"No view data available"})})]}),m=({pageViewsData:n})=>{const d=n&&n.length>0?Math.max(...n.map(i=>i.views)):100;return e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Page Views (30 Days)"}),e.jsx(O,{className:"text-indigo-500"})]}),n&&n.length>0?e.jsx("div",{className:"h-[150px] flex items-end space-x-[1px]",children:n.slice(-15).map((i,f)=>{const N=f%3===0,v=i.views/d*100+"%";return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-indigo-100 hover:bg-indigo-200 transition-all rounded-t",style:{height:v},title:`${i.date}: ${i.views} views`}),N&&e.jsxs("div",{className:"text-[8px] text-gray-500 mt-1 rotate-45 origin-left whitespace-nowrap",children:[i.date.substring(5)," "]})]},f)})}):e.jsx("div",{className:"flex items-center justify-center h-[150px] bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-gray-500",children:"No page view data available"})})]})},g=()=>t?e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-500",children:"ACTIVE USERS"}),e.jsx("p",{className:"text-xl font-bold",children:t.activeUsers||0})]}),e.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:e.jsx(_,{className:"text-blue-500 text-sm"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-500",children:"AVG. SESSION"}),e.jsxs("p",{className:"text-xl font-bold",children:[t.avgSessionDuration||0,"s"]})]}),e.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:e.jsx(H,{className:"text-green-500 text-sm"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-500",children:"USERS"}),e.jsx("p",{className:"text-xl font-bold",children:o})]}),e.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:e.jsx(A,{className:"text-purple-500 text-sm"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-500",children:"TOP VIEWS"}),e.jsx("p",{className:"text-xl font-bold",children:l&&l.length>0?l[0].total_views:0})]}),e.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:e.jsx(b,{className:"text-yellow-500 text-sm"})})]})]}):e.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-xs mb-4",children:e.jsx("p",{children:"Unable to load analytics data. Check configuration."})}),c=({pages:n})=>e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Top Pages"}),e.jsx(J,{className:"text-indigo-500"})]}),n&&n.length>0?e.jsx("div",{className:"space-y-2",children:n.slice(0,3).map((d,i)=>e.jsxs("div",{className:"border-b pb-2",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("div",{className:"flex-shrink-0 w-5 h-5 bg-indigo-100 rounded-full flex items-center justify-center mr-2",children:e.jsx("span",{className:"text-indigo-500 font-bold text-xs",children:i+1})}),e.jsx("p",{className:"font-medium text-xs truncate max-w-[250px]",title:d.title,children:d.title||"Untitled Page"})]}),e.jsxs("div",{className:"flex justify-between text-xs pl-7",children:[e.jsx("span",{className:"text-gray-500 truncate max-w-[200px]",children:d.path}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"w-2.5 h-2.5 text-indigo-500 mr-1"}),e.jsx("span",{className:"font-medium",children:d.views})]})]})]},i))}):e.jsx("div",{className:"flex items-center justify-center h-[100px] bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-gray-500",children:"No page view data available"})})]});return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Admin Dashboard"}),e.jsx("div",{className:"text-xs text-gray-500",children:x?e.jsx("span",{className:"text-green-500",children:"✓ GA connected"}):e.jsx("span",{className:"text-yellow-500",children:"⟳ Loading..."})})]}),g(),e.jsx(m,{pageViewsData:(t==null?void 0:t.pageViewsOverTime)||[]}),e.jsx(c,{pages:(t==null?void 0:t.topPages)||[]}),e.jsx(h,{academicians:l})]})},X=({dashboardData:o})=>{var g;if(!o)return e.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg mb-4 text-xs",children:e.jsx("p",{children:"Unable to load faculty dashboard data. Please contact support."})});const{faculty:l,academiciansCount:t,studentsCount:x,studentsBreakdown:r,projectsCount:h,topViewedAcademicians:m}=o;return e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h1",{className:"text-xl font-bold",children:[(l==null?void 0:l.name)||"Faculty"," Dashboard"]})}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:((g=l==null?void 0:l.university)==null?void 0:g.full_name)||"University"}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Faculty Personnel"}),e.jsx(_,{className:"text-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 flex flex-col",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-2",children:e.jsx(Q,{className:"text-blue-700 text-sm"})}),e.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"ACADEMICIANS"})]}),e.jsx("p",{className:"text-xl font-bold text-blue-700",children:t})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex flex-col",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-2",children:e.jsx(_,{className:"text-green-700 text-sm"})}),e.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"STUDENTS"})]}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:x}),e.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[e.jsxs("div",{children:["PG: ",r.postgraduates]}),e.jsxs("div",{children:["UG: ",r.undergraduates]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Research Output"}),e.jsx(D,{className:"text-purple-500"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 flex items-center",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-full mr-3",children:e.jsx(D,{className:"text-purple-700 text-sm"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-600",children:"PUBLISHED PROJECTS"}),e.jsx("p",{className:"text-xl font-bold text-purple-700",children:h})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-base font-semibold",children:"Top Viewed Academicians"}),e.jsx(T,{className:"text-indigo-500"})]}),m&&m.length>0?e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:m.map(c=>e.jsxs("div",{className:"flex items-center p-2 border-b",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2 border border-gray-200",children:e.jsx("img",{src:`/storage/${c.profile_picture||"profile_pictures/default.jpg"}`,alt:"Profile",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(j,{href:route("academicians.show",c),className:"font-medium text-sm text-gray-900 hover:text-blue-600",children:c.full_name}),e.jsx("p",{className:"text-xs text-gray-500",children:c.current_position||"Position N/A"})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(b,{className:"text-gray-400 mr-1 text-xs"}),e.jsx("span",{children:c.total_views||0})]})]},c.id))}):e.jsx("div",{className:"py-4 text-center text-xs text-gray-500",children:e.jsx("p",{children:"No profile view data available yet"})})]})]})},ne=({posts:o,events:l,grants:t,users:x,profileIncompleteAlert:r,totalUsers:h,topViewedAcademicians:m,analyticsData:g,facultyAdminDashboardData:c,academicians:n,universities:d,faculties:i,researchOptions:f})=>{const N=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),[v,p]=S.useState(!1);S.useEffect(()=>{r!=null&&r.show&&p(!0)},[r]);const{isAdmin:w,isFacultyAdmin:y}=L(),k=a=>e.jsxs("div",{className:"block relative p-5 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(a.featured_image?`/storage/${a.featured_image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white pr-10",children:[e.jsx("h2",{className:"text-4xl font-bold truncate",title:a.title,children:a.title||"Untitled Post"}),a.content&&e.jsx("div",{className:"text-sm line-clamp-2 mb-2",dangerouslySetInnerHTML:{__html:a.content}}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("p",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:a.total_views})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(C,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"ml-1",children:a.total_likes})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:a.total_shares})]})]})]})]})]}),U=a=>e.jsxs("div",{className:"block relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(a.image?`/storage/${a.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:a.event_name,children:a.event_name||"Untitled Event"}),e.jsx("p",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),P=a=>e.jsxs("div",{className:"relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(a.image?`/storage/${a.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:a.title,children:a.title||"Untitled Grant"}),e.jsx("p",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]});return e.jsx("div",{className:"w-screen bg-gray-200 flex items-center justify-center",children:e.jsx("div",{className:"bg-white text-gray-800 shadow-lg overflow-hidden relative flex flex-col",style:{width:"500px",maxWidth:"100%"},children:e.jsxs("div",{className:"bg-white w-full px-5 pt-6 pb-4 overflow-y-auto",children:[e.jsx($,{show:v&&(r==null?void 0:r.show),enter:"transition-all duration-300 ease-in-out",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4",children:e.jsxs("div",{className:"p-4 mb-4 text-sm text-yellow-800 bg-yellow-100 rounded-lg",role:"alert",children:[e.jsx("div",{className:"flex items-center mb-2",children:r==null?void 0:r.message}),e.jsxs(j,{href:route("role.edit"),className:"mt-2 inline-flex items-center px-4 py-2 bg-white text-yellow-800 border border-yellow-800 rounded-md hover:bg-yellow-50 transition-colors duration-200",children:["Update Now",e.jsx("span",{className:"ml-2 w-2 h-2 bg-red-500 rounded-full"})]})]})}),w&&e.jsx("div",{className:"mb-5",children:e.jsx(q,{totalUsers:h,topViewedAcademicians:m,analyticsData:g})}),y&&e.jsxs("div",{className:"mb-5",children:[e.jsx(X,{dashboardData:c}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h2",{className:"text-base font-semibold mb-3",children:"Faculty Administration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-sm text-center",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-full w-10 h-10 flex items-center justify-center mx-auto mb-2",children:e.jsx(G,{className:"text-blue-700"})}),e.jsx("p",{className:"font-medium mb-2",children:"Verify Academicians"}),e.jsx(j,{href:route("faculty-admin.academicians"),className:"mt-1 inline-flex items-center justify-center px-3 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors w-full text-xs",children:"Go to Verification"})]}),e.jsxs("div",{className:"bg-indigo-50 p-3 rounded-lg text-sm text-center",children:[e.jsx("div",{className:"bg-indigo-100 p-2 rounded-full w-10 h-10 flex items-center justify-center mx-auto mb-2",children:e.jsx(_,{className:"text-indigo-700"})}),e.jsx("p",{className:"font-medium mb-2",children:"Academicians Directory"}),e.jsx(j,{href:route("faculty-admin.directory"),className:"mt-1 inline-flex items-center justify-center px-3 py-1.5 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 transition-colors w-full text-xs",children:"View Directory"})]})]})]})]}),!w&&!y&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Today"}),e.jsx("p",{className:"text-sm text-gray-500 uppercase font-bold",children:N})]}),!w&&!y&&e.jsxs("div",{className:"mb-5",children:[e.jsx("div",{className:"mb-4 h-[280px]",children:e.jsx(u,{items:o.slice(0,5),timer:7e3,fadeDuration:300,renderItem:k,label:"Post",seoPrefix:"/posts/",label_color:"bg-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-[160px]",children:e.jsx(u,{items:l.slice(0,5),timer:8e3,fadeDuration:300,renderItem:U,label:"Event",seoPrefix:"/events/",label_color:"bg-red-500"})}),e.jsx("div",{className:"h-[160px]",children:e.jsx(u,{items:t.slice(0,5),timer:9e3,fadeDuration:300,renderItem:P,label:"Grant",seoPrefix:"/grants/",label_color:"bg-green-700"})})]})]}),!w&&!y&&e.jsx("div",{className:"mb-4",children:e.jsx(z,{})})]})})})};export{re as D,ne as a};
