import{j as t,q as j,r as y,b as C}from"./app-C8DLZsco.js";import{B as w}from"./book-open-DjojDjbo.js";import{T}from"./trending-up-eGKxj_9f.js";import{U as N}from"./users-BwJVE92h.js";import{C as f}from"./Carousel-BJJQ9rLl.js";import{c as $}from"./createLucideIcon-Bk8uzkhF.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_=$("Award",k),S=({user:l,tabs:p,activeTab:o,setActiveTab:d})=>t.jsxs("div",{className:"mb-6 md:mb-8",children:[t.jsxs("div",{className:"mb-4 md:mb-6",children:[t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center",children:["Welcome back, ",(l==null?void 0:l.full_name)||"User","!",t.jsx("span",{className:"ml-2 text-xl md:text-2xl",children:"ðŸ‘‹"})]}),t.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Here's what's happening with your academic activities today"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"-mb-px flex space-x-6 md:space-x-8 overflow-x-auto","aria-label":"Tabs",children:p.map(s=>t.jsx("button",{onClick:()=>d(s),className:`
                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                ${o===s?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                transition-colors duration-200 ease-in-out focus:outline-none
              `,children:s},s))})})]}),U=({posts:l=[]})=>{var x,h;const{auth:p}=j().props,o=p.user,[d,s]=y.useState(0),[r,m]=y.useState(!1),g=(a,i=100)=>{if(!a)return"";const e=a.replace(/<[^>]*>/g,"");return e.length<=i?e:e.substring(0,i)+"..."},u=l.length>0?l.slice(0,5).map(a=>({id:a.id,badge:a.category||"LATEST POST",title:a.title,subtitle:g(a.content,80),buttonText:"View Post",backgroundImage:a.featured_image?`/storage/${a.featured_image}`:"/storage/default.jpg",gradient:["from-blue-500 to-cyan-600","from-purple-500 to-pink-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-indigo-500 to-violet-600"][a.id%5],url:route("posts.show",a.url)})):[{id:1,badge:"WELCOME",title:"No Posts Available",subtitle:"Check back later for new content",buttonText:"Explore",backgroundImage:"/storage/default.jpg",gradient:"from-blue-500 to-cyan-600",url:route("dashboard")}];y.useEffect(()=>{const a=setInterval(()=>{m(!0),setTimeout(()=>{s(i=>(i+1)%u.length),setTimeout(()=>{m(!1)},50)},250)},5e3);return()=>clearInterval(a)},[u.length]);const v=a=>{a!==d&&(m(!0),setTimeout(()=>{s(a),setTimeout(()=>{m(!1)},50)},250))},n=u[d];return t.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-6 md:p-8 mb-8 relative overflow-hidden text-white",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30 transition-all duration-1000 ease-in-out",style:{backgroundImage:`url(${n.backgroundImage})`}}),t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${n.gradient} opacity-85 transition-all duration-1000 ease-in-out`}),t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between relative z-10 gap-6",children:[t.jsxs("div",{className:`w-full md:flex-1 transition-all duration-700 ease-in-out ${r?"opacity-0 transform translate-y-6":"opacity-100 transform translate-y-0"}${(x=o.academician)!=null&&x.scholar_profile?"":"mb-8 md:mb-4 lg:mb-4"}`,children:[t.jsx("div",{className:`text-xs text-white font-medium mb-2 bg-white bg-opacity-20 px-3 py-1 rounded-full inline-block transition-all duration-700 ease-in-out ${r?"opacity-0 transform translate-y-4":"opacity-100 transform translate-y-0"}`,children:n.badge}),t.jsx("h2",{className:`text-lg md:text-xl font-bold mb-2 transition-all duration-700 ease-in-out max-w-[700px] ${r?"opacity-0 transform translate-y-4":"opacity-100 transform translate-y-0"}`,style:{transitionDelay:r?"0ms":"200ms"},children:n.title}),t.jsx("p",{className:`text-sm opacity-90 mb-4 transition-all duration-700 ease-in-out ${r?"opacity-0 transform translate-y-4":"opacity-100 transform translate-y-0"}`,style:{transitionDelay:r?"0ms":"400ms"},children:n.subtitle}),t.jsx(C,{href:n.url,children:t.jsx("button",{className:`bg-white text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-opacity-90 transition-all duration-700 hover:scale-105 ${r?"opacity-0 transform translate-y-4":"opacity-100 transform translate-y-0"}`,style:{transitionDelay:r?"0ms":"600ms"},children:n.buttonText})})]}),((h=o.academician)==null?void 0:h.scholar_profile)&&t.jsx("div",{className:"w-full md:flex-1 relative mb-8 md:mb-0 lg:mb-0",children:t.jsx("div",{className:"grid grid-cols-2 gap-4 md:gap-6",children:[{icon:w,value:o.academician.total_publications,label:"Publications",color:"text-white"},{icon:T,value:o.academician.scholar_profile.total_citations,label:"Citations",color:"text-white"},{icon:_,value:o.academician.scholar_profile.h_index,label:"h-index",color:"text-white"},{icon:N,value:o.collaborator_count,label:"Collaborations",color:"text-white"}].map((a,i)=>{const e=a.icon;return t.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-xl p-3 md:p-4 text-center hover:bg-opacity-30 hover:scale-105 transition-all duration-200",children:[t.jsx(e,{className:"w-6 h-6 md:w-8 md:h-8 mx-auto mb-2 text-white"}),t.jsx("div",{className:"text-sm md:text-lg font-bold",children:a.value}),t.jsx("div",{className:"text-xs opacity-80",children:a.label})]},i)})})})]}),t.jsx("div",{className:"absolute bottom-6 left-8 flex space-x-3 z-20",children:u.map((a,i)=>t.jsx("button",{onClick:()=>v(i),className:`w-2 h-2 rounded-full transition-all duration-500 hover:scale-125 ${i===d?"bg-white shadow-lg scale-110":"bg-white bg-opacity-50 hover:bg-opacity-70"}`},i))})]})},L=({posts:l=[],events:p=[],grants:o=[]})=>{var i;const{auth:d}=j().props,s=d.user;console.log(s);const[r,m]=y.useState("All"),g=e=>{if(typeof window>"u")return"";const c=document.createElement("DIV");return c.innerHTML=e,c.textContent||c.innerText||""},u=e=>{var c,b;return{id:`post-${e.id}`,title:e.title||"Untitled Post",subtitle:e.category||"Post",description:e.content?g(e.content).substring(0,120)+"...":"",status:"Post",date:new Date(e.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),author:((c=e.author)==null?void 0:c.name)||"Unknown Author",readTime:`${Math.ceil((((b=e.content)==null?void 0:b.length)||0)/1e3)} min read`,views:e.total_views||"0",likes:e.total_likes||"0",shares:e.total_shares||"0",type:"post",category:e.category||"Research",bgColor:"from-blue-900 to-purple-900",statusColor:"bg-blue-500 text-white",backgroundImage:e.featured_image?`/storage/${e.featured_image}`:"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=1200",url:`/posts/${e.url}`}},v=e=>({id:`event-${e.id}`,title:e.event_name||"Untitled Event",subtitle:e.event_theme||"Event",description:e.description?g(e.description).substring(0,120)+"...":"",status:"Event",date:new Date(e.start_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),author:e.author_id||"Organizer",readTime:"Event",type:"event",category:e.event_type||"Conference",bgColor:"from-purple-600 to-purple-800",statusColor:"bg-red-500 text-white",backgroundImage:e.image?`/storage/${e.image}`:"https://images.pexels.com/photos/2774556/pexels-photo-2774556.jpeg?auto=compress&cs=tinysrgb&w=800",url:`/events/${e.url}`}),n=e=>({id:`grant-${e.id}`,title:e.title||"Untitled Grant",subtitle:Array.isArray(e.grant_theme)?e.grant_theme.join(", "):"Grant",description:e.description?g(e.description).substring(0,120)+"...":"",status:"Grant",date:new Date(e.application_deadline).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),author:e.sponsored_by||"Funder",readTime:"Grant",type:"grant",category:e.grant_type||"Funding",bgColor:"from-green-600 to-green-800",statusColor:"bg-green-500 text-white",backgroundImage:e.image?`/storage/${e.image}`:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&w=800",url:`/grants/${e.url}`}),x=l.slice(0,5).map(u),h=p.slice(0,5).map(v),a=o.slice(0,5).map(n);return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Academic Insights"}),t.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Stay updated with the latest in research, funding, and academic opportunities"})]}),((i=s.academician)==null?void 0:i.scholar_profile)&&t.jsx("div",{className:"hidden md:flex items-center space-x-6",children:[{icon:N,value:s.collaborator_count,label:"Collaborations",color:"text-green-600"},{icon:_,value:s.academician.scholar_profile.total_citations,label:"Citations",color:"text-purple-600"},{icon:w,value:s.academician.total_publications,label:"Publications",color:"text-orange-600"}].map((e,c)=>{const b=e.icon;return t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"flex items-center justify-center mb-1",children:[t.jsx(b,{className:`w-5 h-5 ${e.color} mr-2`}),t.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),t.jsx("span",{className:"text-xs text-gray-500 font-medium",children:e.label})]},c)})})]}),t.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 mb-6 overflow-x-auto",children:[t.jsx("span",{className:"text-sm font-medium text-gray-500 whitespace-nowrap",children:"CATEGORIES:"}),["All","Posts","Events","Funding"].map(e=>t.jsx("button",{onClick:()=>m(e),className:`px-3 md:px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 whitespace-nowrap ${r===e?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e},e))]})]}),r==="All"?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-9 gap-6 mb-8",children:[t.jsx("div",{className:"md:col-span-6",children:t.jsx(f,{items:x,cardType:"featured",timer:8e3,className:"h-96"},"posts-carousel")}),t.jsxs("div",{className:"md:col-span-3 flex flex-col space-y-4",children:[t.jsx("div",{className:"h-48",children:t.jsx(f,{items:h,cardType:"regular",timer:6e3,className:"h-full"},"events-carousel")}),t.jsx("div",{className:"h-48",children:t.jsx(f,{items:a,cardType:"regular",timer:7e3,className:"h-full"},"grants-carousel")})]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-9 gap-6 mb-8",children:t.jsx("div",{className:"col-span-1 md:col-span-9",children:t.jsx(f,{items:(()=>{switch(r){case"Posts":return x;case"Events":return h;case"Funding":return a;default:return x}})(),cardType:"featured",timer:8e3,className:"h-96"},`${r}-carousel`)})})]})};export{U as F,S as H,L as P};
