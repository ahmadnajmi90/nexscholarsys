import{r as x,j as e,R as j}from"./app-DQ4-jIOt.js";import{F as y}from"./FilterDropdown-CkW5IT6m.js";import{S as u}from"./SearchBar-lfzQt0Az.js";import v from"./ContentSkeletonCard-CKRAKYAo.js";import"./purify.es-B2xYLbnv.js";import"./react-select.esm-DI3bdplx.js";const w=({html:a,maxLength:o=100,className:l})=>{if(!a)return e.jsx("p",{className:l,children:"No content available"});const i=a.replace(/<[^>]*>/g,""),s=i.length>o?i.substring(0,o)+"...":i;return e.jsx("p",{className:l,children:s})},L=({posts:a,isLoading:o})=>{const[l,i]=x.useState([]),[s,d]=x.useState(1),c=9,[h,m]=x.useState(!1),p=[...new Set(a.map(t=>t.category))].filter(Boolean).map(t=>({value:t,label:t})),g=a.filter(t=>l.length===0||l.includes(t.category)),n=Math.ceil(g.length/c),b=g.slice((s-1)*c,s*c);return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"fixed top-20 left-4 z-50 lg:left-auto lg:right-20 hidden lg:block",children:e.jsx(u,{placeholder:"Search posts...",routeName:"posts.index",className:""})}),e.jsxs("div",{className:"fixed top-20 right-4 z-50 flex flex-col items-end space-y-2 lg:hidden",children:[e.jsx("button",{onClick:()=>m(!h),className:"bg-blue-600 text-white p-2 rounded-lg shadow-lg",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L13 14.414V19a1 1 0 01-1 1h-2a1 1 0 01-1-1v-4.586L3.293 6.707A1 1 0 013 6V4z"})})}),e.jsx(u,{placeholder:"Search posts...",routeName:"posts.index",className:""})]}),e.jsxs("div",{className:`fixed lg:relative top-0 left-0 lg:block lg:w-1/4 w-3/4 h-full bg-gray-100 border-r rounded-lg p-4 transition-transform duration-300 z-50 ${h?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex justify-between items-center",children:["Filters",e.jsx("button",{onClick:()=>m(!1),className:"text-gray-600 lg:hidden",children:"✕"})]}),e.jsx(y,{label:"Category",options:p,selectedValues:l,setSelectedValues:i})]}),e.jsxs("div",{className:"flex-1 py-6 sm:py-4 lg:py-0 px-4",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o?Array.from({length:9},(t,r)=>e.jsx(v,{},r)):b.map((t,r)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[e.jsx("img",{src:t.featured_image?`/storage/${t.featured_image}`:"/storage/default.jpg",alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 truncate",title:t.title,children:t.title}),e.jsx("p",{className:"text-gray-600 h-12 mt-4 text-center font-extralight",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.jsx(w,{html:t.content||"No content available.",maxLength:100})})]}),e.jsx("div",{className:"px-4",children:e.jsx("a",{href:route("posts.show",t.url),className:"inline-block rounded-full border border-gray-300 px-7 py-2 text-base font-medium text-body-color transition hover:border-primary hover:bg-primary hover:text-dark",children:"View Details"})})]},r))}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-2 items-center",children:[e.jsx("button",{onClick:()=>d(t=>Math.max(t-1,1)),disabled:s===1,className:"px-4 py-2 border rounded bg-white text-gray-700 hover:bg-gray-200 disabled:opacity-50",children:"◄"}),Array.from({length:n},(t,r)=>r+1).filter(t=>t===1||t===n||Math.abs(t-s)<=1).map((t,r,f)=>e.jsxs(j.Fragment,{children:[r>0&&t-f[r-1]>1&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{onClick:()=>d(t),className:`px-4 py-2 border rounded ${s===t?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:t})]},t)),e.jsx("button",{onClick:()=>d(t=>Math.min(t+1,n)),disabled:s===n,className:"px-4 py-2 border rounded bg-white text-gray-700 hover:bg-gray-200 disabled:opacity-50",children:"►"})]})]})]})};export{L as default};
