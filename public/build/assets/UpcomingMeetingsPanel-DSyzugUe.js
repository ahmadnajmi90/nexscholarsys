import{r as c,j as e,a as g}from"./app-6KcAPae7.js";import{C as j,b as N,c as b,a as v}from"./card-DRZLFWri.js";import{A as C,a as M}from"./avatar-kp0-Th7A.js";import{B as w}from"./badge-Dkfwv-D6.js";import{l as y}from"./logError-BloCzXDJ.js";import k from"./MeetingActionMenu-DpqGS-G-.js";import D from"./RescheduleMeetingDialog-BoYzuZVr.js";import{C as E}from"./calendar-clock-B61dbwWF.js";import{L}from"./loader-circle-BGO5wi-L.js";import{C as T}from"./calendar-CKvWh2Fc.js";import{V as _}from"./video-DdAJ5q5Z.js";import{M as R}from"./map-pin-jgRB7HNr.js";import{n as P,c as S}from"./en-US-DIdCsyf3.js";import{c as U}from"./constructNow-6bIQB1GK.js";import{a as f,f as p}from"./format-BOijCLBA.js";import{i as x,a as h}from"./isTomorrow-BmoHjX9b.js";import"./utils-CBfrqCZ4.js";import"./index-CdJFUDDL.js";import"./index-DjCDrVl_.js";import"./dropdown-menu-mrGlMooO.js";import"./index-C_9bpbuH.js";import"./index-C3-aQ1HP.js";import"./index-JAD3o4sP.js";import"./index-CANaiMod.js";import"./index-CkzViFFx.js";import"./index-uYzWXxXP.js";import"./index-Cxfb7wM5.js";import"./index-Kc-fmclX.js";import"./index-D5o-Dx5T.js";import"./index-CNVNpKw3.js";import"./floating-ui.dom-D5EC_49c.js";import"./index-CSjGVC7d.js";import"./index-D0Fvtqyz.js";import"./index-4gt4wYEX.js";import"./chevron-right-BAu-tXgn.js";import"./createLucideIcon-Dg0NKHwN.js";import"./check-yEdCv6kj.js";import"./circle-Cf7Zl44T.js";import"./button-CrdDRXAu.js";import"./alert-dialog-DFZd1PJm.js";import"./index-BT3GCukP.js";import"./useGoogleCalendar-FGOH5dT8.js";import"./ellipsis-vertical-llPGbETr.js";import"./trash-2-B4CrugC8.js";import"./Modal-CJvMaQW5.js";import"./dialog-CwJFq24I.js";import"./transition-CSwR4vyx.js";import"./input-mPZbvcwj.js";import"./textarea-BWWWuSfQ.js";import"./label-CB_vtBTU.js";import"./alert-Bq8V-QnM.js";import"./x-RVcZvC1Z.js";import"./isSameDay-BHs4V-zU.js";import"./addDays-KHeCUDUr.js";function A(t,i,r){const[o,m]=P(r?.in,t,i);return+f(o,r)==+f(m,r)}function $(t,i){return A(S(t,t),U(t),i)}function Fe({userRole:t,triggerReload:i=0}){const[r,o]=c.useState([]),[m,s]=c.useState(!0),[d,l]=c.useState(null),n=async()=>{try{const a=await g.get(route("supervision.activity.upcoming-meetings"));o(a.data.data||[])}catch(a){y(a,"UpcomingMeetingsPanel loadMeetings")}finally{s(!1)}};return c.useEffect(()=>{n()},[i]),e.jsxs(e.Fragment,{children:[e.jsxs(j,{className:"shadow-sm",children:[e.jsx(N,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-slate-700"}),e.jsx(b,{className:"text-base font-semibold text-slate-900",children:"Upcoming Meetings"})]})}),e.jsx(v,{children:m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(L,{className:"h-5 w-5 animate-spin text-indigo-600"})}):r.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(T,{className:"h-8 w-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"No upcoming meetings"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Schedule your first meeting to get started"})]}):e.jsx("div",{className:"space-y-3",children:r.map(a=>e.jsx(B,{meeting:a,onUpdate:l,onRefresh:n},a.id))})})]}),e.jsx(D,{meeting:d,onClose:()=>l(null),onRescheduled:()=>{l(null),n()}})]})}function B({meeting:t,onUpdate:i,onRefresh:r}){const o=t.other_person?.name||"Unknown",m=t.other_person?.profile_picture,s=new Date(t.scheduled_for),d=o.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2),n=x(s)?`Today ${p(s,"h:mm a")}`:h(s)?`Tomorrow ${p(s,"h:mm a")}`:$(s)?p(s,"EEEE h:mm a"):p(s,"MMM d, h:mm a"),a=!!t.location_link;return e.jsx("div",{className:"p-3 bg-slate-50 rounded-lg transition-all hover:bg-slate-100 border border-transparent",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"h-9 w-9",children:m?e.jsx("img",{src:`/storage/${m}`,alt:o,className:"h-full w-full object-cover"}):e.jsx(M,{className:"bg-indigo-100 text-indigo-700 text-xs",children:d})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm truncate",children:o}),e.jsx("div",{className:`text-sm mt-0.5 ${x(s)||h(s)?"text-indigo-600 font-medium":"text-slate-600"}`,children:n}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[t.location_type==="Online"||a?e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx(_,{className:"h-3 w-3"}),e.jsx("span",{children:"Online"})]}):e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx(R,{className:"h-3 w-3"}),e.jsx("span",{children:"Physical"})]}),(x(s)||h(s))&&e.jsx(w,{className:"bg-amber-100 text-amber-700 border-amber-200 text-xs",children:"Soon"})]})]}),e.jsx(k,{meeting:t,onUpdate:i,onCancel:r})]})})}export{Fe as default};
