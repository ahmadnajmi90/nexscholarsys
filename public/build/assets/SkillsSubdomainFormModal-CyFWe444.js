import{W as j,r as k,j as e}from"./app-A8xQkvSk.js";import{V as x}from"./index-Km-vM6Jb.js";function S({isOpen:t,onClose:d,subdomain:s=null,domainId:l,selectedDomain:a,mode:r="create"}){var u;const{data:c,setData:n,post:f,processing:i,errors:m,reset:g}=j({name:(s==null?void 0:s.name)||"",skills_domain_id:(s==null?void 0:s.skills_domain_id)||l||""});k.useEffect(()=>{t&&r==="edit"&&s?n({name:s.name||"",skills_domain_id:s.skills_domain_id||l||""}):t&&r==="create"&&n({name:"",skills_domain_id:l||""})},[t,s,l,r]);const b=o=>{o.preventDefault();const p=r==="create"?"Skills Subdomain created successfully!":"Skills Subdomain updated successfully!",h=r==="create"?"/admin/data-management/skills-subdomains":`/admin/data-management/skills-subdomains/${s.id}`;f(h,{onSuccess:()=>{x.success(p),d(),r==="create"&&g()},onError:y=>{x.error(`Error ${r==="create"?"saving":"updating"} skills subdomain`),console.error(y)}})};return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r==="edit"?"Edit Skills Subdomain":"Add New Skills Subdomain"})}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subdomain Name *"}),e.jsx("input",{type:"text",id:"name",value:c.name,onChange:o=>n("name",o.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., Software Development",required:!0}),m.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"domain_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills Domain"}),e.jsx("input",{type:"text",id:"domain_name",value:(a==null?void 0:a.name)||((u=s==null?void 0:s.domain)==null?void 0:u.name)||"",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",readOnly:!0,required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This subdomain will belong to the selected domain."})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i||!c.skills_domain_id,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:i?"Saving...":r==="edit"?"Update":"Create"})]})]})]})}):null}export{S as default};
