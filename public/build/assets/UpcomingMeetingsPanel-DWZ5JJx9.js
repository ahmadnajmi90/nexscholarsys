import{r as c,j as e,a as N}from"./app-Doi1BfNX.js";import{C as b,b as v,c as C,a as M}from"./card-CzKfn69n.js";import{A as w,a as y}from"./avatar-D-ohjjtQ.js";import{B as k}from"./badge-Be2D36dO.js";import{l as D}from"./logError-D4ezqrCx.js";import E from"./MeetingActionMenu-BYBOA7jz.js";import L from"./RescheduleMeetingDialog-BPPr8DDV.js";import{C as T}from"./calendar-clock-DWMtvC7-.js";import{L as _}from"./loader-circle-D1uCPtBJ.js";import{C as R}from"./calendar-CBO9yeE8.js";import{V as P}from"./video-CabzSFea.js";import{M as S}from"./map-pin-DiSa39wd.js";import{n as U,c as A}from"./en-US-DNUEYIb-.js";import{c as $}from"./constructNow-DtVD-0hX.js";import{a as g,f as p}from"./format-Dv9Rm441.js";import{i as x,a as h}from"./isTomorrow-DJhbrIGS.js";import"./utils-D-KgF5mV.js";import"./index-CGrAONsN.js";import"./index-dbiIR3J5.js";import"./dropdown-menu-D9Lm4F-f.js";import"./index-B_QUZuO0.js";import"./index-FRhtyj0h.js";import"./index-CkAoBwhz.js";import"./index-Ct-Jk4RI.js";import"./index-Bb94jkfk.js";import"./index-CZA6k5rr.js";import"./index-BdR5mO0l.js";import"./index-CU8Rt2qH.js";import"./tslib.es6-CmEaCU22.js";import"./index-BkPy3AN8.js";import"./floating-ui.dom-eiE65J5j.js";import"./index-CJzlUPP7.js";import"./index-BGtqCWya.js";import"./index-Be4Hbpsc.js";import"./chevron-right-Dg3EFaoF.js";import"./createLucideIcon-BIWf6Fgr.js";import"./check-C48ewYru.js";import"./circle-B6s9ZxiZ.js";import"./button-KPEq8PdI.js";import"./index-DGcNwIW4.js";import"./useGoogleCalendar-BXh9FXme.js";import"./ellipsis-vertical-DjhnSdLn.js";import"./trash-2-DurOfiw5.js";import"./Modal-BjJ_nX2Q.js";import"./dialog-DYcl7DcC.js";import"./transition-Dk-vnbkR.js";import"./input-yCRxI6tt.js";import"./textarea-B9-sF3_G.js";import"./label-BYlrvoGV.js";import"./alert-DlfG3K4y.js";import"./x-DrXySrr5.js";import"./isSameDay-Dm-A-V7S.js";import"./addDays-CAl2nVVE.js";function B(t,i,a){const[o,m]=U(a==null?void 0:a.in,t,i);return+g(o,a)==+g(m,a)}function F(t,i){return B(A(t,t),$(t),i)}function Oe({userRole:t,triggerReload:i=0}){const[a,o]=c.useState([]),[m,s]=c.useState(!0),[d,l]=c.useState(null),n=async()=>{try{const r=await N.get(route("supervision.activity.upcoming-meetings"));o(r.data.data||[])}catch(r){D(r,"UpcomingMeetingsPanel loadMeetings")}finally{s(!1)}};return c.useEffect(()=>{n()},[i]),e.jsxs(e.Fragment,{children:[e.jsxs(b,{className:"shadow-sm",children:[e.jsx(v,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-slate-700"}),e.jsx(C,{className:"text-base font-semibold text-slate-900",children:"Upcoming Meetings"})]})}),e.jsx(M,{children:m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(_,{className:"h-5 w-5 animate-spin text-indigo-600"})}):a.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(R,{className:"h-8 w-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"No upcoming meetings"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Schedule your first meeting to get started"})]}):e.jsx("div",{className:"space-y-3",children:a.map(r=>e.jsx(O,{meeting:r,onUpdate:l,onRefresh:n},r.id))})})]}),e.jsx(L,{meeting:d,onClose:()=>l(null),onRescheduled:()=>{l(null),n()}})]})}function O({meeting:t,onUpdate:i,onRefresh:a}){var f,u;const o=((f=t.other_person)==null?void 0:f.name)||"Unknown",m=(u=t.other_person)==null?void 0:u.profile_picture,s=new Date(t.scheduled_for),d=o.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2),n=x(s)?`Today ${p(s,"h:mm a")}`:h(s)?`Tomorrow ${p(s,"h:mm a")}`:F(s)?p(s,"EEEE h:mm a"):p(s,"MMM d, h:mm a"),r=!!t.location_link;return e.jsx("div",{className:"p-3 bg-slate-50 rounded-lg transition-all hover:bg-slate-100 border border-transparent",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(w,{className:"h-9 w-9",children:m?e.jsx("img",{src:`/storage/${m}`,alt:o,className:"h-full w-full object-cover"}):e.jsx(y,{className:"bg-indigo-100 text-indigo-700 text-xs",children:d})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-slate-900 text-sm truncate",children:o}),e.jsx("div",{className:`text-sm mt-0.5 ${x(s)||h(s)?"text-indigo-600 font-medium":"text-slate-600"}`,children:n}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[t.location_type==="Online"||r?e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx(P,{className:"h-3 w-3"}),e.jsx("span",{children:"Online"})]}):e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsx("span",{children:"Physical"})]}),(x(s)||h(s))&&e.jsx(k,{className:"bg-amber-100 text-amber-700 border-amber-200 text-xs",children:"Soon"})]})]}),e.jsx(E,{meeting:t,onUpdate:i,onCancel:a})]})})}export{Oe as default};
