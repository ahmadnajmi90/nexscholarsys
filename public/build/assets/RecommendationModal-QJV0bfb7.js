import{r as d,j as e,b as p}from"./app-DtwGMIw6.js";import{H as b,I as g,J as f,K as j,L as v}from"./index-B-tsYz2y.js";function y({academician:n,onClose:l,onSuccess:x}){const[r,u]=d.useState({academician_id:n.academician_id,communication_comment:"",support_comment:"",expertise_comment:"",responsiveness_comment:""}),[t,m]=d.useState({}),[c,i]=d.useState(!1),o=(s,a)=>{u({...r,[s]:a})},h=s=>{s.preventDefault(),i(!0),m({}),p.post(route("academicians.recommendations.store"),r).then(a=>{i(!1),x&&x()}).catch(a=>{i(!1),a.response&&a.response.data.errors?m(a.response.data.errors):a.response&&a.response.data.error?m({general:a.response.data.error}):m({general:"An error occurred while submitting your recommendation."})})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:l,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-lg max-h-[90vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Recommend ",n.full_name]}),e.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx(b,{})})]}),t.general&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:t.general})})})}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Share your experience working with ",n.full_name,". Your comments will help others make informed decisions."]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(g,{className:"text-blue-500 mr-2 h-5 w-5"}),e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Communication"})]}),e.jsx("textarea",{rows:"3",className:"shadow-sm block w-full focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300 rounded-md",placeholder:"How effective is their communication style? Share your thoughts...",value:r.communication_comment,onChange:s=>o("communication_comment",s.target.value)}),t.communication_comment&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.communication_comment})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(f,{className:"text-pink-500 mr-2 h-5 w-5"}),e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Supportiveness"})]}),e.jsx("textarea",{rows:"3",className:"shadow-sm block w-full focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300 rounded-md",placeholder:"How supportive are they? Share your experience...",value:r.support_comment,onChange:s=>o("support_comment",s.target.value)}),t.support_comment&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.support_comment})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(j,{className:"text-yellow-500 mr-2 h-5 w-5"}),e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Expertise & Knowledge"})]}),e.jsx("textarea",{rows:"3",className:"shadow-sm block w-full focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300 rounded-md",placeholder:"How would you rate their expertise and knowledge? Share your insights...",value:r.expertise_comment,onChange:s=>o("expertise_comment",s.target.value)}),t.expertise_comment&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.expertise_comment})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(v,{className:"text-red-500 mr-2 h-5 w-5"}),e.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Responsiveness & Availability"})]}),e.jsx("textarea",{rows:"3",className:"shadow-sm block w-full focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300 rounded-md",placeholder:"How responsive and available are they? Share your experience...",value:r.responsiveness_comment,onChange:s=>o("responsiveness_comment",s.target.value)}),t.responsiveness_comment&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.responsiveness_comment})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:`px-4 py-2 bg-blue-600 text-white rounded-md ${c?"opacity-70 cursor-not-allowed":"hover:bg-blue-700"}`,children:c?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Submitting..."]}):"Submit Recommendation"})]})]})]})})}export{y as R};
