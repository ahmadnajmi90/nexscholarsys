import{r as l,j as e,R as V}from"./app-BefuRNO7.js";import{F as p}from"./FilterDropdown-DCC1vnUg.js";import"./react-select.esm-Dyo60qZg.js";const P=({grants:n})=>{const[s,b]=l.useState(null),[N,u]=l.useState(!1),[o,v]=l.useState([]),[c,w]=l.useState([]),[d,k]=l.useState([]),[r,m]=l.useState(1),[g,y]=l.useState(!1),h=9,C=[...new Set(n.map(t=>t.grant_type))].filter(Boolean).map(t=>({value:t,label:t})),S=[...new Set(n.flatMap(t=>t.grant_theme||[]))].filter(Boolean).map(t=>({value:t,label:t})),_=[...new Set(n.map(t=>t.country))].filter(Boolean).map(t=>({value:t,label:t})),j=n.filter(t=>{const a=o.length===0||o.includes(t.grant_type),x=c.length===0||t.grant_theme&&t.grant_theme.some(M=>c.includes(M)),F=d.length===0||d.includes(t.country);return a&&x&&F}),i=Math.ceil(j.length/h),G=j.slice((r-1)*h,r*h),T=t=>{b(t),u(!0)},f=()=>{b(null),u(!1)};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("button",{onClick:()=>y(!g),className:"fixed top-20 right-4 z-50 bg-blue-600 text-white p-2 rounded-full shadow-lg lg:hidden",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L13 14.414V19a1 1 0 01-1 1h-2a1 1 0 01-1-1v-4.586L3.293 6.707A1 1 0 013 6V4z"})})}),e.jsxs("div",{className:`fixed lg:relative top-0 left-0 lg:block lg:w-1/4 w-3/4 h-full bg-gray-100 border-r rounded-lg p-4 transition-transform duration-300 z-50 ${g?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex justify-between items-center",children:["Filters",e.jsx("button",{onClick:()=>y(!1),className:"text-gray-600 lg:hidden",children:"✕"})]}),e.jsx(p,{label:"Grant Type",options:C,selectedValues:o,setSelectedValues:v}),e.jsx(p,{label:"Grant Theme",options:S,selectedValues:c,setSelectedValues:w}),e.jsx(p,{label:"Country",options:_,selectedValues:d,setSelectedValues:k})]}),e.jsxs("div",{className:"flex-1 py-6 sm:py-4 lg:py-0 px-4",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map((t,a)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[e.jsx("img",{src:t.image?`/storage/${t.image}`:"/storage/default.jpg",alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 truncate",title:t.title,children:t.title}),e.jsx("p",{className:"text-gray-600 mt-4 text-center font-extralight",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},dangerouslySetInnerHTML:{__html:t.description||"No description available."}})]}),e.jsx("button",{onClick:()=>T(t),className:"inline-block rounded-full border border-gray-300 px-7 py-2 text-base font-medium transition hover:border-primary hover:bg-primary hover:text-dark",children:"View Details"})]},a))}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-2 items-center",children:[e.jsx("button",{onClick:()=>m(t=>Math.max(t-1,1)),disabled:r===1,className:"px-4 py-2 border rounded bg-white text-gray-700 hover:bg-gray-200 disabled:opacity-50",children:"◄"}),Array.from({length:i},(t,a)=>a+1).filter(t=>t===1||t===i||Math.abs(t-r)<=1).map((t,a,x)=>e.jsxs(V.Fragment,{children:[a>0&&t-x[a-1]>1&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{onClick:()=>m(t),className:`px-4 py-2 border rounded ${r===t?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:t})]},t)),e.jsx("button",{onClick:()=>m(t=>Math.min(t+1,i)),disabled:r===i,className:"px-4 py-2 border rounded bg-white text-gray-700 hover:bg-gray-200 disabled:opacity-50",children:"►"})]})]}),N&&s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:f,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-3xl w-full overflow-y-auto max-h-[90vh]",onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:s.image?`/storage/${s.image}`:"/storage/default.jpg",alt:s.title,className:"w-full h-48 object-cover rounded-t-lg mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 text-center",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-2",dangerouslySetInnerHTML:{__html:s.description}}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Grant Type:"})," ",s.grant_type||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Grant Theme:"})," ",Array.isArray(s.grant_theme)?s.grant_theme.join(", "):"No Grant Theme Specified"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Cycle:"})," ",s.cycle||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Grant Duration:"})," ",s.start_date?`${s.start_date} - ${s.end_date}`:"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Application Deadline:"})," ",s.application_deadline||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Sponsored by:"})," ",s.sponsored_by||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Website / Link:"})," ",s.website||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Contact Email:"})," ",s.email||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",s.attachment?e.jsx("a",{href:`/storage/${s.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"}):"No attachment available."]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:f,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200",children:"Close"})})]})})]})};export{P as default};
