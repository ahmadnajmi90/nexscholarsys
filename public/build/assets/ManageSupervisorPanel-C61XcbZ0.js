import{q as oe,r as l,a as K,j as e,y as me}from"./app-BodExSbw.js";import{C as u,b as H,c as de,a as g}from"./card-DlB-Racq.js";import{B as v}from"./badge-DjhgJA26.js";import{B as M}from"./button-DBoeCbAi.js";import{A as D,a as O}from"./avatar-DwsKaBC2.js";import"./separator-Dmz1NQC9.js";import{A as xe,a as pe}from"./alert-CvPXVyA9.js";import{T as he,a as ue,b as $,c as B}from"./tabs-f_7yQiVN.js";import ge from"./StudentRelationshipDetailModal-B_U5f6au.js";import ve from"./UniversityLetterUploadModal-Cr2dnNMI.js";import je from"./ScheduleMeetingDialog-B8Sdqh5k.js";import fe from"./CoSupervisorSearchModal-BYn1PJN0.js";import Ne from"./CoSupervisorInvitationCard-mtRl-P0i.js";import be from"./CoSupervisorInvitationDetailPanel-k4e0nkv3.js";import we from"./UnifiedRequestDetailCard-ebINJ2Fq.js";import ye from"./ResearchTab-plakASU7.js";import Ce from"./DocumentsTab-5mqizQw0.js";import{T as Se}from"./ThreadPane-BcUCYjUT.js";import{c as _e}from"./index-mDeC9k3u.js";import{C as V}from"./circle-check-C3TcVouP.js";import{C as Q}from"./clock-D9yThb50.js";import{C as W}from"./circle-x-Dc5lA-k5.js";import{U as ee}from"./user-round-ujBW7jHx.js";import{F as R}from"./file-text-CbeunphJ.js";import{U as Z}from"./users-DczRUbjv.js";import{C as Me}from"./clock-3-BbTirI7S.js";import{M as se}from"./message-circle-Bvos9TQ_.js";import{U as Re}from"./upload-GJhMhdHe.js";import{C as Ue}from"./calendar-clock-DXxYqH1x.js";import{S as Te}from"./settings-Ct90E523.js";import{U as ke}from"./user-plus-kZal9lGf.js";import{f as Ae}from"./format-Dv9Rm441.js";import{f as Ie}from"./formatDistanceToNow-GKXiLTrL.js";import"./utils-D-KgF5mV.js";import"./index-CGrAONsN.js";import"./index-CuEpCwL6.js";import"./index-BNbWxI0H.js";import"./index-B08zmKDA.js";import"./index-D4c9OpUc.js";import"./index-BBnFLmbe.js";import"./index-CtmDxyuO.js";import"./index-D7Nzv7pr.js";import"./index-DVO2p-KC.js";import"./modalAnimations-CCENKliM.js";import"./supervisionHelpers-EJT0WNFw.js";import"./scroll-area-Ce2gizj4.js";import"./index-BdQq_4o_.js";import"./UnifiedOverviewTab-DbTxfZvg.js";import"./briefcase-BpSSXkaq.js";import"./createLucideIcon-plmRflaj.js";import"./mail-DW8LOIRf.js";import"./phone-BmAt8SOh.js";import"./graduation-cap-DVTjW2kl.js";import"./globe-BnhB8Pc-.js";import"./UnbindRequestModal-CK9H6KZu.js";import"./Modal-BAfxSvqC.js";import"./dialog-yB7Y4Mvq.js";import"./transition-DOpmeePd.js";import"./textarea-BOIQB42l.js";import"./logError-D4ezqrCx.js";import"./user-minus-l6smeTdw.js";import"./triangle-alert-CMd7VCYq.js";import"./loader-circle-Cw7Nqhid.js";import"./RelationshipHistoryTab-JVsaq2T5.js";import"./circle-alert-CQJiC0Ry.js";import"./tooltip-B0O2cJGD.js";import"./index-BJkGQNDv.js";import"./index-C0YnOByL.js";import"./floating-ui.dom-eiE65J5j.js";import"./index-BbHqW-rW.js";import"./index-CbELOpWX.js";import"./index-DwEPtsR4.js";import"./proxy-Bi0KVEdU.js";import"./x-hDgAYzkQ.js";import"./calendar-B_CZibmO.js";import"./video-M2uVkNtU.js";import"./external-link-D_semteh.js";import"./label-BPOuFRJU.js";import"./input-C2RNHGC9.js";import"./useGoogleCalendar-Dt-LBfk8.js";import"./index-BsNU-Hrf.js";import"./search-CcfjS-o3.js";import"./user-Dsu1AnUj.js";import"./DocumentPreviewModal-47ZqNLhU.js";import"./download-Dwu8Gboh.js";import"./eye-B653hH95.js";import"./chevron-down-nQDcq6tx.js";import"./chevron-right-R9vm_i8s.js";import"./folder-open-b1dfqSPu.js";import"./history-DoNeWKAs.js";import"./message-square-D6KZh6aw.js";import"./AttachmentPreviewModal-CfDD-tdx.js";import"./AcceptSupervisorOfferModal-DFcQrHwz.js";import"./checkbox-BbFk3kcJ.js";import"./index-BU_vkww_.js";import"./check-CzANbjxc.js";import"./AcceptSupervisionRequestModal-DUeVX9pZ.js";import"./select-DL2Hhu2C.js";import"./index---8uu-Q5.js";import"./tslib.es6-CmEaCU22.js";import"./chevron-up-D-sgdM5K.js";import"./lightbulb-9R2fYqeX.js";import"./DeclineSupervisionRequestModal-BljR9heU.js";import"./supervisionConstants-BuM5-H5X.js";import"./building-2-KMWe0qjh.js";import"./sticky-note-Cj-lYcYe.js";import"./trash-2-CDTv5Cmp.js";import"./isSameDay-Dm-A-V7S.js";import"./en-US-DNUEYIb-.js";import"./plus-DVan65NG.js";import"./circle-BPjIECXT.js";import"./constructNow-DtVD-0hX.js";function Bt({relationships:s=[],reload:t,onOpenDetail:c,onOpenMeetings:o}){const{auth:p}=oe().props,[j,h]=l.useState("active"),[r,m]=l.useState(null),[d,x]=l.useState("overview"),[f,y]=l.useState(!1),[k,A]=l.useState(!1),[U,I]=l.useState(null),[N,F]=l.useState([]),[C,Y]=l.useState(null),[P,q]=l.useState(null),[L,E]=l.useState(null),[S,z]=l.useState(null),b=l.useMemo(()=>Array.isArray(s)?s.filter(a=>a.status==="active"):[],[s]),w=l.useMemo(()=>Array.isArray(s)?s.filter(a=>a.status==="terminated"):[],[s]),n=l.useMemo(()=>b.find(a=>a.role==="main"),[b]),_=l.useMemo(()=>{const a=b.filter(T=>T.role==="co");return n?[n,...a]:a},[n,b]);l.useEffect(()=>{n&&i()},[n]);const i=async()=>{try{const a=await K.get("/api/v1/app/supervision/cosupervisor-invitations/my-invitations"),T=[...a.data.as_cosupervisor||[],...a.data.to_approve||[],...a.data.as_initiator||[]];if(F(T),n.academician_id)try{const ce=((await K.get("/api/v1/app/supervision/requests")).data.data||[]).find(J=>J.academician_id===n.academician_id&&J.status==="accepted");Y(ce)}catch(G){console.error("Error loading supervision request:",G)}n.student&&z(n.student)}catch(a){console.error("Error loading invitations:",a)}},te=a=>{I(a),A(!0)},ae=()=>{i(),t==null||t(),_e.success("Co-supervisor invitation sent!")},X=(a,T="overview")=>{m(a),x(T)},ie=()=>{m(null),x("overview")},le=()=>{t==null||t()},re=()=>{y(!1)},ne=()=>{y(!1),m(null),t==null||t()};return!b.length&&!w.length&&N.length===0?e.jsxs(u,{className:"border-dashed border-slate-200",children:[e.jsx(H,{children:e.jsx(de,{className:"text-lg font-semibold text-slate-800",children:"You do not have an active supervisor yet"})}),e.jsx(g,{className:"text-sm text-slate-600",children:"Once a supervisor accepts your proposal, their details will appear here and the management tools will unlock."})]}):e.jsxs(e.Fragment,{children:[e.jsxs(he,{value:j,onValueChange:h,className:"space-y-6",children:[e.jsxs(ue,{className:"grid w-full grid-cols-3 bg-slate-100 h-auto gap-1",children:[e.jsxs($,{value:"active",className:"flex flex-col lg:flex-row items-center gap-1 lg:gap-2 py-2 lg:py-3 px-1 lg:px-3",children:[e.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[e.jsx(V,{className:"h-3 w-3 lg:h-4 lg:w-4 flex-shrink-0"}),e.jsx("span",{className:"text-[10px] lg:text-sm font-medium",children:"Active"})]}),_.length>0&&e.jsx(v,{variant:"secondary",className:"bg-green-100 text-green-700 h-4 px-1.5 text-[10px]",children:_.length})]}),e.jsxs($,{value:"invitations",className:"flex flex-col lg:flex-row items-center gap-1 lg:gap-2 py-2 lg:py-3 px-1 lg:px-3",children:[e.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[e.jsx(Q,{className:"h-3 w-3 lg:h-4 lg:w-4 flex-shrink-0"}),e.jsxs("span",{className:"text-[10px] lg:text-sm font-medium",children:[e.jsx("span",{className:"hidden xl:inline",children:"Invitations/Requests"}),e.jsx("span",{className:"xl:hidden",children:"Requests"})]})]}),(N.length>0||C)&&e.jsx(v,{variant:"secondary",className:"bg-blue-100 text-blue-700 h-4 px-1.5 text-[10px]",children:N.length+(C?1:0)})]}),e.jsxs($,{value:"terminated",className:"flex flex-col lg:flex-row items-center gap-1 lg:gap-2 py-2 lg:py-3 px-1 lg:px-3",children:[e.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[e.jsx(W,{className:"h-3 w-3 lg:h-4 lg:w-4 flex-shrink-0"}),e.jsxs("span",{className:"text-[10px] lg:text-sm font-medium",children:[e.jsx("span",{className:"hidden md:inline",children:"Terminated"}),e.jsx("span",{className:"md:hidden",children:"Term."})]})]}),w.length>0&&e.jsx(v,{variant:"secondary",className:"bg-slate-100 text-slate-700 h-4 px-1.5 text-[10px]",children:w.length})]})]}),e.jsx(B,{value:"active",className:"space-y-6",children:_.length===0?e.jsx(u,{className:"border-dashed border-slate-200",children:e.jsxs(g,{className:"text-center py-12",children:[e.jsx(ee,{className:"h-12 w-12 text-slate-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Active Supervisors"}),e.jsx("p",{className:"text-sm text-slate-500",children:"You don't have any active supervisors at the moment."})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Supervisors"}),e.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:_.map(a=>e.jsx(Le,{relationship:a,onOpenDetail:X,onOpenMeetings:o,reload:t,onAddCoSupervisor:a.role==="main"?te:void 0},a.id))})]}),n&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-indigo-600"}),"Research Management (Shared)"]}),e.jsx(u,{children:e.jsx(g,{className:"p-0",children:e.jsx(ye,{relationship:n,onUpdated:t,isReadOnly:!1})})})]}),n&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-green-600"}),"Research Documents (Shared)"]}),e.jsx(u,{children:e.jsx(g,{className:"p-0",children:e.jsx(Ce,{relationship:n,onUpdated:t,isReadOnly:!1})})})]}),(S==null?void 0:S.supervision_group_conversation_id)&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600"}),"Team Discussion"]}),e.jsx(u,{children:e.jsx(g,{className:"p-6",children:e.jsx("div",{className:"border border-slate-200 rounded-lg bg-white shadow-sm h-[600px] overflow-hidden",children:e.jsx(Se,{conversationId:S.supervision_group_conversation_id,auth:p,onConversationRead:()=>{},onConversationIncrementUnread:()=>{},onAfterSend:()=>t==null?void 0:t()})})})})]})]})}),e.jsxs(B,{value:"invitations",className:"space-y-6",children:[C&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-blue-600"}),"Main Supervisor Request"]}),e.jsx(Pe,{request:C,onOpenDetail:E})]}),N.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-indigo-600"}),"Co-Supervisor Invitations (",N.length,")"]}),e.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:N.map(a=>e.jsx(Ne,{invitation:a,onClick:()=>q(a)},a.id))})]}):!C&&e.jsx(u,{className:"border-dashed border-slate-200",children:e.jsxs(g,{className:"text-center py-12",children:[e.jsx(Q,{className:"h-12 w-12 text-slate-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Invitations or Requests"}),e.jsx("p",{className:"text-sm text-slate-500",children:"You don't have any co-supervisor invitations or request history."})]})})]}),e.jsx(B,{value:"terminated",className:"space-y-4",children:w.length===0?e.jsx(u,{className:"border-dashed border-slate-200",children:e.jsxs(g,{className:"text-center py-12",children:[e.jsx(W,{className:"h-12 w-12 text-slate-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Terminated Relationships"}),e.jsx("p",{className:"text-sm text-slate-500",children:"You don't have any terminated supervisor relationships."})]})}):e.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:w.map(a=>e.jsx(qe,{relationship:a,onOpenDetail:X},a.id))})})]}),r&&e.jsx(ge,{relationship:r,onClose:ie,onUpdated:le,defaultTab:d}),f&&r&&e.jsx(je,{relationship:r,onClose:re,onScheduled:ne,userRole:"student"}),k&&U&&e.jsx(fe,{isOpen:k,onClose:()=>A(!1),relationship:U,onInvite:ae}),P&&e.jsx(be,{invitation:P,onClose:()=>q(null),onUpdated:()=>{i(),t()}}),L&&e.jsx(we,{request:L,onClose:()=>E(null),onUpdated:()=>{i(),t()},userRole:"student"})]})}function Pe({request:s,onOpenDetail:t}){var d,x,f;if(!s)return null;const c=s.academician||{},o=((d=c.university)==null?void 0:d.name)||((x=c.university)==null?void 0:x.full_name)||"",p=c.full_name||((f=c.user)==null?void 0:f.name)||"Supervisor",j=c.profile_picture?`/storage/${c.profile_picture}`:null,h=s.proposal_title||"Supervision request",r=s.submitted_at?Ae(new Date(s.submitted_at),"dd/MM/yyyy"):"—",m=s.submitted_at?Ie(new Date(s.submitted_at),{addSuffix:!0}):null;return e.jsxs("div",{className:"border rounded-xl p-4 sm:p-5 bg-white shadow-sm hover:shadow-md transition-shadow cursor-pointer min-h-[300px] sm:min-h-[320px] flex flex-col",onClick:()=>t==null?void 0:t(s),children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 border border-indigo-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:j?e.jsx("img",{src:j,alt:p,className:"w-full h-full object-cover rounded-full"}):e.jsx(ee,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-[1.05rem] font-semibold text-gray-900 leading-snug truncate",children:p}),o&&e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-normal",children:o}),m&&e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-500 mt-0.5",children:m})]})]}),e.jsx(v,{className:"bg-emerald-50 text-emerald-700 border-none flex-shrink-0 text-[10px] sm:text-xs",children:"Accepted"})]}),e.jsx("div",{className:"mt-3 sm:mt-4",children:e.jsx("h4",{className:"text-sm sm:text-base font-semibold text-slate-900 line-clamp-2 leading-snug",children:h})}),e.jsxs("div",{className:"mt-2 min-h-[60px] sm:min-h-[72px] space-y-2",children:[e.jsx("div",{className:"p-2 rounded-md bg-green-50 border border-green-100",children:e.jsxs("div",{className:"text-xs text-green-900 flex items-center gap-1.5",children:[e.jsx(V,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Accepted — next steps available"})]})}),e.jsxs(v,{className:"bg-indigo-50 text-indigo-700 border-indigo-200",children:[e.jsx(R,{className:"h-3 w-3 mr-1"}),"View full supervision details"]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Me,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:r})]}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(R,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[s.attachments.length," file",s.attachments.length!==1?"s":""]})]}),s.conversation_id&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(se,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Conversation active"})]})]})]}),e.jsx("div",{className:"mt-3 sm:mt-4 flex items-center gap-2 pt-3 sm:pt-4 border-t",children:e.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 text-xs sm:text-sm",onClick:y=>{y.stopPropagation(),t==null||t(s)},children:[e.jsx(V,{className:"mr-1.5 sm:mr-2 h-3.5 w-3.5 sm:h-4 sm:w-4"}),"View Details"]})})]})}function qe({relationship:s,onOpenDetail:t}){var m,d;const c=(s==null?void 0:s.academician)??{},o=c.full_name??"Supervisor",p=c.profile_picture?`/storage/${c.profile_picture}`:null,j=o.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2),h=((m=c.university)==null?void 0:m.name)||((d=c.university)==null?void 0:d.full_name)||"",r=(s==null?void 0:s.role)==="main"?"Main":"Co-supervisor";return e.jsxs(u,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t==null?void 0:t(s,"overview"),children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"h-12 w-12 border-2 border-slate-200",children:p?e.jsx("img",{src:p,alt:o,className:"h-full w-full object-cover"}):e.jsx(O,{className:"bg-indigo-100 text-indigo-700 font-semibold text-xs",children:j})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 truncate",children:o}),e.jsx("p",{className:"text-sm text-slate-600 truncate",children:h||"University"})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx(v,{className:"bg-slate-100 text-slate-700 border-slate-300 px-2 py-0.5 text-xs",children:r}),e.jsx(v,{className:"bg-red-50 text-red-700 border-red-200 border px-2 py-0.5 text-xs",children:"Terminated"})]})]})}),e.jsxs(g,{className:"space-y-2",children:[s.accepted_at&&e.jsxs("p",{className:"text-xs text-slate-500",children:["Started: ",new Date(s.accepted_at).toLocaleDateString()]}),s.terminated_at&&e.jsxs("p",{className:"text-xs text-red-600 font-medium",children:["Terminated: ",new Date(s.terminated_at).toLocaleDateString()]})]})]})}function Le({relationship:s,onOpenDetail:t,onOpenMeetings:c,reload:o,onAddCoSupervisor:p}){var S,z,b,w,n,_;const[j,h]=l.useState(!1),r=(s==null?void 0:s.academician)??{},m=r.profile_picture?`/storage/${r.profile_picture}`:null,d=r.full_name??"Supervisor",x=((S=r.university)==null?void 0:S.name)||((z=r.university)==null?void 0:z.full_name)||"",f=r.department||"",y=((b=r.research_domains)==null?void 0:b[0])||"",k=(s==null?void 0:s.role)==="main"?"Main":"Co-supervisor",A="Accepted by Student",U=(s==null?void 0:s.cohort)||"",I=s!=null&&s.meeting_cadence?s.meeting_cadence.charAt(0).toUpperCase()+s.meeting_cadence.slice(1):"",N=!!(s!=null&&s.university_letter_path),F=d.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,3),C=((w=s==null?void 0:s.meetings)==null?void 0:w.length)||0,Y=((n=s==null?void 0:s.onboarding_checklist_items)==null?void 0:n.filter(i=>!i.completed).length)||0,P=((_=s==null?void 0:s.documents)==null?void 0:_.length)||0,q=()=>{s!=null&&s.conversation_id&&(t==null||t(s,"chat"))},L=()=>{t==null||t(s,"overview"),setTimeout(()=>{h(!1);const i=new CustomEvent("open-schedule-meeting",{detail:{relationship:s}});window.dispatchEvent(i)},100)},E=()=>{me.visit(route("supervision.relationships.show",s.id))};return e.jsxs(e.Fragment,{children:[e.jsxs(u,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t==null?void 0:t(s,"overview"),children:[e.jsx(H,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx(D,{className:"h-12 w-12 border-2 border-slate-200",children:m?e.jsx("img",{src:m,alt:d,className:"h-full w-full object-cover"}):e.jsx(O,{className:"bg-indigo-100 text-indigo-700 font-semibold text-xs",children:F})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 truncate mb-1",children:d}),e.jsx("p",{className:"text-sm text-slate-600 truncate",children:x&&f?`${x} • ${f}`:x||f||"University"}),y&&e.jsx("p",{className:"text-xs text-slate-500 mt-1.5 line-clamp-1",children:y})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:[e.jsx(v,{className:"bg-slate-900 text-white border-none hover:bg-slate-800 px-2 py-0.5 text-xs",children:k}),e.jsx(v,{className:"bg-green-50 text-green-700 border-green-200 border px-2 py-0.5 text-xs",children:A}),U&&I&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[U," • ",I]})]})]})}),e.jsxs(g,{className:"space-y-3 pb-4",children:[!N&&e.jsxs(xe,{className:"bg-blue-50 border-blue-200 py-2.5",children:[e.jsx(R,{className:"h-3.5 w-3.5 text-blue-600"}),e.jsx(pe,{className:"text-xs",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-900",children:"University Letter"}),e.jsx("p",{className:"text-blue-700 text-xs mt-0.5",children:"Upload official letter to complete validation."})]}),e.jsx("div",{children:e.jsxs(M,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-7 text-xs",onClick:i=>{i.stopPropagation(),h(!0)},children:[e.jsx(Re,{className:"mr-1 h-3 w-3"}),"Upload Letter"]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-slate-50",children:[e.jsx("div",{className:"text-xl font-bold text-slate-900",children:C}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Meetings"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-slate-50",children:[e.jsx("div",{className:"text-xl font-bold text-slate-900",children:Y}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Tasks"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-slate-50",children:[e.jsx("div",{className:"text-xl font-bold text-slate-900",children:P}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Documents"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(M,{variant:"outline",size:"sm",className:"w-full h-8 text-xs",onClick:i=>{i.stopPropagation(),L()},children:[e.jsx(Ue,{className:"mr-1.5 h-3.5 w-3.5"}),"Schedule Meeting"]}),e.jsxs(M,{variant:"outline",size:"sm",className:"w-full h-8 text-xs",onClick:i=>{i.stopPropagation(),q()},children:[e.jsx(se,{className:"mr-1.5 h-3.5 w-3.5"}),"Chat"]}),e.jsxs(M,{variant:"outline",size:"sm",className:"col-span-2 w-full h-8 text-xs",onClick:i=>{i.stopPropagation(),E()},children:[e.jsx(Te,{className:"mr-1.5 h-3.5 w-3.5"}),"Manage"]})]}),(s==null?void 0:s.role)==="main"&&p&&e.jsxs(M,{variant:"default",size:"sm",className:"w-full h-8 text-xs bg-indigo-600 hover:bg-indigo-700",onClick:i=>{i.stopPropagation(),p(s)},children:[e.jsx(ke,{className:"mr-1.5 h-3.5 w-3.5"}),"Add Co-Supervisor"]})]})]}),e.jsx(ve,{isOpen:j,relationship:s,onClose:()=>h(!1),onUploaded:()=>{h(!1),o==null||o()}})]})}export{Bt as default};
