import{g as Z,r as j,d as M,j as r,b as $,a as W}from"./app-BrV4mhB5.js";import{I as ae,J as se,U as Ce,K as ie,V as Oe,W as Le,X as Pe,n as Re}from"./index-BqZErKH1.js";import{u as ke}from"./useRoles-CSqEnYKE.js";import{P as g}from"./index-DV50HfpG.js";import{t as Ie,a as Me}from"./analytics-BQ374C1C.js";import{B as He}from"./BookmarkButton-BaHQrcKv.js";import{p as De}from"./purify.es-B2xYLbnv.js";import{c as le}from"./index-Cr3QG61n.js";import{A as Fe}from"./arrow-left-Z69Hl24i.js";import{B as Ue}from"./briefcase-DDZX3ww4.js";import{U as oe}from"./users-DvPzXp3R.js";import{C as Be}from"./calendar-rBu_ZKnr.js";import{B as ce}from"./building-DDi7phFi.js";import{M as $e}from"./mail-Cm4aAKJL.js";import{E as qe}from"./external-link-DZx7zsdC.js";import{F as Ge}from"./file-text-GUA8aj28.js";import"./iconBase-CzEEOJe4.js";import"./BookmarkHandler-CsLOSmVx.js";import"./createLucideIcon-CRZGgkUd.js";function Ye(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ge=j,ze=Ye(ge);function de(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function We(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ve=!!(typeof window<"u"&&window.document&&window.document.createElement);function Xe(e,t,a){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof a<"u"&&typeof a!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var d=[],l;function o(){l=e(d.map(function(u){return u.props})),c.canUseDOM?t(l):a&&(l=a(l))}var c=function(u){We(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var b=l;return l=void 0,d=[],b};var p=h.prototype;return p.UNSAFE_componentWillMount=function(){d.push(this),o()},p.componentDidUpdate=function(){o()},p.componentWillUnmount=function(){var b=d.indexOf(this);d.splice(b,1),o()},p.render=function(){return ze.createElement(i,this.props)},h}(ge.PureComponent);return de(c,"displayName","SideEffect("+n(i)+")"),de(c,"canUseDOM",Ve),c}}var Je=Xe;const Qe=Z(Je);var Ze=typeof Element<"u",Ke=typeof Map=="function",et=typeof Set=="function",tt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function q(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var a,n,s;if(Array.isArray(e)){if(a=e.length,a!=t.length)return!1;for(n=a;n--!==0;)if(!q(e[n],t[n]))return!1;return!0}var i;if(Ke&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!q(n.value[1],t.get(n.value[0])))return!1;return!0}if(et&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(tt&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(a=e.length,a!=t.length)return!1;for(n=a;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),a=s.length,a!==Object.keys(t).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;if(Ze&&e instanceof Element)return!1;for(n=a;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&e.$$typeof)&&!q(e[s[n]],t[s[n]]))return!1;return!0}return e!==e&&t!==t}var rt=function(t,a){try{return q(t,a)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const nt=Z(rt);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ue=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;function it(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function lt(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ot=lt()?Object.assign:function(e,t){for(var a,n=it(e),s,i=1;i<arguments.length;i++){a=Object(arguments[i]);for(var d in a)at.call(a,d)&&(n[d]=a[d]);if(ue){s=ue(a);for(var l=0;l<s.length;l++)st.call(a,s[l])&&(n[s[l]]=a[s[l]])}}return n};const ct=Z(ot);var L={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},f={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(f).map(function(e){return f[e]});var y={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},G={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},H={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},dt=Object.keys(G).reduce(function(e,t){return e[G[t]]=t,e},{}),ut=[f.NOSCRIPT,f.SCRIPT,f.STYLE],A="data-react-helmet",mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ht=function(){function e(t,a){for(var n=0;n<a.length;n++){var s=a[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pt=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},me=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a},xt=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},X=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},gt=function(t){var a=R(t,f.TITLE),n=R(t,H.TITLE_TEMPLATE);if(n&&a)return n.replace(/%s/g,function(){return Array.isArray(a)?a.join(""):a});var s=R(t,H.DEFAULT_TITLE);return a||s||void 0},yt=function(t){return R(t,H.ON_CHANGE_CLIENT_STATE)||function(){}},V=function(t,a){return a.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,s){return T({},n,s)},{})},vt=function(t,a){return a.filter(function(n){return typeof n[f.BASE]<"u"}).map(function(n){return n[f.BASE]}).reverse().reduce(function(n,s){if(!n.length)for(var i=Object.keys(s),d=0;d<i.length;d++){var l=i[d],o=l.toLowerCase();if(t.indexOf(o)!==-1&&s[o])return n.concat(s)}return n},[])},k=function(t,a,n){var s={};return n.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&Nt("Helmet: "+t+' should be of type "Array". Instead found type "'+mt(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,d){var l={};d.filter(function(p){for(var x=void 0,b=Object.keys(p),w=0;w<b.length;w++){var N=b[w],E=N.toLowerCase();a.indexOf(E)!==-1&&!(x===y.REL&&p[x].toLowerCase()==="canonical")&&!(E===y.REL&&p[E].toLowerCase()==="stylesheet")&&(x=E),a.indexOf(N)!==-1&&(N===y.INNER_HTML||N===y.CSS_TEXT||N===y.ITEM_PROP)&&(x=N)}if(!x||!p[x])return!1;var C=p[x].toLowerCase();return s[x]||(s[x]={}),l[x]||(l[x]={}),s[x][C]?!1:(l[x][C]=!0,!0)}).reverse().forEach(function(p){return i.push(p)});for(var o=Object.keys(l),c=0;c<o.length;c++){var u=o[c],h=ct({},s[u],l[u]);s[u]=h}return i},[]).reverse()},R=function(t,a){for(var n=t.length-1;n>=0;n--){var s=t[n];if(s.hasOwnProperty(a))return s[a]}return null},Tt=function(t){return{baseTag:vt([y.HREF,y.TARGET],t),bodyAttributes:V(L.BODY,t),defer:R(t,H.DEFER),encode:R(t,H.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:V(L.HTML,t),linkTags:k(f.LINK,[y.REL,y.HREF],t),metaTags:k(f.META,[y.NAME,y.CHARSET,y.HTTPEQUIV,y.PROPERTY,y.ITEM_PROP],t),noscriptTags:k(f.NOSCRIPT,[y.INNER_HTML],t),onChangeClientState:yt(t),scriptTags:k(f.SCRIPT,[y.SRC,y.INNER_HTML],t),styleTags:k(f.STYLE,[y.CSS_TEXT],t),title:gt(t),titleAttributes:V(L.TITLE,t)}},J=function(){var e=Date.now();return function(t){var a=Date.now();a-e>16?(e=a,t(a)):setTimeout(function(){J(t)},0)}}(),fe=function(t){return clearTimeout(t)},bt=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||J:global.requestAnimationFrame||J,wt=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||fe:global.cancelAnimationFrame||fe,Nt=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},I=null,Et=function(t){I&&wt(I),t.defer?I=bt(function(){he(t,function(){I=null})}):(he(t),I=null)},he=function(t,a){var n=t.baseTag,s=t.bodyAttributes,i=t.htmlAttributes,d=t.linkTags,l=t.metaTags,o=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,p=t.title,x=t.titleAttributes;Q(f.BODY,s),Q(f.HTML,i),At(p,x);var b={baseTag:P(f.BASE,n),linkTags:P(f.LINK,d),metaTags:P(f.META,l),noscriptTags:P(f.NOSCRIPT,o),scriptTags:P(f.SCRIPT,u),styleTags:P(f.STYLE,h)},w={},N={};Object.keys(b).forEach(function(E){var C=b[E],_=C.newTags,D=C.oldTags;_.length&&(w[E]=_),D.length&&(N[E]=b[E].oldTags)}),a&&a(),c(t,w,N)},ye=function(t){return Array.isArray(t)?t.join(""):t},At=function(t,a){typeof t<"u"&&document.title!==t&&(document.title=ye(t)),Q(f.TITLE,a)},Q=function(t,a){var n=document.getElementsByTagName(t)[0];if(n){for(var s=n.getAttribute(A),i=s?s.split(","):[],d=[].concat(i),l=Object.keys(a),o=0;o<l.length;o++){var c=l[o],u=a[c]||"";n.getAttribute(c)!==u&&n.setAttribute(c,u),i.indexOf(c)===-1&&i.push(c);var h=d.indexOf(c);h!==-1&&d.splice(h,1)}for(var p=d.length-1;p>=0;p--)n.removeAttribute(d[p]);i.length===d.length?n.removeAttribute(A):n.getAttribute(A)!==l.join(",")&&n.setAttribute(A,l.join(","))}},P=function(t,a){var n=document.head||document.querySelector(f.HEAD),s=n.querySelectorAll(t+"["+A+"]"),i=Array.prototype.slice.call(s),d=[],l=void 0;return a&&a.length&&a.forEach(function(o){var c=document.createElement(t);for(var u in o)if(o.hasOwnProperty(u))if(u===y.INNER_HTML)c.innerHTML=o.innerHTML;else if(u===y.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{var h=typeof o[u]>"u"?"":o[u];c.setAttribute(u,h)}c.setAttribute(A,"true"),i.some(function(p,x){return l=x,c.isEqualNode(p)})?i.splice(l,1):d.push(c)}),i.forEach(function(o){return o.parentNode.removeChild(o)}),d.forEach(function(o){return n.appendChild(o)}),{oldTags:i,newTags:d}},ve=function(t){return Object.keys(t).reduce(function(a,n){var s=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return a?a+" "+s:s},"")},jt=function(t,a,n,s){var i=ve(n),d=ye(a);return i?"<"+t+" "+A+'="true" '+i+">"+X(d,s)+"</"+t+">":"<"+t+" "+A+'="true">'+X(d,s)+"</"+t+">"},_t=function(t,a,n){return a.reduce(function(s,i){var d=Object.keys(i).filter(function(c){return!(c===y.INNER_HTML||c===y.CSS_TEXT)}).reduce(function(c,u){var h=typeof i[u]>"u"?u:u+'="'+X(i[u],n)+'"';return c?c+" "+h:h},""),l=i.innerHTML||i.cssText||"",o=ut.indexOf(t)===-1;return s+"<"+t+" "+A+'="true" '+d+(o?"/>":">"+l+"</"+t+">")},"")},Te=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[G[s]||s]=t[s],n},a)},St=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,s){return n[dt[s]||s]=t[s],n},a)},Ct=function(t,a,n){var s,i=(s={key:a},s[A]=!0,s),d=Te(n,i);return[M.createElement(f.TITLE,d,a)]},Ot=function(t,a){return a.map(function(n,s){var i,d=(i={key:s},i[A]=!0,i);return Object.keys(n).forEach(function(l){var o=G[l]||l;if(o===y.INNER_HTML||o===y.CSS_TEXT){var c=n.innerHTML||n.cssText;d.dangerouslySetInnerHTML={__html:c}}else d[o]=n[l]}),M.createElement(t,d)})},S=function(t,a,n){switch(t){case f.TITLE:return{toComponent:function(){return Ct(t,a.title,a.titleAttributes)},toString:function(){return jt(t,a.title,a.titleAttributes,n)}};case L.BODY:case L.HTML:return{toComponent:function(){return Te(a)},toString:function(){return ve(a)}};default:return{toComponent:function(){return Ot(t,a)},toString:function(){return _t(t,a,n)}}}},be=function(t){var a=t.baseTag,n=t.bodyAttributes,s=t.encode,i=t.htmlAttributes,d=t.linkTags,l=t.metaTags,o=t.noscriptTags,c=t.scriptTags,u=t.styleTags,h=t.title,p=h===void 0?"":h,x=t.titleAttributes;return{base:S(f.BASE,a,s),bodyAttributes:S(L.BODY,n,s),htmlAttributes:S(L.HTML,i,s),link:S(f.LINK,d,s),meta:S(f.META,l,s),noscript:S(f.NOSCRIPT,o,s),script:S(f.SCRIPT,c,s),style:S(f.STYLE,u,s),title:S(f.TITLE,{title:p,titleAttributes:x},s)}},Lt=function(t){var a,n;return n=a=function(s){pt(i,s);function i(){return ft(this,i),xt(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!nt(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,o){if(!o)return null;switch(l.type){case f.SCRIPT:case f.NOSCRIPT:return{innerHTML:o};case f.STYLE:return{cssText:o}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var o,c=l.child,u=l.arrayTypeChildren,h=l.newChildProps,p=l.nestedChildren;return T({},u,(o={},o[c.type]=[].concat(u[c.type]||[],[T({},h,this.mapNestedChildrenToProps(c,p))]),o))},i.prototype.mapObjectTypeChildren=function(l){var o,c,u=l.child,h=l.newProps,p=l.newChildProps,x=l.nestedChildren;switch(u.type){case f.TITLE:return T({},h,(o={},o[u.type]=x,o.titleAttributes=T({},p),o));case f.BODY:return T({},h,{bodyAttributes:T({},p)});case f.HTML:return T({},h,{htmlAttributes:T({},p)})}return T({},h,(c={},c[u.type]=T({},p),c))},i.prototype.mapArrayTypeChildrenToProps=function(l,o){var c=T({},o);return Object.keys(l).forEach(function(u){var h;c=T({},c,(h={},h[u]=l[u],h))}),c},i.prototype.warnOnInvalidChildren=function(l,o){return!0},i.prototype.mapChildrenToProps=function(l,o){var c=this,u={};return M.Children.forEach(l,function(h){if(!(!h||!h.props)){var p=h.props,x=p.children,b=me(p,["children"]),w=St(b);switch(c.warnOnInvalidChildren(h,x),h.type){case f.LINK:case f.META:case f.NOSCRIPT:case f.SCRIPT:case f.STYLE:u=c.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:w,nestedChildren:x});break;default:o=c.mapObjectTypeChildren({child:h,newProps:o,newChildProps:w,nestedChildren:x});break}}}),o=this.mapArrayTypeChildrenToProps(u,o),o},i.prototype.render=function(){var l=this.props,o=l.children,c=me(l,["children"]),u=T({},c);return o&&(u=this.mapChildrenToProps(o,u)),M.createElement(t,u)},ht(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(M.Component),a.propTypes={base:g.object,bodyAttributes:g.object,children:g.oneOfType([g.arrayOf(g.node),g.node]),defaultTitle:g.string,defer:g.bool,encodeSpecialCharacters:g.bool,htmlAttributes:g.object,link:g.arrayOf(g.object),meta:g.arrayOf(g.object),noscript:g.arrayOf(g.object),onChangeClientState:g.func,script:g.arrayOf(g.object),style:g.arrayOf(g.object),title:g.string,titleAttributes:g.object,titleTemplate:g.string},a.defaultProps={defer:!0,encodeSpecialCharacters:!0},a.peek=t.peek,a.rewind=function(){var s=t.rewind();return s||(s=be({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},n},Pt=function(){return null},Rt=Qe(Tt,Et,be)(Pt),pe=Lt(Rt);pe.renderStatic=pe.rewind;const xe=({html:e,className:t})=>{const a=De.sanitize(e||"",{ALLOWED_TAGS:["b","i","u","p","br","ul","ol","li","strong","em","a","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href","target","rel"]});return!a||a.trim()===""?r.jsx("p",{className:t,children:"No content available"}):r.jsx("div",{className:t,dangerouslySetInnerHTML:{__html:a}})};function Kt({project:e,previous:t,next:a,academicians:n,researchOptions:s,universities:i,auth:d,isWelcome:l,relatedProjects:o,scholarLabProject:c,joinRequestStatus:u,isMember:h}){ke();const[p,x]=j.useState(e.total_likes||0),[b,w]=j.useState(e.total_shares||0),[N,E]=j.useState(e.liked||!1),[C,_]=j.useState(!1),[D,K]=j.useState(!1),[ee,we]=j.useState(u),Y=j.useRef(null);console.log(o),j.useEffect(()=>{const m=v=>{Y.current&&!Y.current.contains(v.target)&&_(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),j.useEffect(()=>{Ie(window.location.pathname),Me("Project","view",e.project_name,e.id)},[e]);const F=n&&n.find(m=>m.academician_id===e.author_id)||null,te=()=>{if(!e.field_of_research)return null;const v=(Array.isArray(e.field_of_research)?e.field_of_research:[e.field_of_research]).map(B=>{const O=s.find(z=>`${z.field_of_research_id}-${z.research_area_id}-${z.niche_domain_id}`===B);return O?`${O.field_of_research_name} - ${O.research_area_name} - ${O.niche_domain_name}`:null}).filter(Boolean);return v.length?v.join(", "):null},re=()=>{if(!e.university)return null;const m=i.find(v=>String(v.id)===String(e.university));return m?m.full_name:null},Ne=()=>{if(!d){window.location.href=route("login");return}W.post(route("projects.toggleLike",e.url)).then(m=>{x(m.data.total_likes),E(m.data.liked)}).catch(m=>console.error(m))},U=m=>{m(),W.post(route("projects.share",e.url)).then(v=>{w(v.data.total_shares)}).catch(v=>console.error(v))},Ee=()=>{const m=route("welcome.projects.show",e.url);window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,"_blank","width=600,height=400")},Ae=()=>{const m=route("welcome.projects.show",e.url);window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")},je=()=>{const m=route("welcome.projects.show",e.url);window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m)}`,"_blank","width=600,height=400")},_e=()=>{const m=route("welcome.projects.show",e.url);navigator.clipboard.writeText(m).then(()=>{alert("Link copied to clipboard")})},ne=()=>{if(!d){window.location.href=route("login");return}K(!0),W.post(route("projects.join.request",c.id)).then(m=>{le.success(m.data.message),we("pending")}).catch(m=>{var B,O;const v=((O=(B=m.response)==null?void 0:B.data)==null?void 0:O.message)||"Failed to send join request";le.error(v)}).finally(()=>{K(!1)})},Se=()=>!c||h?null:ee==="pending"?r.jsxs("button",{disabled:!0,className:"mt-4 px-6 py-2 bg-gray-300 text-gray-700 rounded-md flex items-center justify-center",children:[r.jsx(FaUsers,{className:"mr-2"})," Request Sent"]}):ee==="rejected"?r.jsxs("button",{onClick:ne,disabled:D,className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(FaUsers,{className:"mr-2"})," Request Again"]}):r.jsxs("button",{onClick:ne,disabled:D,className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(FaUsers,{className:"mr-2"})," Request to Join Project"]});return r.jsx("div",{className:"px-6 md:px-8 lg:px-4",children:r.jsxs("div",{className:"max-w-8xl mx-auto py-4 lg:pt-4",children:[r.jsx("div",{className:"mb-6",children:r.jsxs($,{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50","aria-label":"Go back to previous page",children:[r.jsx(Fe,{className:"w-4 h-4"}),"Back"]})}),e.title&&r.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 text-left",children:e.title}),F?r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("img",{src:`/storage/${F.profile_picture}`,alt:F.full_name,className:"w-12 h-12 rounded-full object-cover shadow-md bg-gray-200 border-2 border-white"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold",children:F.full_name}),r.jsx("div",{className:"text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""})]})]}):r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("img",{src:"/storage/Admin.jpg",alt:"Admin",className:"w-12 h-12 rounded-full object-cover shadow-md border-2 border-white"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold",children:"Admin"}),r.jsx("div",{className:"text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""})]})]}),r.jsxs("div",{className:"my-4",children:[r.jsx("hr",{}),r.jsxs("div",{className:"flex flex-wrap items-center space-x-4 py-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ae,{className:"w-6 h-6 text-gray-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:e.total_views})]}),r.jsxs("button",{onClick:Ne,className:"flex items-center",children:[N?r.jsx(se,{className:"w-6 h-6 text-red-600"}):r.jsx(Ce,{className:"w-6 h-6 text-gray-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:p})]}),r.jsxs("div",{className:"relative",ref:Y,children:[r.jsx("button",{onClick:()=>_(!C),className:"flex items-center",children:r.jsx(ie,{className:"w-6 h-6 text-gray-600"})}),C&&r.jsxs("div",{className:"absolute left-0 mt-2 w-40 bg-white shadow-lg rounded z-10",children:[r.jsxs("button",{onClick:()=>{U(_e),_(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[r.jsx(Oe,{className:"w-5 h-5 inline mr-2 text-gray-600"}),"Copy Link"]}),r.jsx("hr",{className:"my-1"}),r.jsxs("button",{onClick:()=>{U(Ee),_(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[r.jsx(Le,{className:"w-5 h-5 inline mr-2 text-blue-600"}),"Facebook"]}),r.jsxs("button",{onClick:()=>{U(Ae),_(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[r.jsx(Pe,{className:"w-5 h-5 inline mr-2 text-green-600"}),"WhatsApp"]}),r.jsxs("button",{onClick:()=>{U(je),_(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[r.jsx(Re,{className:"w-5 h-5 inline mr-2 text-blue-700"}),"LinkedIn"]})]})]}),r.jsx(He,{bookmarkableType:"project",bookmarkableId:e.id,category:"Projects",iconSize:"w-6 h-6",tooltipPosition:"top"})]}),r.jsx("hr",{})]}),r.jsx("div",{className:"my-4",children:Se()}),e.image&&r.jsx("img",{src:`/storage/${e.image}`,alt:"Banner",className:"w-full h-auto md:h-64 object-cover mb-4"}),e.description&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Description"}),r.jsx(xe,{html:e.description,className:"mb-4 text-gray-700 prose w-full text-left max-w-none break-words leading-relaxed"})]}),r.jsxs("div",{className:"mt-8 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b-2 border-gray-200",children:"Project Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[(e.project_theme||e.purpose||e.field_of_research||e.category)&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Ue,{className:"w-5 h-5 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Information"})]}),r.jsxs("div",{className:"space-y-3 ml-7",children:[e.project_theme&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Theme:"}),r.jsx("span",{className:"text-gray-900",children:e.project_theme})]}),e.purpose&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-gray-600 font-medium w-32 mt-0.5",children:"Purpose:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(e.purpose)?e.purpose.map((m,v)=>r.jsx("span",{className:"px-4 md:px-2.5 lg:px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-800 font-medium border border-gray-200 w-3/4 ml-6 md:ml-6 lg:ml-0",children:m},v)):r.jsx("span",{className:"px-4 md:px-2.5 lg:px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-800 font-medium border border-gray-200 w-3/4 ml-6 md:ml-6 lg:ml-0",children:e.purpose})})]}),e.field_of_research&&te()&&r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-gray-600 font-medium w-32 mt-0.5",children:"Research Field:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:te().split(", ").map((m,v)=>r.jsx("span",{className:"px-4 md:px-2.5 lg:px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-800 font-medium border border-gray-200 w-3/4 ml-6 md:ml-6 lg:ml-0",children:m.trim()},v))})]}),e.category&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Category:"}),r.jsx("span",{className:"text-gray-900",children:e.category})]})]})]}),(e.student_nationality||e.student_level||e.student_mode_study)&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(oe,{className:"w-5 h-5 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Requirements"})]}),r.jsxs("div",{className:"space-y-3 ml-7",children:[e.student_nationality&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Nationality:"}),r.jsx("span",{className:"text-gray-900",children:e.student_nationality})]}),e.student_level&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Student Level:"}),r.jsx("span",{className:"text-gray-900",children:Array.isArray(e.student_level)?e.student_level.join(", "):e.student_level})]}),e.student_mode_study&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Mode of Study:"}),r.jsx("span",{className:"text-gray-900",children:Array.isArray(e.student_mode_study)?e.student_mode_study.join(", "):e.student_mode_study})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[(e.start_date||e.end_date||e.application_deadline||e.duration)&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Be,{className:"w-5 h-5 text-orange-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Schedule & Duration"})]}),r.jsxs("div",{className:"space-y-3 ml-7",children:[e.start_date&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Start:"}),r.jsx("span",{className:"text-gray-900",children:new Date(e.start_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),e.end_date&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-24",children:"End:"}),r.jsx("span",{className:"text-gray-900",children:new Date(e.end_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),e.application_deadline&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-red-600 font-medium w-24",children:"Deadline:"}),r.jsxs("span",{className:`font-semibold ${new Date(e.application_deadline)<new Date,"text-red-600"}`,children:[new Date(e.application_deadline).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),new Date(e.application_deadline)<new Date&&r.jsx("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-semibold",children:"Ended"})]})]}),e.duration&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Duration:"}),r.jsxs("span",{className:"text-gray-900",children:[e.duration," months"]})]})]})]}),(e.sponsored_by||e.university||e.email||e.application_url)&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ce,{className:"w-5 h-5 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Organization & Contact"})]}),r.jsxs("div",{className:"space-y-3 ml-7",children:[e.sponsored_by&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(oe,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Sponsor:"}),r.jsx("span",{className:"text-gray-900 font-medium",children:e.sponsored_by})]}),e.university&&re()&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(ce,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("span",{className:"text-gray-600 font-medium w-24",children:"University:"}),r.jsx("span",{className:"text-gray-900",children:re()})]}),e.email&&r.jsxs("div",{className:"flex items-center",children:[r.jsx($e,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Email:"}),r.jsx("a",{href:`mailto:${e.email}`,className:"text-blue-600 hover:text-blue-800 underline",children:e.email})]}),e.application_url&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(qe,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Application:"}),r.jsx("a",{href:e.application_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Apply"})]})]})]})]})]})]}),e.attachment&&r.jsx("div",{className:"mb-2",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ge,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("span",{className:"text-gray-600 font-medium mr-2",children:"Attachment:"}),r.jsx("a",{href:`/storage/${e.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"View Attachment"})]})}),r.jsx("hr",{className:"my-6 border-gray-200"}),o&&o.length>0&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Other Projects"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(m=>r.jsxs($,{href:l?route("welcome.projects.show",m.url):route("projects.show",m.url),className:"block relative p-5 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-[300px] flex flex-col justify-end hover:opacity-90",style:{backgroundImage:`url(${encodeURI(m.image?`/storage/${m.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[r.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),r.jsxs("div",{className:"relative z-10 text-white pr-10",children:[r.jsx("h2",{className:"text-2xl font-bold truncate",title:m.title,children:m.title||"Untitled Project"}),m.description&&r.jsx(xe,{html:m.description,className:"text-sm line-clamp-2 mb-2"}),r.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[r.jsxs("p",{className:"text-xs",children:["Deadline: ",new Date(m.application_deadline).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex items-center text-xs",children:[r.jsx(ae,{className:"w-4 h-4"}),r.jsx("span",{className:"ml-1",children:m.total_views||0})]}),r.jsxs("div",{className:"flex items-center text-xs",children:[r.jsx(se,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:"ml-1",children:m.total_likes||0})]}),r.jsxs("div",{className:"flex items-center text-xs",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{className:"ml-1",children:m.total_shares||0})]})]})]})]})]},m.id))})]}),r.jsxs("div",{className:"max-w-3xl mx-auto py-6 flex justify-between",children:[t?r.jsx($,{href:route("projects.show",t.url),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Previous"}):r.jsx("span",{}),a?r.jsx($,{href:route("projects.show",a.url),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Next"}):r.jsx("span",{})]})]})})}export{Kt as default};
