import{j as e}from"./app-Ba9NEla_.js";import{U as j}from"./user-round-CFmIIlMD.js";import{B as _}from"./briefcase-BIppSgpY.js";import{M as b}from"./mail-BJXF7SPu.js";import{P as v}from"./phone-DKKaAFGd.js";import{G as d}from"./graduation-cap-CaNWWPpW.js";import{G as w}from"./globe-niEkysgM.js";import{C as M}from"./calendar-clock-BdqfjLZ9.js";import{f as N}from"./format-Dv9Rm441.js";import"./createLucideIcon-D9Xjp5kf.js";import"./en-US-DNUEYIb-.js";function T({relationship:a,person:s,userRole:l,activeUnbindRequest:f}){var r,n,x,o,u,h;const g=a!=null&&a.accepted_at?N(new Date(a.accepted_at),"dd/MM/yyyy"):"—",m=(a==null?void 0:a.meetings)??[],y=m.length>0,p=l==="student"?"Supervisor":"Student";return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("section",{className:"border border-slate-200 rounded-lg p-6 bg-white shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:[p," Summary"]}),e.jsx("div",{className:"space-y-4",children:l==="student"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{icon:j,label:"Full Name",value:s.full_name||"—"}),e.jsx(t,{icon:_,label:"Position",value:s.current_position||"—"}),e.jsx(t,{icon:b,label:"Email",value:((r=s.user)==null?void 0:r.email)||"—"}),e.jsx(t,{icon:v,label:"Phone",value:((x=(n=s.user)==null?void 0:n.academician)==null?void 0:x.phone_number)||s.phone_number||"—"})]}),(s.university||s.faculty||s.department)&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4 text-slate-500"}),"Institution"]}),e.jsxs("div",{className:"space-y-2",children:[s.university&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"University: "}),e.jsx("span",{className:"text-slate-600",children:((o=s.university)==null?void 0:o.full_name)||((u=s.university_details)==null?void 0:u.full_name)||"—"})]}),s.faculty&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Faculty: "}),e.jsx("span",{className:"text-slate-600",children:s.faculty.name||"—"})]}),s.department&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Department: "}),e.jsx("span",{className:"text-slate-600",children:s.department})]})]})]}),s.research_areas&&Array.isArray(s.research_areas)&&s.research_areas.length>0&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Research Expertise"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.research_areas.slice(0,3).map((i,c)=>e.jsx("span",{className:"px-2.5 py-1 text-xs rounded-full bg-indigo-50 text-indigo-700 border border-indigo-200",children:i},c)),s.research_areas.length>3&&e.jsxs("span",{className:"px-2.5 py-1 text-xs rounded-full bg-slate-100 text-slate-600",children:["+",s.research_areas.length-3," more"]})]})]}),s.bio&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Bio"}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:s.bio})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{icon:j,label:"Full Name",value:s.full_name||"—"}),e.jsx(t,{icon:b,label:"Email",value:s.email||((h=s.user)==null?void 0:h.email)||"—"}),e.jsx(t,{icon:v,label:"Phone",value:s.phone_number||"—"}),e.jsx(t,{icon:w,label:"Nationality",value:s.nationality||"—"})]}),s.university_details&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{icon:d,label:"University",value:s.university_details.full_name||"—"}),s.faculty&&e.jsx(t,{icon:d,label:"Faculty",value:s.faculty.name||"—"})]})}),s.bio&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Bio"}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:s.bio})]})]})})]}),e.jsxs("section",{className:"border border-slate-200 rounded-lg p-6 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:l==="student"?"Supervision Details":"Supervision Summary"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{label:"Role",value:a.role==="main"?"Main Supervisor":"Co-Supervisor"}),e.jsx(t,{label:"Status",value:f?"Pending Unbind":a.status.charAt(0).toUpperCase()+a.status.slice(1)}),e.jsx(t,{label:"Cohort",value:a.cohort||"—"}),e.jsx(t,{label:"Meeting Cadence",value:a.meeting_cadence?a.meeting_cadence.charAt(0).toUpperCase()+a.meeting_cadence.slice(1):"Not set"}),e.jsx(t,{label:"Started",value:g}),e.jsx(t,{label:"NexLab",value:a.scholarlab_board_id?l==="student"?"Active Workspace":"Active":"Not provisioned"})]})})]}),y&&e.jsxs("section",{className:"border border-slate-200 rounded-lg p-6 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(M,{className:"h-5 w-5 text-slate-900"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Next Meeting"})]}),e.jsx("div",{className:"space-y-4",children:m.slice(0,1).map((i,c)=>e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Date:"}),e.jsx("div",{className:"font-medium text-slate-900",children:i.scheduled_for?N(new Date(i.scheduled_for),"dd/MM/yyyy HH:mm"):"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Type:"}),e.jsx("div",{className:"font-medium text-slate-900",children:i.type||"Online"})]})]},i.id||c))})]})]})}function t({icon:a,label:s,value:l}){return e.jsxs("div",{className:"flex items-start gap-2",children:[a&&e.jsx(a,{className:"mt-0.5 h-4 w-4 text-slate-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:s}),e.jsx("div",{className:"text-sm text-slate-700 break-words",children:l||"—"})]})]})}export{T as default};
