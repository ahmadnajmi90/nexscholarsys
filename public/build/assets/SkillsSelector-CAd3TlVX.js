import{r,a as E,j as s}from"./app-DVOx_onA.js";import{P as y}from"./index-DUXl8W-L.js";import{I as Me}from"./InputLabel-C0IF15aA.js";import{I as Ee}from"./InputError-BU0KOUiJ.js";function oe({value:v=[],onChange:_,error:de=null,required:V=!1,label:ce="Skills",placeholder:xe="Select skills..."}){const[X,ue]=r.useState([]),[Y,R]=r.useState([]),[z,k]=r.useState([]),[u,Z]=r.useState(""),[m,U]=r.useState(""),[l,B]=r.useState(v||[]),[j,N]=r.useState({domains:!1,subdomains:!1,skills:!1}),[H,G]=r.useState(!1),[F,I]=r.useState(""),[W,J]=r.useState(""),[A,O]=r.useState(""),[x,w]=r.useState(""),[d,h]=r.useState([]),[Q,ee]=r.useState(!1),[p,C]=r.useState(-1),[g,me]=r.useState(!1),[o,b]=r.useState(1),[se,T]=r.useState(!1),[ge,L]=r.useState({});r.useEffect(()=>{he();const e=()=>{me(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),r.useEffect(()=>{v&&v.length>0&&(B(v),be(v))},[v]),r.useEffect(()=>{if(!x.trim()){h([]);return}const e=setTimeout(()=>{je(x)},300);return()=>clearTimeout(e)},[x]);const he=async()=>{N(e=>({...e,domains:!0}));try{const e=await E.get("/api/v1/app/skills/domains");ue(e.data.data||[])}catch(e){console.error("Error fetching domains:",e)}finally{N(e=>({...e,domains:!1}))}},te=async e=>{if(!e){R([]);return}N(t=>({...t,subdomains:!0}));try{const t=await E.get(`/api/v1/app/skills/domains/${e}/subdomains`);R(t.data.data||[])}catch(t){console.error("Error fetching subdomains:",t),R([])}finally{N(t=>({...t,subdomains:!1}))}},re=async e=>{if(!e){k([]);return}N(t=>({...t,skills:!0}));try{const t=await E.get(`/api/v1/app/skills/subdomains/${e}/skills`);k(t.data.data||[])}catch(t){console.error("Error fetching skills:",t),k([])}finally{N(t=>({...t,skills:!1}))}},be=async e=>{if(!e||e.length===0){L({});return}try{const t=await E.post("/api/v1/app/skills/details",{skill_ids:e}),a={};t.data.data.forEach(n=>{a[n.id]=n}),L(a)}catch(t){console.error("Error fetching skill details:",t)}},ae=e=>{Z(e),U(""),R([]),k([]),J(""),O(""),e&&te(e)},ne=e=>{U(e),k([]),O(""),e&&re(e)},fe=r.useMemo(()=>X.filter(e=>{const t=F.toLowerCase();return e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)}),[X,F]),pe=r.useMemo(()=>Y.filter(e=>{const t=W.toLowerCase();return e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)}),[Y,W]),ye=r.useMemo(()=>z.filter(e=>{const t=A.toLowerCase();return e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.full_name&&e.full_name.toLowerCase().includes(t)}),[z,A]),q=fe,K=pe,P=ye,le=e=>{const t=l.includes(e.id);let a;t?a=l.filter(n=>n!==e.id):a=[...l,e.id],B(a),_(a),t||L(n=>({...n,[e.id]:e}))},ve=e=>{const t=l.filter(a=>a!==e);B(t),_(t),L(a=>{const n={...a};return delete n[e],n})},je=async e=>{if(!e.trim()){h([]);return}if(!(e.length<2)){ee(!0);try{const n=((await E.get("/api/v1/app/skills/search",{params:{q:e,limit:20},timeout:5e3})).data.data||[]).sort((i,c)=>{const f=i.name.toLowerCase()===e.toLowerCase(),M=c.name.toLowerCase()===e.toLowerCase();return f&&!M?-1:!f&&M?1:i.name.length-c.name.length});h(n)}catch(t){console.error("Error performing global search:",t),h([]),t.code==="ECONNABORTED"&&console.warn("Search request timed out")}finally{ee(!1)}}},D=e=>{var t,a,n;if(!l.includes(e.id)){const i=[...l,e.id];B(i),_(i),L(c=>({...c,[e.id]:e}))}(a=(t=e.subdomain)==null?void 0:t.domain)!=null&&a.id&&((n=e.subdomain)!=null&&n.id)&&(Z(e.subdomain.domain.id),te(e.subdomain.domain.id),setTimeout(()=>{U(e.subdomain.id),re(e.subdomain.id),g&&b(3)},100)),w(""),h([]),C(-1),T(!1)},ie=r.useCallback(e=>{if(d.length!==0)switch(e.key){case"ArrowDown":e.preventDefault(),C(t=>t<d.length-1?t+1:0);break;case"ArrowUp":e.preventDefault(),C(t=>t>0?t-1:d.length-1);break;case"Enter":e.preventDefault(),p>=0&&p<d.length&&D(d[p]);break;case"Escape":e.preventDefault(),w(""),h([]),C(-1);break}},[d,p,D]);r.useEffect(()=>{C(-1)},[d]);const Ne=()=>{o===1&&u?b(2):o===2&&m&&b(3)},we=()=>{o>1&&b(o-1)},Se=()=>{G(!1),b(1),T(!1),w(""),h([])},ke=()=>{G(!1),b(1),T(!1),w(""),h([])},Ce=e=>{ae(e),b(2)},Le=e=>{ne(e),b(3)},S=r.useMemo(()=>u?m?3:2:1,[u,m]),$=r.useCallback((e,t)=>{if(!t||!e)return e;const a=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(a).map((i,c)=>a.test(i)?s.jsx("mark",{className:"bg-yellow-200 text-gray-900",children:i},c):i)},[]),De=r.useCallback((e,t="",a=-1)=>{var i,c,f;const n=a===p;return s.jsxs("button",{type:"button",onClick:()=>D(e),className:`w-full text-left px-3 py-2 focus:outline-none text-sm border-b border-gray-100 last:border-b-0 transition-colors ${n?"bg-indigo-100 border-indigo-300":"hover:bg-indigo-50 focus:bg-indigo-50"}`,"aria-selected":n,role:"option",children:[s.jsx("div",{className:"font-medium text-gray-900",children:$(e.name,t)}),s.jsxs("div",{className:"text-xs text-gray-500",children:[(c=(i=e.subdomain)==null?void 0:i.domain)==null?void 0:c.name," - ",(f=e.subdomain)==null?void 0:f.name]}),e.description&&s.jsx("div",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:$(e.description,t)}),l.includes(e.id)&&s.jsx("div",{className:"text-xs text-green-600 mt-1 font-medium",children:"âœ“ Already selected"})]},e.id)},[l,$,D,p]),$e=()=>o===1?s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search domains...",value:F,onChange:e=>I(e.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})}),s.jsx("div",{className:"space-y-2",children:j.domains?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):q.length===0?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"No domains found"}):q.map(e=>s.jsx("button",{type:"button",onClick:()=>Ce(e.id),className:`w-full text-left p-4 min-h-[48px] border rounded-lg transition-colors ${u===e.id?"bg-indigo-50 border-indigo-500 text-indigo-900":"border-gray-200 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:e.name}),u===e.id&&s.jsx("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},e.id))})]}):o===2?s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search subdomains...",value:W,onChange:e=>J(e.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})}),s.jsx("div",{className:"space-y-2",children:j.subdomains?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):K.length===0?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"No subdomains found"}):K.map(e=>s.jsx("button",{type:"button",onClick:()=>Le(e.id),className:`w-full text-left p-4 min-h-[48px] border rounded-lg transition-colors ${m===e.id?"bg-indigo-50 border-indigo-500 text-indigo-900":"border-gray-200 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:e.name}),m===e.id&&s.jsx("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},e.id))})]}):o===3?s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search skills...",value:A,onChange:e=>O(e.target.value),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})}),s.jsx("div",{className:"space-y-2",children:j.skills?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):P.length===0?s.jsx("div",{className:"p-8 text-center text-gray-500",children:z.length===0?"No skills available":"No skills found matching your search"}):P.map(e=>{const t=l.includes(e.id);return s.jsx("button",{type:"button",onClick:()=>le(e),className:`w-full text-left p-4 min-h-[48px] border rounded-lg transition-colors ${t?"bg-green-50 border-green-500 text-green-900":"border-gray-200 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium",children:e.name}),e.description&&s.jsx("div",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.description})]}),t&&s.jsx("svg",{className:"h-5 w-5 text-green-600 ml-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},e.id)})})]}):null;return s.jsxs("div",{className:"w-full",children:[s.jsx(Me,{htmlFor:"skills-selector",value:s.jsxs(s.Fragment,{children:[ce," ",V&&s.jsx("span",{className:"text-red-600",children:"*"})]}),required:V}),l.length>0&&s.jsx("div",{className:"mt-2 mb-3",children:s.jsx("div",{className:`flex flex-wrap gap-2 ${g?"gap-3":"gap-2"}`,children:l.map(e=>{var a,n,i,c,f,M;const t=ge[e];return t?s.jsxs("div",{className:`inline-flex items-center rounded-full text-sm bg-blue-100 text-blue-800 ${g?"px-4 py-2 text-base":"px-3 py-1"}`,children:[s.jsx("span",{className:"mr-2",children:g?s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:t.name}),s.jsxs("div",{className:"text-xs text-blue-600 opacity-75",children:[(n=(a=t.subdomain)==null?void 0:a.domain)==null?void 0:n.name," - ",(i=t.subdomain)==null?void 0:i.name]})]}):`${(f=(c=t.subdomain)==null?void 0:c.domain)==null?void 0:f.name} - ${(M=t.subdomain)==null?void 0:M.name} - ${t.name}`}),s.jsxs("button",{type:"button",onClick:()=>ve(e),className:`flex-shrink-0 rounded-full inline-flex items-center justify-center text-blue-400 hover:bg-blue-200 hover:text-blue-600 focus:outline-none focus:bg-blue-500 focus:text-white ${g?"ml-3 h-6 w-6":"ml-1 h-4 w-4"}`,"aria-label":`Remove ${t.name}`,children:[s.jsx("span",{className:"sr-only",children:"Remove skill"}),s.jsx("svg",{className:g?"h-3 w-3":"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:s.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"m1 1 6 6m0-6-6 6"})})]})]},e):null})})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>G(!H),className:`mt-1 block w-full border border-gray-300 rounded-md shadow-sm bg-white text-left focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${g?"px-4 py-3 text-base":"px-3 py-2"}`,children:[s.jsx("span",{className:"block truncate text-gray-500",children:xe}),s.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pointer-events-none pr-2",children:s.jsx("svg",{className:`text-gray-400 transition-transform ${H?"rotate-180":""} ${g?"h-6 w-6":"h-5 w-5"}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),H&&(g?s.jsx("div",{className:"fixed inset-0 z-50 bg-white",children:s.jsxs("div",{className:"h-screen flex flex-col",children:[s.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[o>1&&s.jsx("button",{type:"button",onClick:we,className:"p-1 hover:bg-gray-200 rounded","aria-label":"Go back",children:s.jsx("svg",{className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o===1?"Select Domain":o===2?"Select Subdomain":"Select Skills"})]}),s.jsx("button",{type:"button",onClick:()=>T(!se),className:"p-2 hover:bg-gray-200 rounded-full","aria-label":"Search",children:s.jsx("svg",{className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex space-x-1 flex-1",children:[1,2,3].map(e=>s.jsx("div",{className:`h-2 flex-1 rounded ${e<=o?"bg-indigo-600":"bg-gray-300"}`},e))}),s.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["Step ",o," of 3"]})]})]}),se&&s.jsxs("div",{className:"border-b border-gray-200 p-4 bg-white flex-shrink-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search all skills...",value:x,onChange:e=>w(e.target.value),onKeyDown:ie,className:"w-full px-3 py-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base","aria-label":"Search skills globally"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),Q&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-indigo-500 border-t-transparent rounded-full"})})]}),d.length>0&&s.jsx("div",{className:"mt-3 max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:d.map((e,t)=>{var a,n,i;return s.jsxs("button",{type:"button",onClick:()=>D(e),className:`w-full text-left p-4 border-b border-gray-100 last:border-b-0 transition-colors ${t===p?"bg-indigo-100":"hover:bg-gray-50"}`,children:[s.jsx("div",{className:"font-medium text-gray-900",children:$(e.name,x)}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[(n=(a=e.subdomain)==null?void 0:a.domain)==null?void 0:n.name," - ",(i=e.subdomain)==null?void 0:i.name]}),e.description&&s.jsx("div",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:$(e.description,x)}),l.includes(e.id)&&s.jsx("div",{className:"text-sm text-green-600 mt-1 font-medium",children:"âœ“ Already selected"})]},e.id)})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:$e()}),s.jsx("div",{className:"border-t border-gray-200 bg-white p-4 flex-shrink-0",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:Se,className:"flex-1 px-4 py-3 text-base font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),o<3?s.jsx("button",{type:"button",onClick:Ne,disabled:o===1?!u:!m,className:"flex-1 px-4 py-3 text-base font-medium text-white bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):s.jsxs("button",{type:"button",onClick:ke,className:"flex-1 px-4 py-3 text-base font-medium text-white bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["Done (",l.length,")"]})]})})]})}):s.jsxs("div",{className:"absolute z-20 mt-1 w-full bg-white shadow-xl border border-gray-200 rounded-lg overflow-hidden",style:{minWidth:"600px"},children:[s.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Select Skills"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${S>=1?"bg-indigo-600":"bg-gray-300"}`}),s.jsx("div",{className:`w-2 h-2 rounded-full ${S>=2?"bg-indigo-600":"bg-gray-300"}`}),s.jsx("div",{className:`w-2 h-2 rounded-full ${S>=3?"bg-indigo-600":"bg-gray-300"}`})]})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Step ",S," of 3: ",S===1?"Select Domain":S===2?"Select Subdomain":"Select Skills"]})]}),s.jsxs("div",{className:"border-b border-gray-200 p-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search all skills globally...",value:x,onChange:e=>w(e.target.value),onKeyDown:ie,className:"w-full px-3 py-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-sm","aria-label":"Search skills globally","aria-describedby":"global-search-help"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),Q&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-indigo-500 border-t-transparent rounded-full"})})]}),d.length>0&&s.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md",role:"listbox","aria-label":"Search results",children:d.map((e,t)=>De(e,x,t))}),x.trim()&&s.jsx("div",{id:"global-search-help",className:"mt-1 text-xs text-gray-500",children:"Use â†‘â†“ to navigate, Enter to select, Esc to clear"}),x.trim()&&!Q&&d.length===0&&s.jsxs("div",{className:"mt-2 p-3 text-sm text-gray-500 text-center border border-gray-200 rounded-md",children:['No skills found for "',x,'"']})]}),s.jsxs("div",{className:"flex",style:{height:"300px"},children:[s.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Domains"}),s.jsx("input",{type:"text",placeholder:"Search domains...",value:F,onChange:e=>I(e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:j.domains?s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading..."}):q.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No domains found"}):q.map(e=>s.jsx("button",{type:"button",onClick:()=>ae(e.id),className:`w-full text-left px-3 py-3 hover:bg-gray-50 focus:outline-none border-b border-gray-100 text-sm ${u===e.id?"bg-indigo-50 border-l-4 border-l-indigo-500 text-indigo-900 font-medium":"text-gray-700"}`,children:e.name},e.id))})]}),s.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Subdomains"}),u&&s.jsx("input",{type:"text",placeholder:"Search subdomains...",value:W,onChange:e=>J(e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:u?j.subdomains?s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading..."}):K.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No subdomains found"}):K.map(e=>s.jsx("button",{type:"button",onClick:()=>ne(e.id),className:`w-full text-left px-3 py-3 hover:bg-gray-50 focus:outline-none border-b border-gray-100 text-sm ${m===e.id?"bg-indigo-50 border-l-4 border-l-indigo-500 text-indigo-900 font-medium":"text-gray-700"}`,children:e.name},e.id)):s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Select a domain first"})})]}),s.jsxs("div",{className:"w-1/3 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills"}),m&&s.jsx("input",{type:"text",placeholder:"Search skills...",value:A,onChange:e=>O(e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:m?j.skills?s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading..."}):P.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:z.length===0?"No skills available":"No skills found matching your search"}):P.map(e=>{const t=l.includes(e.id);return s.jsx("button",{type:"button",onClick:()=>le(e),className:`w-full text-left px-3 py-3 hover:bg-gray-50 focus:outline-none border-b border-gray-100 text-sm transition-colors ${t?"bg-green-50 border-l-4 border-l-green-500":"text-gray-700"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`font-medium ${t?"text-green-900":"text-gray-900"}`,children:e.name}),e.description&&s.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.description})]}),t&&s.jsx("div",{className:"ml-2 flex-shrink-0",children:s.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},e.id)}):s.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Select a subdomain first"})})]})]}),s.jsx("div",{className:"border-t border-gray-200 bg-white p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[l.length," skill",l.length!==1?"s":""," selected"]}),s.jsx("button",{type:"button",onClick:()=>G(!1),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Done"})]})})]}))]}),s.jsx(Ee,{className:"mt-2",message:de}),l.length>0&&s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[l.length," skill",l.length!==1?"s":""," selected"]})]})}oe.propTypes={value:y.arrayOf(y.number),onChange:y.func.isRequired,error:y.string,required:y.bool,label:y.string,placeholder:y.string};oe.defaultProps={value:[],error:null,required:!1,label:"Skills",placeholder:"Select skills..."};export{oe as S};
