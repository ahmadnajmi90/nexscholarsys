import{d as Re,g as ee,R as H,r as C,j as t,b as Y,a as z}from"./app-C9aRItHR.js";import{E as se,G as ie,S as Le,H as oe,T as Pe,U as ke,V as Ie,l as Me}from"./index-DWLkSDCh.js";import{u as He}from"./useRoles-BMgrdTWk.js";import{P as g}from"./index-B8W8JpGp.js";import{t as Fe,a as De}from"./analytics-BQ374C1C.js";import{B as Ue}from"./BookmarkButton-DA462VIO.js";import{B as Be}from"./BackButton-TySNEt5X.js";import{p as qe}from"./purify.es-9JUW7zMc.js";import{c as le}from"./index-XngfYQdO.js";import{B as $e}from"./briefcase-Drgw6UyA.js";import{U as ce}from"./users-7wE4kwZt.js";import{C as Ge}from"./calendar-DOmFwYBu.js";import{B as de}from"./building-BKwJ3Rui.js";import{M as Ye}from"./mail-CFmvCR9a.js";import{E as ze}from"./external-link-DzWtQSK0.js";import{F as We}from"./file-text-Dda2OPaZ.js";import"./iconBase-BnDH7fxV.js";import"./index-Chjiymov.js";import"./BookmarkHandler-BDP1cuDJ.js";import"./tooltip-Bumx2StD.js";import"./index-CrClJLlY.js";import"./index-CC4PcrzS.js";import"./index-CCAZcmHJ.js";import"./index-DFuKqaZl.js";import"./index-D5McE1bZ.js";import"./index-COgthb8O.js";import"./index-KT7cPyEo.js";import"./floating-ui.dom-D5EC_49c.js";import"./index-0pjh7AqE.js";import"./index-eZvGyRKK.js";import"./index-DJhbDaIo.js";import"./utils-CBfrqCZ4.js";import"./button-CSPEol7l.js";import"./arrow-left-DF5iCzrg.js";import"./createLucideIcon-BKESxhZR.js";var W,ue;function Ve(){if(ue)return W;ue=1;function r(s){return s&&typeof s=="object"&&"default"in s?s.default:s}var e=Re(),i=r(e);function o(s,n,d){return n in s?Object.defineProperty(s,n,{value:d,enumerable:!0,configurable:!0,writable:!0}):s[n]=d,s}function l(s,n){s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function c(s,n,d){if(typeof s!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof n!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function u(f){return f.displayName||f.name||"Component"}return function(p){if(typeof p!="function")throw new Error("Expected WrappedComponent to be a React component.");var x=[],v;function N(){v=s(x.map(function(b){return b.props})),T.canUseDOM?n(v):d&&(v=d(v))}var T=(function(b){l(E,b);function E(){return b.apply(this,arguments)||this}E.peek=function(){return v},E.rewind=function(){if(E.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var L=v;return v=void 0,x=[],L};var A=E.prototype;return A.UNSAFE_componentWillMount=function(){x.push(this),N()},A.componentDidUpdate=function(){N()},A.componentWillUnmount=function(){var L=x.indexOf(this);x.splice(L,1),N()},A.render=function(){return i.createElement(p,this.props)},E})(e.PureComponent);return o(T,"displayName","SideEffect("+u(p)+")"),o(T,"canUseDOM",a),T}}return W=c,W}var Xe=Ve();const Je=ee(Xe);var V,me;function Qe(){if(me)return V;me=1;var r=typeof Element<"u",e=typeof Map=="function",i=typeof Set=="function",o=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(a,c){if(a===c)return!0;if(a&&c&&typeof a=="object"&&typeof c=="object"){if(a.constructor!==c.constructor)return!1;var s,n,d;if(Array.isArray(a)){if(s=a.length,s!=c.length)return!1;for(n=s;n--!==0;)if(!l(a[n],c[n]))return!1;return!0}var u;if(e&&a instanceof Map&&c instanceof Map){if(a.size!==c.size)return!1;for(u=a.entries();!(n=u.next()).done;)if(!c.has(n.value[0]))return!1;for(u=a.entries();!(n=u.next()).done;)if(!l(n.value[1],c.get(n.value[0])))return!1;return!0}if(i&&a instanceof Set&&c instanceof Set){if(a.size!==c.size)return!1;for(u=a.entries();!(n=u.next()).done;)if(!c.has(n.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(c)){if(s=a.length,s!=c.length)return!1;for(n=s;n--!==0;)if(a[n]!==c[n])return!1;return!0}if(a.constructor===RegExp)return a.source===c.source&&a.flags===c.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof c.valueOf=="function")return a.valueOf()===c.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof c.toString=="function")return a.toString()===c.toString();if(d=Object.keys(a),s=d.length,s!==Object.keys(c).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(c,d[n]))return!1;if(r&&a instanceof Element)return!1;for(n=s;n--!==0;)if(!((d[n]==="_owner"||d[n]==="__v"||d[n]==="__o")&&a.$$typeof)&&!l(a[d[n]],c[d[n]]))return!1;return!0}return a!==a&&c!==c}return V=function(c,s){try{return l(c,s)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},V}var Ze=Qe();const Ke=ee(Ze);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var X,fe;function et(){if(fe)return X;fe=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function l(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var c={},s=0;s<10;s++)c["_"+String.fromCharCode(s)]=s;var n=Object.getOwnPropertyNames(c).map(function(u){return c[u]});if(n.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(u){d[u]=u}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return X=l()?Object.assign:function(a,c){for(var s,n=o(a),d,u=1;u<arguments.length;u++){s=Object(arguments[u]);for(var f in s)e.call(s,f)&&(n[f]=s[f]);if(r){d=r(s);for(var p=0;p<d.length;p++)i.call(s,d[p])&&(n[d[p]]=s[d[p]])}}return n},X}var tt=et();const rt=ee(tt);var R={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},h={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(h).map(function(r){return h[r]});var y={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},q={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},F={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},nt=Object.keys(q).reduce(function(r,e){return r[q[e]]=e,r},{}),at=[h.NOSCRIPT,h.SCRIPT,h.STYLE],_="data-react-helmet",st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},it=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},ot=(function(){function r(e,i){for(var o=0;o<i.length;o++){var l=i[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,i,o){return i&&r(e.prototype,i),o&&r(e,o),e}})(),j=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},lt=function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)},he=function(r,e){var i={};for(var o in r)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o]);return i},ct=function(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r},Q=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},dt=function(e){var i=k(e,h.TITLE),o=k(e,F.TITLE_TEMPLATE);if(o&&i)return o.replace(/%s/g,function(){return Array.isArray(i)?i.join(""):i});var l=k(e,F.DEFAULT_TITLE);return i||l||void 0},ut=function(e){return k(e,F.ON_CHANGE_CLIENT_STATE)||function(){}},J=function(e,i){return i.filter(function(o){return typeof o[e]<"u"}).map(function(o){return o[e]}).reduce(function(o,l){return j({},o,l)},{})},mt=function(e,i){return i.filter(function(o){return typeof o[h.BASE]<"u"}).map(function(o){return o[h.BASE]}).reverse().reduce(function(o,l){if(!o.length)for(var a=Object.keys(l),c=0;c<a.length;c++){var s=a[c],n=s.toLowerCase();if(e.indexOf(n)!==-1&&l[n])return o.concat(l)}return o},[])},I=function(e,i,o){var l={};return o.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&xt("Helmet: "+e+' should be of type "Array". Instead found type "'+st(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,c){var s={};c.filter(function(p){for(var x=void 0,v=Object.keys(p),N=0;N<v.length;N++){var T=v[N],b=T.toLowerCase();i.indexOf(b)!==-1&&!(x===y.REL&&p[x].toLowerCase()==="canonical")&&!(b===y.REL&&p[b].toLowerCase()==="stylesheet")&&(x=b),i.indexOf(T)!==-1&&(T===y.INNER_HTML||T===y.CSS_TEXT||T===y.ITEM_PROP)&&(x=T)}if(!x||!p[x])return!1;var E=p[x].toLowerCase();return l[x]||(l[x]={}),s[x]||(s[x]={}),l[x][E]?!1:(s[x][E]=!0,!0)}).reverse().forEach(function(p){return a.push(p)});for(var n=Object.keys(s),d=0;d<n.length;d++){var u=n[d],f=rt({},l[u],s[u]);l[u]=f}return a},[]).reverse()},k=function(e,i){for(var o=e.length-1;o>=0;o--){var l=e[o];if(l.hasOwnProperty(i))return l[i]}return null},ft=function(e){return{baseTag:mt([y.HREF,y.TARGET],e),bodyAttributes:J(R.BODY,e),defer:k(e,F.DEFER),encode:k(e,F.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:J(R.HTML,e),linkTags:I(h.LINK,[y.REL,y.HREF],e),metaTags:I(h.META,[y.NAME,y.CHARSET,y.HTTPEQUIV,y.PROPERTY,y.ITEM_PROP],e),noscriptTags:I(h.NOSCRIPT,[y.INNER_HTML],e),onChangeClientState:ut(e),scriptTags:I(h.SCRIPT,[y.SRC,y.INNER_HTML],e),styleTags:I(h.STYLE,[y.CSS_TEXT],e),title:dt(e),titleAttributes:J(R.TITLE,e)}},Z=(function(){var r=Date.now();return function(e){var i=Date.now();i-r>16?(r=i,e(i)):setTimeout(function(){Z(e)},0)}})(),pe=function(e){return clearTimeout(e)},ht=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Z:global.requestAnimationFrame||Z,pt=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||pe:global.cancelAnimationFrame||pe,xt=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},M=null,gt=function(e){M&&pt(M),e.defer?M=ht(function(){xe(e,function(){M=null})}):(xe(e),M=null)},xe=function(e,i){var o=e.baseTag,l=e.bodyAttributes,a=e.htmlAttributes,c=e.linkTags,s=e.metaTags,n=e.noscriptTags,d=e.onChangeClientState,u=e.scriptTags,f=e.styleTags,p=e.title,x=e.titleAttributes;K(h.BODY,l),K(h.HTML,a),yt(p,x);var v={baseTag:P(h.BASE,o),linkTags:P(h.LINK,c),metaTags:P(h.META,s),noscriptTags:P(h.NOSCRIPT,n),scriptTags:P(h.SCRIPT,u),styleTags:P(h.STYLE,f)},N={},T={};Object.keys(v).forEach(function(b){var E=v[b],A=E.newTags,S=E.oldTags;A.length&&(N[b]=A),S.length&&(T[b]=v[b].oldTags)}),i&&i(),d(e,N,T)},ve=function(e){return Array.isArray(e)?e.join(""):e},yt=function(e,i){typeof e<"u"&&document.title!==e&&(document.title=ve(e)),K(h.TITLE,i)},K=function(e,i){var o=document.getElementsByTagName(e)[0];if(o){for(var l=o.getAttribute(_),a=l?l.split(","):[],c=[].concat(a),s=Object.keys(i),n=0;n<s.length;n++){var d=s[n],u=i[d]||"";o.getAttribute(d)!==u&&o.setAttribute(d,u),a.indexOf(d)===-1&&a.push(d);var f=c.indexOf(d);f!==-1&&c.splice(f,1)}for(var p=c.length-1;p>=0;p--)o.removeAttribute(c[p]);a.length===c.length?o.removeAttribute(_):o.getAttribute(_)!==s.join(",")&&o.setAttribute(_,s.join(","))}},P=function(e,i){var o=document.head||document.querySelector(h.HEAD),l=o.querySelectorAll(e+"["+_+"]"),a=Array.prototype.slice.call(l),c=[],s=void 0;return i&&i.length&&i.forEach(function(n){var d=document.createElement(e);for(var u in n)if(n.hasOwnProperty(u))if(u===y.INNER_HTML)d.innerHTML=n.innerHTML;else if(u===y.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=n.cssText:d.appendChild(document.createTextNode(n.cssText));else{var f=typeof n[u]>"u"?"":n[u];d.setAttribute(u,f)}d.setAttribute(_,"true"),a.some(function(p,x){return s=x,d.isEqualNode(p)})?a.splice(s,1):c.push(d)}),a.forEach(function(n){return n.parentNode.removeChild(n)}),c.forEach(function(n){return o.appendChild(n)}),{oldTags:a,newTags:c}},Te=function(e){return Object.keys(e).reduce(function(i,o){var l=typeof e[o]<"u"?o+'="'+e[o]+'"':""+o;return i?i+" "+l:l},"")},vt=function(e,i,o,l){var a=Te(o),c=ve(i);return a?"<"+e+" "+_+'="true" '+a+">"+Q(c,l)+"</"+e+">":"<"+e+" "+_+'="true">'+Q(c,l)+"</"+e+">"},Tt=function(e,i,o){return i.reduce(function(l,a){var c=Object.keys(a).filter(function(d){return!(d===y.INNER_HTML||d===y.CSS_TEXT)}).reduce(function(d,u){var f=typeof a[u]>"u"?u:u+'="'+Q(a[u],o)+'"';return d?d+" "+f:f},""),s=a.innerHTML||a.cssText||"",n=at.indexOf(e)===-1;return l+"<"+e+" "+_+'="true" '+c+(n?"/>":">"+s+"</"+e+">")},"")},be=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(o,l){return o[q[l]||l]=e[l],o},i)},bt=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(o,l){return o[nt[l]||l]=e[l],o},i)},wt=function(e,i,o){var l,a=(l={key:i},l[_]=!0,l),c=be(o,a);return[H.createElement(h.TITLE,c,i)]},Nt=function(e,i){return i.map(function(o,l){var a,c=(a={key:l},a[_]=!0,a);return Object.keys(o).forEach(function(s){var n=q[s]||s;if(n===y.INNER_HTML||n===y.CSS_TEXT){var d=o.innerHTML||o.cssText;c.dangerouslySetInnerHTML={__html:d}}else c[n]=o[s]}),H.createElement(e,c)})},O=function(e,i,o){switch(e){case h.TITLE:return{toComponent:function(){return wt(e,i.title,i.titleAttributes)},toString:function(){return vt(e,i.title,i.titleAttributes,o)}};case R.BODY:case R.HTML:return{toComponent:function(){return be(i)},toString:function(){return Te(i)}};default:return{toComponent:function(){return Nt(e,i)},toString:function(){return Tt(e,i,o)}}}},we=function(e){var i=e.baseTag,o=e.bodyAttributes,l=e.encode,a=e.htmlAttributes,c=e.linkTags,s=e.metaTags,n=e.noscriptTags,d=e.scriptTags,u=e.styleTags,f=e.title,p=f===void 0?"":f,x=e.titleAttributes;return{base:O(h.BASE,i,l),bodyAttributes:O(R.BODY,o,l),htmlAttributes:O(R.HTML,a,l),link:O(h.LINK,c,l),meta:O(h.META,s,l),noscript:O(h.NOSCRIPT,n,l),script:O(h.SCRIPT,d,l),style:O(h.STYLE,u,l),title:O(h.TITLE,{title:p,titleAttributes:x},l)}},Et=function(e){var i,o;return o=i=(function(l){lt(a,l);function a(){return it(this,a),ct(this,l.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(s){return!Ke(this.props,s)},a.prototype.mapNestedChildrenToProps=function(s,n){if(!n)return null;switch(s.type){case h.SCRIPT:case h.NOSCRIPT:return{innerHTML:n};case h.STYLE:return{cssText:n}}throw new Error("<"+s.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(s){var n,d=s.child,u=s.arrayTypeChildren,f=s.newChildProps,p=s.nestedChildren;return j({},u,(n={},n[d.type]=[].concat(u[d.type]||[],[j({},f,this.mapNestedChildrenToProps(d,p))]),n))},a.prototype.mapObjectTypeChildren=function(s){var n,d,u=s.child,f=s.newProps,p=s.newChildProps,x=s.nestedChildren;switch(u.type){case h.TITLE:return j({},f,(n={},n[u.type]=x,n.titleAttributes=j({},p),n));case h.BODY:return j({},f,{bodyAttributes:j({},p)});case h.HTML:return j({},f,{htmlAttributes:j({},p)})}return j({},f,(d={},d[u.type]=j({},p),d))},a.prototype.mapArrayTypeChildrenToProps=function(s,n){var d=j({},n);return Object.keys(s).forEach(function(u){var f;d=j({},d,(f={},f[u]=s[u],f))}),d},a.prototype.warnOnInvalidChildren=function(s,n){return!0},a.prototype.mapChildrenToProps=function(s,n){var d=this,u={};return H.Children.forEach(s,function(f){if(!(!f||!f.props)){var p=f.props,x=p.children,v=he(p,["children"]),N=bt(v);switch(d.warnOnInvalidChildren(f,x),f.type){case h.LINK:case h.META:case h.NOSCRIPT:case h.SCRIPT:case h.STYLE:u=d.flattenArrayTypeChildren({child:f,arrayTypeChildren:u,newChildProps:N,nestedChildren:x});break;default:n=d.mapObjectTypeChildren({child:f,newProps:n,newChildProps:N,nestedChildren:x});break}}}),n=this.mapArrayTypeChildrenToProps(u,n),n},a.prototype.render=function(){var s=this.props,n=s.children,d=he(s,["children"]),u=j({},d);return n&&(u=this.mapChildrenToProps(n,u)),H.createElement(e,u)},ot(a,null,[{key:"canUseDOM",set:function(s){e.canUseDOM=s}}]),a})(H.Component),i.propTypes={base:g.object,bodyAttributes:g.object,children:g.oneOfType([g.arrayOf(g.node),g.node]),defaultTitle:g.string,defer:g.bool,encodeSpecialCharacters:g.bool,htmlAttributes:g.object,link:g.arrayOf(g.object),meta:g.arrayOf(g.object),noscript:g.arrayOf(g.object),onChangeClientState:g.func,script:g.arrayOf(g.object),style:g.arrayOf(g.object),title:g.string,titleAttributes:g.object,titleTemplate:g.string},i.defaultProps={defer:!0,encodeSpecialCharacters:!0},i.peek=e.peek,i.rewind=function(){var l=e.rewind();return l||(l=we({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),l},o},At=function(){return null},jt=Je(ft,gt,we)(At),ge=Et(jt);ge.renderStatic=ge.rewind;const ye=({html:r,className:e})=>{const i=qe.sanitize(r||"",{ALLOWED_TAGS:["b","i","u","p","br","ul","ol","li","strong","em","a","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href","target","rel"]});return!i||i.trim()===""?t.jsx("p",{className:e,children:"No content available"}):t.jsx("div",{className:e,dangerouslySetInnerHTML:{__html:i}})};function lr({project:r,previous:e,next:i,academicians:o,researchOptions:l,universities:a,auth:c,isWelcome:s,relatedProjects:n,scholarLabProject:d,joinRequestStatus:u,isMember:f}){He();const[p,x]=C.useState(r.total_likes||0),[v,N]=C.useState(r.total_shares||0),[T,b]=C.useState(r.liked||!1),[E,A]=C.useState(!1),[S,L]=C.useState(!1),[te,Ne]=C.useState(u),$=C.useRef(null);console.log(n),C.useEffect(()=>{const m=w=>{$.current&&!$.current.contains(w.target)&&A(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),C.useEffect(()=>{Fe(window.location.pathname),De("Project","view",r.project_name,r.id)},[r]);const D=o&&o.find(m=>m.academician_id===r.author_id)||null,re=()=>{if(!r.field_of_research)return null;const w=(Array.isArray(r.field_of_research)?r.field_of_research:[r.field_of_research]).map(Oe=>{const B=l.find(G=>`${G.field_of_research_id}-${G.research_area_id}-${G.niche_domain_id}`===Oe);return B?`${B.field_of_research_name} - ${B.research_area_name} - ${B.niche_domain_name}`:null}).filter(Boolean);return w.length?w.join(", "):null},ne=()=>{if(!r.university)return null;const m=a.find(w=>String(w.id)===String(r.university));return m?m.full_name:null},Ee=()=>{if(!c){window.location.href=route("login");return}z.post(route("projects.toggleLike",r.url)).then(m=>{x(m.data.total_likes),b(m.data.liked)}).catch(m=>console.error(m))},U=m=>{m(),z.post(route("projects.share",r.url)).then(w=>{N(w.data.total_shares)}).catch(w=>console.error(w))},Ae=()=>{const m=route("welcome.projects.show",r.url);window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,"_blank","width=600,height=400")},je=()=>{const m=route("welcome.projects.show",r.url);window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")},_e=()=>{const m=route("welcome.projects.show",r.url);window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m)}`,"_blank","width=600,height=400")},Se=()=>{const m=route("welcome.projects.show",r.url);navigator.clipboard.writeText(m).then(()=>{alert("Link copied to clipboard")})},ae=()=>{if(!c){window.location.href=route("login");return}L(!0),z.post(route("projects.join.request",d.id)).then(m=>{le.success(m.data.message),Ne("pending")}).catch(m=>{const w=m.response?.data?.message||"Failed to send join request";le.error(w)}).finally(()=>{L(!1)})},Ce=()=>!d||f?null:te==="pending"?t.jsxs("button",{disabled:!0,className:"mt-4 px-6 py-2 bg-gray-300 text-gray-700 rounded-md flex items-center justify-center",children:[t.jsx(FaUsers,{className:"mr-2"})," Request Sent"]}):te==="rejected"?t.jsxs("button",{onClick:ae,disabled:S,className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(FaUsers,{className:"mr-2"})," Request Again"]}):t.jsxs("button",{onClick:ae,disabled:S,className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center",children:[t.jsx(FaUsers,{className:"mr-2"})," Request to Join Project"]});return t.jsx("div",{className:"px-6 md:px-8 lg:px-4",children:t.jsxs("div",{className:"max-w-8xl mx-auto py-4 lg:pt-4",children:[t.jsx("div",{className:"mb-6",children:t.jsx(Be,{})}),r.title&&t.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 text-left",children:r.title}),D?t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("img",{src:`/storage/${D.profile_picture}`,alt:D.full_name,className:"w-12 h-12 rounded-full object-cover shadow-md bg-gray-200 border-2 border-white"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold",children:D.full_name}),t.jsx("div",{className:"text-gray-500",children:r.created_at?new Date(r.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""})]})]}):t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("img",{src:"/storage/Admin.jpg",alt:"Admin",className:"w-12 h-12 rounded-full object-cover shadow-md border-2 border-white"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold",children:"Admin"}),t.jsx("div",{className:"text-gray-500",children:r.created_at?new Date(r.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""})]})]}),t.jsxs("div",{className:"my-4",children:[t.jsx("hr",{}),t.jsxs("div",{className:"flex flex-wrap items-center space-x-4 py-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(se,{className:"w-6 h-6 text-gray-600"}),t.jsx("span",{className:"ml-2 text-gray-600",children:r.total_views})]}),t.jsxs("button",{onClick:Ee,className:"flex items-center",children:[T?t.jsx(ie,{className:"w-6 h-6 text-red-600"}):t.jsx(Le,{className:"w-6 h-6 text-gray-600"}),t.jsx("span",{className:"ml-2 text-gray-600",children:p})]}),t.jsxs("div",{className:"relative",ref:$,children:[t.jsx("button",{onClick:()=>A(!E),className:"flex items-center",children:t.jsx(oe,{className:"w-6 h-6 text-gray-600"})}),E&&t.jsxs("div",{className:"absolute left-0 mt-2 w-40 bg-white shadow-lg rounded z-10",children:[t.jsxs("button",{onClick:()=>{U(Se),A(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[t.jsx(Pe,{className:"w-5 h-5 inline mr-2 text-gray-600"}),"Copy Link"]}),t.jsx("hr",{className:"my-1"}),t.jsxs("button",{onClick:()=>{U(Ae),A(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[t.jsx(ke,{className:"w-5 h-5 inline mr-2 text-blue-600"}),"Facebook"]}),t.jsxs("button",{onClick:()=>{U(je),A(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[t.jsx(Ie,{className:"w-5 h-5 inline mr-2 text-green-600"}),"WhatsApp"]}),t.jsxs("button",{onClick:()=>{U(_e),A(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center",children:[t.jsx(Me,{className:"w-5 h-5 inline mr-2 text-blue-700"}),"LinkedIn"]})]})]}),t.jsx(Ue,{bookmarkableType:"project",bookmarkableId:r.id,category:"Projects",iconSize:"w-6 h-6",tooltipPosition:"top"})]}),t.jsx("hr",{})]}),t.jsx("div",{className:"my-4",children:Ce()}),r.image&&t.jsx("img",{src:`/storage/${r.image}`,alt:"Banner",className:"w-full h-auto md:h-64 object-cover mb-4"}),r.description&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h2",{className:"text-xl font-bold mb-2",children:"Description"}),t.jsx(ye,{html:r.description,className:"mb-4 text-gray-700 prose w-full text-left max-w-none break-words leading-relaxed"})]}),t.jsxs("div",{className:"mt-8 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b-2 border-gray-200",children:"Project Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[(r.project_theme||r.purpose||r.field_of_research||r.category)&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx($e,{className:"w-5 h-5 text-blue-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Key Information"})]}),t.jsxs("div",{className:"space-y-3 ml-7",children:[r.project_theme&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Theme:"}),t.jsx("span",{className:"text-gray-900",children:r.project_theme})]}),r.purpose&&t.jsxs("div",{className:"flex items-start",children:[t.jsx("span",{className:"text-gray-600 font-medium w-32 mt-0.5",children:"Purpose:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(r.purpose)?r.purpose.map((m,w)=>t.jsx("span",{className:"px-4 md:px-2.5 lg:px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-800 font-medium border border-gray-200 w-3/4 ml-6 md:ml-6 lg:ml-0",children:m},w)):t.jsx("span",{className:"px-4 md:px-2.5 lg:px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-800 font-medium border border-gray-200 w-3/4 ml-6 md:ml-6 lg:ml-0",children:r.purpose})})]}),r.field_of_research&&re()&&t.jsxs("div",{className:"flex items-start",children:[t.jsx("span",{className:"text-gray-600 font-medium w-32 mt-0.5",children:"Research Field:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:re().split(", ").map((m,w)=>t.jsx("span",{className:"px-4 md:px-2.5 lg:px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-800 font-medium border border-gray-200 w-3/4 ml-6 md:ml-6 lg:ml-0",children:m.trim()},w))})]}),r.category&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Category:"}),t.jsx("span",{className:"text-gray-900",children:r.category})]})]})]}),(r.student_nationality||r.student_level||r.student_mode_study)&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(ce,{className:"w-5 h-5 text-green-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Requirements"})]}),t.jsxs("div",{className:"space-y-3 ml-7",children:[r.student_nationality&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Nationality:"}),t.jsx("span",{className:"text-gray-900",children:r.student_nationality})]}),r.student_level&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Student Level:"}),t.jsx("span",{className:"text-gray-900",children:Array.isArray(r.student_level)?r.student_level.join(", "):r.student_level})]}),r.student_mode_study&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-32",children:"Mode of Study:"}),t.jsx("span",{className:"text-gray-900",children:Array.isArray(r.student_mode_study)?r.student_mode_study.join(", "):r.student_mode_study})]})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[(r.start_date||r.end_date||r.application_deadline||r.duration)&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(Ge,{className:"w-5 h-5 text-orange-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Schedule & Duration"})]}),t.jsxs("div",{className:"space-y-3 ml-7",children:[r.start_date&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Start:"}),t.jsx("span",{className:"text-gray-900",children:new Date(r.start_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),r.end_date&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-24",children:"End:"}),t.jsx("span",{className:"text-gray-900",children:new Date(r.end_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),r.application_deadline&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-red-600 font-medium w-24",children:"Deadline:"}),t.jsxs("span",{className:`font-semibold ${new Date(r.application_deadline)<new Date,"text-red-600"}`,children:[new Date(r.application_deadline).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),new Date(r.application_deadline)<new Date&&t.jsx("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-semibold",children:"Ended"})]})]}),r.duration&&t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Duration:"}),t.jsxs("span",{className:"text-gray-900",children:[r.duration," months"]})]})]})]}),(r.sponsored_by||r.university||r.email||r.application_url)&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(de,{className:"w-5 h-5 text-purple-600 mr-2"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Organization & Contact"})]}),t.jsxs("div",{className:"space-y-3 ml-7",children:[r.sponsored_by&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(ce,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Sponsor:"}),t.jsx("span",{className:"text-gray-900 font-medium",children:r.sponsored_by})]}),r.university&&ne()&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(de,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("span",{className:"text-gray-600 font-medium w-24",children:"University:"}),t.jsx("span",{className:"text-gray-900",children:ne()})]}),r.email&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ye,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Email:"}),t.jsx("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:text-blue-800 underline",children:r.email})]}),r.application_url&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(ze,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("span",{className:"text-gray-600 font-medium w-24",children:"Application:"}),t.jsx("a",{href:r.application_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Apply"})]})]})]})]})]})]}),r.attachment&&t.jsx("div",{className:"mb-2",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(We,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("span",{className:"text-gray-600 font-medium mr-2",children:"Attachment:"}),t.jsx("a",{href:`/storage/${r.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"View Attachment"})]})}),t.jsx("hr",{className:"my-6 border-gray-200"}),n&&n.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Other Projects"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>t.jsxs(Y,{href:s?route("welcome.projects.show",m.url):route("projects.show",m.url),className:"block relative p-5 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-[300px] flex flex-col justify-end hover:opacity-90",style:{backgroundImage:`url(${encodeURI(m.image?`/storage/${m.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[t.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),t.jsxs("div",{className:"relative z-10 text-white pr-10",children:[t.jsx("h2",{className:"text-2xl font-bold truncate",title:m.title,children:m.title||"Untitled Project"}),m.description&&t.jsx(ye,{html:m.description,className:"text-sm line-clamp-2 mb-2"}),t.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[t.jsxs("p",{className:"text-xs",children:["Deadline: ",new Date(m.application_deadline).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsx(se,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1",children:m.total_views||0})]}),t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsx(ie,{className:"w-4 h-4 text-red-500"}),t.jsx("span",{className:"ml-1",children:m.total_likes||0})]}),t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsx(oe,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1",children:m.total_shares||0})]})]})]})]})]},m.id))})]}),t.jsxs("div",{className:"max-w-3xl mx-auto py-6 flex justify-between",children:[e?t.jsx(Y,{href:route("projects.show",e.url),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Previous"}):t.jsx("span",{}),i?t.jsx(Y,{href:route("projects.show",i.url),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Next"}):t.jsx("span",{})]})]})})}export{lr as default};
