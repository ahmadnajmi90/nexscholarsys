import{r as a,j as e}from"./app-DI8R3Wt3.js";import{M as w}from"./MainLayout-BWZ9LyAw.js";import{l as N,m as C,n as S,o as k}from"./index-DfWMoMsB.js";import{u as _}from"./useRoles-DhTJpsw6.js";const g=({label:n,options:i,selectedValues:l,setSelectedValues:d})=>{const[o,c]=a.useState(!1),m=a.useRef(null),u=s=>{const r=l.includes(s)?l.filter(h=>h!==s):[...l,s];d(r)};return a.useEffect(()=>{const s=r=>{m.current&&!m.current.contains(r.target)&&c(!1)};return o?document.addEventListener("mousedown",s):document.removeEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[o]),e.jsxs("div",{ref:m,className:"relative",children:[e.jsx("label",{className:"block text-gray-700 font-medium mt-4",children:n}),e.jsx("div",{className:`relative mt-1 w-full rounded-lg border border-gray-200 p-4 text-sm cursor-pointer bg-white ${o?"shadow-lg":""}`,onClick:()=>c(!o),children:l&&l.length>0?i.filter(s=>l.includes(s.value)).map(s=>s.label).join(", "):`Select ${n}`}),o&&e.jsx("div",{className:"absolute z-10 mt-2 bg-white border border-gray-200 rounded shadow-lg",children:e.jsx("div",{className:"p-2 space-y-2",children:i.map((s,r)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:s.value,checked:l.includes(s.value),onChange:h=>u(h.target.value),className:"mr-2"}),s.label]},r))})})]})},U=({universities:n})=>{_();const[i,l]=a.useState([]),[d,o]=a.useState([]),[c,m]=a.useState([]),[u,s]=a.useState(1),r=9;a.useState(!1),a.useState(null),console.log(n);const h=[...new Set(n.map(t=>t.country))].map(t=>({value:t,label:t})),p=[...new Set(n.map(t=>t.university_type))].map(t=>({value:t,label:t})),v=[...new Set(n.map(t=>t.university_category))].map(t=>({value:t,label:t})),b=n.filter(t=>(i.length===0||i.includes(t.country))&&(d.length===0||d.includes(t.university_type))&&(c.length===0||c.includes(t.university_category))),f=Math.ceil(b.length/r),j=b.slice((u-1)*r,u*r),y=t=>{s(t)};return e.jsx(w,{title:"List of Universities",children:e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs("div",{className:"w-1/4 p-4 bg-gray-100 border-r",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),e.jsx(g,{label:"Country",options:h,selectedValues:i,setSelectedValues:l}),e.jsx(g,{label:"University Type",options:p,selectedValues:d,setSelectedValues:o}),e.jsx(g,{label:"University Category",options:v,selectedValues:c,setSelectedValues:m})]}),e.jsxs("div",{className:"flex-1 px-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6",children:j.map(t=>e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden relative",children:[e.jsx("div",{className:"h-32",children:e.jsx("img",{src:t.background_image!==null&&`/storage/${t.background_image}`,alt:"Banner",className:"object-cover w-full h-full"})}),e.jsx("div",{className:"flex justify-center -mt-12",children:e.jsx("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border-4 border-white shadow-lg",children:e.jsx("img",{src:t.profile_picture!==null&&`/storage/${t.profile_picture}`,alt:"Profile",className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("h2",{className:"text-lg font-semibold px-4 h-16 overflow-hidden",children:t.full_name}),e.jsx("p",{className:"text-gray-500 text-sm",children:t.country}),e.jsx("button",{onClick:()=>window.location.href=route("universities.faculties",{university:t.id}),className:"mt-2 bg-blue-500 text-white text-[10px] px-2 font-semibold py-1 rounded-full hover:bg-blue-600",children:"View"})]}),e.jsxs("div",{className:"flex justify-around items-center mt-6 py-4 border-t px-10",children:[e.jsx(N,{className:"text-gray-500 text-sm cursor-pointer hover:text-blue-700",title:"Copy Email",onClick:()=>handleCopyEmail(t.email)}),e.jsx("a",{href:t.google_scholar,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-sm hover:text-red-700",title:"Google Scholar",children:e.jsx(C,{})}),e.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-sm hover:text-green-700",title:"Website",children:e.jsx(S,{})}),e.jsx("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-sm hover:text-blue-800",title:"LinkedIn",children:e.jsx(k,{})})]})]},t.id))}),e.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:f},(t,x)=>e.jsx("button",{onClick:()=>y(x+1),className:`px-4 py-2 border rounded ${u===x+1?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:x+1},x))})]})]})})};export{U as default};
