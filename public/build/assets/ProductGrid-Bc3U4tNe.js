import{j as e,q as j,r as v,b as C}from"./app-BleoWbnu.js";import{B as w}from"./book-open-Cn-nwygu.js";import{T}from"./trending-up-NRcTjZqP.js";import{U as N}from"./users-CbCPns3a.js";import{C as f}from"./Carousel-CVzYe8CZ.js";import{c as k}from"./createLucideIcon-Bv5Isd1B.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_=k("Award",E),U=({user:o,tabs:x,activeTab:r,setActiveTab:d})=>e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 flex items-center",children:["Welcome back, ",(o==null?void 0:o.full_name)||"User","!",e.jsx("span",{className:"ml-2 text-xl md:text-2xl",children:"ðŸ‘‹"})]}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Here's what's happening with your academic activities today"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-6 md:space-x-8 overflow-x-auto","aria-label":"Tabs",children:x.map(i=>e.jsx("button",{onClick:()=>d(i),className:`
                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                ${r===i?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                transition-colors duration-200 ease-in-out focus:outline-none
              `,children:i},i))})})]}),D=({posts:o=[]})=>{var h,g;const{auth:x}=j().props,r=x.user,[d,i]=v.useState(0),u=(a,s=100)=>{if(!a)return"";const n=a.replace(/<[^>]*>/g,"");return n.length<=s?n:n.substring(0,s)+"..."},l=o.length>0?o.slice(0,5).map(a=>({id:a.id,badge:a.category||"LATEST POST",title:a.title,subtitle:u(a.content,80),buttonText:"View Post",backgroundImage:a.featured_image?`/storage/${a.featured_image}`:"/storage/default.jpg",gradient:["from-blue-500 to-cyan-600","from-purple-500 to-pink-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-indigo-500 to-violet-600"][a.id%5],url:route("posts.show",a.url)})):[{id:1,badge:"WELCOME",title:"No Posts Available",subtitle:"Check back later for new content",buttonText:"Explore",backgroundImage:"/storage/default.jpg",gradient:"from-blue-500 to-cyan-600",url:route("dashboard")}];v.useEffect(()=>{if(l.length<=1)return;const a=setInterval(()=>{i(s=>(s+1)%l.length)},5e3);return()=>clearInterval(a)},[l.length]);const p=a=>{i(a)},m=l[d];return l.length===0?e.jsx("div",{className:"bg-gray-200 rounded-2xl p-8 mb-8 h-full min-h-[200px]"}):e.jsxs("div",{className:"rounded-2xl p-6 md:p-8 mb-8 relative overflow-hidden text-white min-h-[200px]",children:[e.jsx("div",{className:"absolute inset-0 z-0",children:l.map((a,s)=>e.jsxs("div",{className:`absolute inset-0 w-full h-full transition-opacity duration-1000 ease-in-out ${s===d?"opacity-100":"opacity-0"}`,children:[e.jsx("img",{src:a.backgroundImage,alt:a.title,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${a.gradient} opacity-85`})]},a.id))}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between relative z-10 gap-6",children:[e.jsxs("div",{className:`w-full md:flex-1 transition-all duration-700 ease-in-out ${(h=r.academician)!=null&&h.scholar_profile?"":"mb-8 md:mb-4 lg:mb-4"}`,children:[e.jsx("div",{className:"text-xs text-white font-medium mb-2 bg-white bg-opacity-20 px-3 py-1 rounded-full inline-block transition-all duration-700 ease-in-out",children:m.badge}),e.jsx("h2",{className:"text-lg md:text-xl font-bold mb-2 transition-all duration-700 ease-in-out max-w-[700px] line-clamp-1",children:m.title}),e.jsx("p",{className:"text-sm opacity-90 mb-4 transition-all duration-700 ease-in-out",children:m.subtitle}),e.jsx(C,{href:m.url,children:e.jsx("button",{className:"bg-white text-indigo-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-opacity-90 transition-all duration-700 hover:scale-105",children:m.buttonText})})]}),((g=r.academician)==null?void 0:g.scholar_profile)&&e.jsx("div",{className:"w-full md:flex-1 relative mb-8 md:mb-0 lg:mb-0",children:e.jsx("div",{className:"grid grid-cols-2 gap-4 md:gap-6",children:[{icon:w,value:r.academician.total_publications,label:"Publications",color:"text-white"},{icon:T,value:r.academician.scholar_profile.total_citations,label:"Citations",color:"text-white"},{icon:_,value:r.academician.scholar_profile.h_index,label:"h-index",color:"text-white"},{icon:N,value:r.collaborator_count,label:"Collaborations",color:"text-white"}].map((a,s)=>{const n=a.icon;return e.jsxs("div",{className:"bg-white bg-opacity-20 backdrop-blur-md rounded-xl p-3 md:p-4 text-center hover:bg-opacity-30 hover:scale-105 transition-all duration-200",children:[e.jsx(n,{className:"w-6 h-6 md:w-8 md:h-8 mx-auto mb-2 text-white"}),e.jsx("div",{className:"text-sm md:text-lg font-bold",children:a.value}),e.jsx("div",{className:"text-xs opacity-80",children:a.label})]},s)})})})]}),e.jsx("div",{className:"absolute bottom-6 left-8 flex space-x-3 z-20",children:l.map((a,s)=>e.jsx("button",{onClick:()=>p(s),className:`w-2 h-2 rounded-full transition-all duration-500 hover:scale-125 ${s===d?"bg-white shadow-lg scale-110":"bg-white bg-opacity-50 hover:bg-opacity-70"}`},s))})]})},L=({posts:o=[],events:x=[],grants:r=[]})=>{var y;const{auth:d}=j().props,i=d.user,[u,l]=v.useState("All"),p=t=>{if(typeof window>"u")return"";const c=document.createElement("DIV");return c.innerHTML=t,c.textContent||c.innerText||""},m=t=>{var c,b;return{id:`post-${t.id}`,title:t.title||"Untitled Post",subtitle:t.category||"Post",description:t.content?p(t.content).substring(0,120)+"...":"",status:"Post",date:new Date(t.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),author:((c=t.author)==null?void 0:c.name)||"Unknown Author",readTime:`${Math.ceil((((b=t.content)==null?void 0:b.length)||0)/1e3)} min read`,views:t.total_views||"0",likes:t.total_likes||"0",shares:t.total_shares||"0",type:"post",category:t.category||"Research",bgColor:"from-blue-900 to-purple-900",statusColor:"bg-blue-500 text-white",backgroundImage:t.featured_image?`/storage/${t.featured_image}`:"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=1200",url:`/posts/${t.url}`}},h=t=>({id:`event-${t.id}`,title:t.event_name||"Untitled Event",subtitle:t.event_theme||"Event",description:t.description?p(t.description).substring(0,120)+"...":"",status:"Event",date:new Date(t.start_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),author:t.author_id||"Organizer",readTime:"Event",type:"event",category:t.event_type||"Conference",bgColor:"from-purple-600 to-purple-800",statusColor:"bg-red-500 text-white",backgroundImage:t.image?`/storage/${t.image}`:"https://images.pexels.com/photos/2774556/pexels-photo-2774556.jpeg?auto=compress&cs=tinysrgb&w=800",url:`/events/${t.url}`}),g=t=>({id:`grant-${t.id}`,title:t.title||"Untitled Grant",subtitle:Array.isArray(t.grant_theme)?t.grant_theme.join(", "):"Grant",description:t.description?p(t.description).substring(0,120)+"...":"",status:"Grant",date:new Date(t.application_deadline).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),author:t.sponsored_by||"Funder",readTime:"Grant",type:"grant",category:t.grant_type||"Funding",bgColor:"from-green-600 to-green-800",statusColor:"bg-green-500 text-white",backgroundImage:t.image?`/storage/${t.image}`:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&w=800",url:`/grants/${t.url}`}),a=o.slice(0,5).map(m),s=x.slice(0,5).map(h),n=r.slice(0,5).map(g);return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Academic Insights"}),e.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Stay updated with the latest in research, funding, and academic opportunities"})]}),((y=i.academician)==null?void 0:y.scholar_profile)&&e.jsx("div",{className:"hidden md:flex items-center space-x-6",children:[{icon:N,value:i.collaborator_count,label:"Collaborations",color:"text-green-600"},{icon:_,value:i.academician.scholar_profile.total_citations,label:"Citations",color:"text-purple-600"},{icon:w,value:i.academician.total_publications,label:"Publications",color:"text-orange-600"}].map((t,c)=>{const b=t.icon;return e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx(b,{className:`w-5 h-5 ${t.color} mr-2`}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t.value})]}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t.label})]},c)})})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 mb-6 overflow-x-auto",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500 whitespace-nowrap",children:"CATEGORIES:"}),["All","Posts","Events","Funding"].map(t=>e.jsx("button",{onClick:()=>l(t),className:`px-3 md:px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 whitespace-nowrap ${u===t?"bg-indigo-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t},t))]})]}),u==="All"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-9 gap-6 mb-8",children:[e.jsx("div",{className:"md:col-span-6",children:e.jsx(f,{items:a,cardType:"featured",timer:8e3,className:"h-96"},"posts-carousel")}),e.jsxs("div",{className:"md:col-span-3 flex flex-col space-y-4",children:[e.jsx("div",{className:"h-48",children:e.jsx(f,{items:s,cardType:"regular",timer:6e3,className:"h-full"},"events-carousel")}),e.jsx("div",{className:"h-48",children:e.jsx(f,{items:n,cardType:"regular",timer:7e3,className:"h-full"},"grants-carousel")})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-9 gap-6 mb-8",children:e.jsx("div",{className:"col-span-1 md:col-span-9",children:e.jsx(f,{items:(()=>{switch(u){case"Posts":return a;case"Events":return s;case"Funding":return n;default:return a}})(),cardType:"featured",timer:8e3,className:"h-96"},`${u}-carousel`)})})]})};export{D as F,U as H,L as P};
