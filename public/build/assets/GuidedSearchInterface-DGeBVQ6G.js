import{r as a,j as e}from"./app-B2Ah9wvG.js";import{f as g,F,g as L}from"./index-BMsaZKNY.js";import I from"./NaturalLanguageQueryBuilder-BMo3akLL.js";import"./iconBase-BRii_EQy.js";const B=({onSearch:d,researchOptions:j,isSearching:n=!1,initialQuery:P="",pageTitle:b="Find Your Perfect Research Supervisor",searchDescription:v="Enter your research interest, topic, or field of study below and we'll match you with supervisors who have relevant expertise.",placeholder:N="e.g., Artificial Intelligence in Healthcare, Design Science Research...",tips:y=[],error:m=null,children:w,searchQuery:r,onSearchQueryChange:h})=>{const[i,x]=a.useState([]),[u,o]=a.useState(!1),[f,l]=a.useState(null),c=a.useRef(null);a.useEffect(()=>{function t(s){c.current&&!c.current.contains(s.target)&&o(!1)}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[c]),a.useEffect(()=>{try{const t=localStorage.getItem("supervisor_recent_searches");if(t){const s=JSON.parse(t);Array.isArray(s)&&x(s.slice(0,5))}}catch(t){console.error("Error loading recent searches:",t)}},[]);const p=t=>{try{if(t&&t.trim().length>0){const s=[t,...i.filter(k=>k!==t)].slice(0,5);x(s),localStorage.setItem("supervisor_recent_searches",JSON.stringify(s))}}catch(s){console.error("Error saving recent search:",s)}},S=t=>{t.preventDefault(),l(null),p(r),d(r)},E=t=>{h(t),l(null)},R=t=>{h(t),o(!1)},C=()=>{if(r.trim().length<3){l("Please enter at least 3 characters to search");return}l(null),p(r),d(r)};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:b}),e.jsx("p",{className:"text-gray-600 mb-6",children:v})]}),e.jsxs("form",{onSubmit:S,className:"mb-8",children:[e.jsxs("div",{className:"relative flex",children:[e.jsx("div",{className:"relative flex-grow",children:e.jsx(I,{onQueryChange:E,value:r,researchOptions:j,onEnterPress:C,placeholder:N})}),e.jsx("div",{className:"absolute right-20 top-4 z-10",children:e.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>o(!u),title:"Recent searches",children:e.jsx(g,{})})}),e.jsx("button",{type:"submit",className:`bg-blue-600 text-white px-6 py-3 rounded-r-lg flex items-center justify-center ${n?"opacity-70 cursor-not-allowed":"hover:bg-blue-700"}`,disabled:n,children:n?e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):e.jsx(F,{})}),u&&i.length>0&&e.jsx("div",{ref:c,className:"absolute top-12 right-0 mt-2 w-full md:w-72 bg-white border border-gray-200 rounded-md shadow-lg z-30",children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(g,{className:"mr-2 text-gray-500"})," Recent Searches"]}),e.jsx("ul",{className:"space-y-1",children:i.map((t,s)=>e.jsx("li",{children:e.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded",onClick:()=>R(t),children:t})},s))})]})})]}),(f||m)&&e.jsx("p",{className:"text-red-500 mt-2 text-center",children:f||m}),e.jsx("div",{className:"mt-4 text-center",children:w})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-10",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(L,{className:"text-yellow-500 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Tips for better searching"})]}),e.jsx("ol",{className:"space-y-3 text-gray-600 list-decimal list-inside",children:y.map((t,s)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-5 h-5 flex items-center justify-center mr-2 mt-0.5 flex-shrink-0",children:s+1}),e.jsx("span",{children:t})]},s))})]})]})};export{B as default};
