import{r as f,j as e}from"./app-Ba9NEla_.js";import{P as t}from"./index-7Agi3ZzG.js";function j({skills:o=[],showIcon:m=!0,iconEmoji:d="✨",className:p="",textClass:g="text-sm font-medium text-blue-900"}){const u=f.useMemo(()=>{if(!Array.isArray(o)||o.length===0)return{totalSkills:0,totalDomains:0,domainNames:[]};const x=new Set;return o.forEach(a=>{var n,r;(r=(n=a==null?void 0:a.subdomain)==null?void 0:n.domain)!=null&&r.name&&x.add(a.subdomain.domain.name)}),{totalSkills:o.length,totalDomains:x.size,domainNames:Array.from(x)}},[o]);if(u.totalSkills===0)return null;const{totalSkills:h,totalDomains:s}=u,c=`${h} skill${h!==1?"s":""} across ${s} domain${s!==1?"s":""}`;return e.jsx("div",{className:p,children:e.jsxs("span",{className:g,children:[m&&e.jsx("span",{className:"mr-1",role:"img","aria-label":"skills",children:d}),c]})})}j.propTypes={skills:t.arrayOf(t.shape({id:t.number,name:t.string,subdomain:t.shape({name:t.string,domain:t.shape({name:t.string})})})).isRequired,showIcon:t.bool,iconEmoji:t.string,className:t.string,textClass:t.string};j.defaultProps={skills:[],showIcon:!0,iconEmoji:"✨",className:"",textClass:"text-sm font-medium text-blue-900"};function v({skills:o=[],maxSkills:m=5,className:d="",onViewAll:p=null,showViewAllButton:g=!0}){if(!Array.isArray(o)||o.length===0)return null;const u=o.slice(0,m),h=o.length>m;return e.jsxs("div",{className:`space-y-2 ${d}`,children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(s=>{var x,a,n,r,i,l;const c=(a=(x=s==null?void 0:s.subdomain)==null?void 0:x.domain)!=null&&a.name&&((n=s==null?void 0:s.subdomain)!=null&&n.name)?`${s.subdomain.domain.name} → ${s.subdomain.name} → ${s.name}`:(s==null?void 0:s.name)||"Unknown Skill";return e.jsxs("div",{className:"group relative inline-flex items-center",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 hover:bg-indigo-200 transition-colors cursor-help",title:c,children:[e.jsx("span",{className:"mr-1",role:"img","aria-label":"skill",children:"🔧"}),e.jsx("span",{children:s.name})]}),e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap hidden md:block",children:[e.jsxs("div",{className:"space-y-1",children:[((i=(r=s==null?void 0:s.subdomain)==null?void 0:r.domain)==null?void 0:i.name)&&e.jsx("div",{className:"font-medium",children:s.subdomain.domain.name}),((l=s==null?void 0:s.subdomain)==null?void 0:l.name)&&e.jsxs("div",{className:"text-gray-300",children:["→ ",s.subdomain.name]}),e.jsxs("div",{className:"text-gray-300",children:["→ ",s.name]}),(s==null?void 0:s.description)&&e.jsx("div",{className:"text-gray-400 text-xs mt-1 max-w-xs",children:s.description})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]},s.id||s.name)}),h&&g&&p&&e.jsxs("button",{type:"button",onClick:p,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors border border-gray-300",children:[e.jsx("span",{className:"mr-1",role:"img","aria-label":"view all",children:"👁️"}),e.jsxs("span",{children:["View all (",o.length,") →"]})]})]}),e.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:"💡 Tap and hold skill badges to see full hierarchy"})]})}v.propTypes={skills:t.arrayOf(t.shape({id:t.number,name:t.string.isRequired,description:t.string,subdomain:t.shape({name:t.string,domain:t.shape({name:t.string})})})).isRequired,maxSkills:t.number,className:t.string,onViewAll:t.func,showViewAllButton:t.bool};v.defaultProps={skills:[],maxSkills:5,className:"",onViewAll:null,showViewAllButton:!0};function N({isOpen:o=!1,onClose:m,skills:d=[],profileName:p="Profile"}){const[g,u]=f.useState(new Set);f.useEffect(()=>{const a=n=>{n.key==="Escape"&&o&&m()};return o&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[o,m]),f.useEffect(()=>{if(d.length>0){const a=new Set;d.forEach(n=>{var r,i;(i=(r=n==null?void 0:n.subdomain)==null?void 0:r.domain)!=null&&i.name&&a.add(n.subdomain.domain.name)}),u(a)}},[d]);const h=f.useMemo(()=>{const a={};return d.forEach(n=>{var l;if(!n||!((l=n.subdomain)!=null&&l.domain))return;const r=n.subdomain.domain.name,i=n.subdomain.name;a[r]||(a[r]={domain:n.subdomain.domain,subdomains:{},totalSkills:0}),a[r].subdomains[i]||(a[r].subdomains[i]={subdomain:n.subdomain,skills:[]}),a[r].subdomains[i].skills.push(n),a[r].totalSkills++}),a},[d]),s=d.length,c=Object.keys(h).length,x=a=>{const n=new Set(g);n.has(a)?n.delete(a):n.add(a),u(n)};return o?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:m,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-11/12 max-w-4xl max-h-[80vh] overflow-y-auto relative",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[p,"'s Skills"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["✨ ",s," skill",s!==1?"s":""," across ",c," domain",c!==1?"s":""]})]}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No skills listed"})}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-900",children:["✨ ",s," skill",s!==1?"s":""," across ",c," domain",c!==1?"s":""]}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-blue-700",children:e.jsx("span",{children:"💡 Click domains to expand/collapse"})})]})}),Object.entries(h).map(([a,n])=>{const r=g.has(a),i=Object.entries(n.subdomains);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>x(a),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 text-left flex items-center justify-between transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`transform transition-transform ${r?"rotate-0":"rotate-90"}`,children:e.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a}),e.jsxs("div",{className:"text-sm text-gray-500",children:[n.totalSkills," skill",n.totalSkills!==1?"s":""," • ",i.length," subdomain",i.length!==1?"s":""]})]})]}),e.jsx("div",{className:"text-xs text-gray-400",children:r?"Click to expand":"Click to collapse"})]}),!r&&e.jsx("div",{className:"border-t border-gray-200",children:i.map(([l,y])=>e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium text-gray-700 text-sm",children:["📁 ",l]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[y.skills.length," skill",y.skills.length!==1?"s":""]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.skills.map(b=>e.jsxs("div",{className:"group relative inline-flex items-center",children:[e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800 hover:bg-indigo-200 transition-colors cursor-help",title:`${a} → ${l} → ${b.name}`,children:[e.jsx("span",{className:"mr-1",children:"🔧"}),e.jsx("span",{className:"font-medium",children:b.name})]}),e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap hidden md:block",children:[e.jsx("div",{className:"font-medium",children:a}),e.jsxs("div",{className:"text-gray-300",children:["→ ",l]}),e.jsxs("div",{className:"text-gray-300",children:["→ ",b.name]}),b.description&&e.jsx("div",{className:"text-gray-400 text-xs mt-1 max-w-xs truncate",children:b.description}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]},b.id))})]},l))})]},a)}),e.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:"💡 Tap and hold skill badges to see full hierarchy"})]})]})}):null}N.propTypes={isOpen:t.bool.isRequired,onClose:t.func.isRequired,skills:t.arrayOf(t.shape({id:t.number,name:t.string,description:t.string,subdomain:t.shape({name:t.string,domain:t.shape({name:t.string})})})).isRequired,profileName:t.string};N.defaultProps={isOpen:!1,skills:[],profileName:"Profile"};export{j as S,v as T,N as a};
