import{r as i,j as e,b as F}from"./app-DriPmwXP.js";import{F as h}from"./FilterDropdown-phQD0Z7S.js";import{S as g}from"./SearchBar-DrsZM019.js";import{P as G}from"./Pagination-opzoDgcc.js";import V from"./ContentSkeletonCard-B1LlEy5Y.js";import"./purify.es-B2xYLbnv.js";import"./react-select.esm-BVd93vYh.js";import"./chevron-left-C_u9DF0D.js";import"./createLucideIcon-CdVHKVhM.js";import"./chevron-right-ApxungLn.js";const P=({html:s,maxLength:o=100,className:l})=>{if(!s)return e.jsx("p",{className:l,children:"No content available"});const a=s.replace(/<[^>]*>/g,""),r=a.length>o?a.substring(0,o)+"...":a;return e.jsx("p",{className:l,children:r})},O=({grants:s,isLoading:o})=>{const[l,a]=i.useState([]),[r,f]=i.useState([]),[c,b]=i.useState([]),[d,j]=i.useState(1),[x,p]=i.useState(!1),m=9,v=[...new Set(s.map(t=>t.grant_type))].filter(Boolean).map(t=>({value:t,label:t})),w=[...new Set(s.flatMap(t=>t.grant_theme||[]))].filter(Boolean).map(t=>({value:t,label:t})),y=[...new Set(s.map(t=>t.country))].filter(Boolean).map(t=>({value:t,label:t})),u=s.filter(t=>{const n=l.length===0||l.includes(t.grant_type),k=r.length===0||t.grant_theme&&t.grant_theme.some(T=>r.includes(T)),C=c.length===0||c.includes(t.country);return n&&k&&C}),N=Math.ceil(u.length/m),S=u.slice((d-1)*m,d*m);return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"fixed top-20 right-4 z-50 flex flex-col items-end space-y-2 lg:hidden",children:[e.jsx("button",{onClick:()=>p(!x),className:"bg-blue-600 text-white p-2 rounded-lg shadow-lg",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L13 14.414V19a1 1 0 01-1 1h-2a1 1 0 01-1-1v-4.586L3.293 6.707A1 1 0 013 6V4z"})})}),e.jsx(g,{placeholder:"Search grants...",routeName:"grants.index",className:""})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 p-4 md:p-0 md:py-2 lg:p-0 lg:py-2",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:`fixed lg:relative top-0 left-0 lg:block lg:w-full w-3/4 h-full bg-gray-100 border-r rounded-lg p-4 transition-transform duration-300 z-50 ${x?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex justify-between items-center",children:["Filters",e.jsx("button",{onClick:()=>p(!1),className:"text-gray-600 lg:hidden",children:"âœ•"})]}),e.jsx(h,{label:"Grant Type",options:v,selectedValues:l,setSelectedValues:a}),e.jsx(h,{label:"Grant Theme",options:w,selectedValues:r,setSelectedValues:f}),e.jsx(h,{label:"Country",options:y,selectedValues:c,setSelectedValues:b})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx("div",{className:"mb-6 hidden lg:block",children:e.jsx(g,{placeholder:"Search grants...",routeName:"grants.index",className:""})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o?Array.from({length:9},(t,n)=>e.jsx(V,{},n)):S.map((t,n)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[e.jsx("img",{src:t.image?`/storage/${t.image}`:"/storage/default.jpg",alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 truncate",title:t.title,children:t.title}),e.jsx("p",{className:"text-gray-600 h-12 mt-4 text-center font-extralight",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.jsx(P,{html:t.description||"No description available.",maxLength:100})})]}),e.jsx(F,{href:route("grants.show",{grant:t.url}),className:"inline-block rounded-full border border-gray-300 px-7 py-2 text-base font-medium transition hover:border-primary hover:bg-primary hover:text-dark",children:"View Details"})]},n))}),e.jsx("div",{className:"mt-6",children:e.jsx(G,{currentPage:d,totalPages:N,onPageChange:j})})]})]})]})};export{O as default};
