import{r as l,j as e}from"./app-DewsNuKu.js";import{F as m}from"./FilterDropdown-D719qUBu.js";const A=({projects:r})=>{const[n,b]=l.useState([]),[o,j]=l.useState([]),[i,y]=l.useState([]),[c,f]=l.useState(1),[s,x]=l.useState(null),[N,h]=l.useState(!1),d=9,v=[...new Set(r.map(t=>t.category))].filter(Boolean),w=[...new Set(r.map(t=>t.origin_country))].filter(Boolean),P=[...new Set(r.flatMap(t=>t.project_theme||[]))].filter(Boolean),p=r.filter(t=>{var g;const a=n.length===0||n.includes(t.category),T=o.length===0||o.includes(t.origin_country),F=i.length===0||((g=t.project_theme)==null?void 0:g.some(V=>i.includes(V)));return a&&T&&F}),k=Math.ceil(p.length/d),S=p.slice((c-1)*d,c*d),C=t=>{f(t)},_=t=>{x(t),h(!0)},u=()=>{h(!1),x(null)};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs("div",{className:"w-1/4 p-4 bg-gray-100 border-r",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),e.jsx(m,{label:"Purpose",options:v,selectedValues:n,setSelectedValues:b}),e.jsx(m,{label:"Country",options:w,selectedValues:o,setSelectedValues:j}),e.jsx(m,{label:"Project Theme",options:P,selectedValues:i,setSelectedValues:y})]}),e.jsxs("div",{className:"flex-1 px-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map((t,a)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[e.jsx("img",{src:t.image?`/storage/${t.image}`:"/storage/default.jpg",alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 text-center truncate",style:{maxWidth:"100%"},title:t.title,children:t.title}),e.jsx("p",{className:"text-gray-600 mt-4 text-center font-extralight",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},dangerouslySetInnerHTML:{__html:t.description||"No description available."}})]}),e.jsx("button",{onClick:()=>_(t),className:"inline-block rounded-full border border-gray-300 px-7 py-2 text-base font-medium text-body-color transition hover:border-primary hover:bg-primary hover:text-dark dark:border-dark-300 dark:text-dark-600",children:"View Details"})]},a))}),e.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:k},(t,a)=>e.jsx("button",{onClick:()=>C(a+1),className:`px-4 py-2 border rounded ${c===a+1?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:a+1},a))})]}),N&&s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:u,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-3xl w-full overflow-y-auto max-h-[90vh]",onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:s.image?`/storage/${s.image}`:"/storage/default.jpg",alt:s.title,className:"w-full h-48 object-cover rounded-t-lg mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800 text-center",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-2",dangerouslySetInnerHTML:{__html:s.description}}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Purpose:"})," ",s.category||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Project Theme:"})," ",s.project_theme||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Purpose:"})," ",Array.isArray(s.purpose)?s.purpose.join(", "):"No Purpose Specified"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Project Duration:"})," ",s.start_date?`${s.start_date} - ${s.end_date}`:"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Application Deadline:"})," ",s.application_deadline||"Not provided"]}),e.jsxs("p",{className:"text-gray-600 mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Contact Email:"})," ",s.email||"Not provided"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",s.attachment?e.jsx("a",{href:`/storage/${s.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"}):"No attachment available."]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:u,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200",children:"Close"})})]})})]})};export{A as default};
