import{q as y,W as v,r as x,j as e}from"./app-CAR7TPPb.js";import{M as N}from"./MainLayout-Dcvp-18O.js";import"./index-DLUHROx_.js";function k(){var m;const{auth:i,isPostgraduate:u}=y().props,{data:a,setData:l,post:p,processing:g,errors:s}=v({title:"",description:"",image:null,project_type:"",purpose:"find_sponsorship",start_date:"",end_date:"",tags:[],email:"",contact_number:"",location:"",budget:"",is_featured:!1,attachment:null}),[o,h]=x.useState(!1),[d,c]=x.useState(""),b=()=>{var t;d.trim()!==""&&!((t=a.tags)!=null&&t.includes(d))&&(l("tags",[...a.tags||[],d]),c(""))},j=t=>{var r;l("tags",(r=a.tags)==null?void 0:r.filter(n=>n!==t))};function f(t){t.preventDefault();const r=new FormData;Object.keys(a).forEach(n=>{a[n]instanceof File,r.append(n,a[n])}),console.log("Form submitted"),console.log("Form Data: ",r),p(route("post-projects.store"),{data:r,headers:{"Content-Type":"multipart/form-data"}})}return e.jsx(N,{title:"",isPostgraduate:u,children:e.jsx("div",{className:"p-4",children:e.jsxs("form",{onSubmit:f,className:"bg-white p-6 rounded-lg max-w-7xl mx-auto space-y-6",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-700 text-center",children:"Add New Project"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.title,onChange:t=>l("title",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter project title"}),s.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:a.description,onChange:t=>l("description",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter description"}),s.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Project Type"}),e.jsxs("select",{id:"project_type",name:"project_type",value:a.project_type,onChange:t=>l("project_type",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a Project Type"}),e.jsx("option",{value:"Fundamental Research",children:"Fundamental Research"}),e.jsx("option",{value:"Applied Research",children:"Applied Research"}),e.jsx("option",{value:"Fundamental + Applied",children:"Fundamental + Applied"}),e.jsx("option",{value:"Knowledge Transfer Program (KTP)",children:"Knowledge Transfer Program (KTP)"}),e.jsx("option",{value:"CSR (Corporate Social Responsibility)",children:"CSR (Corporate Social Responsibility)"})]}),s.project_type&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.project_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Purpose"}),e.jsxs("select",{value:a.purpose,onChange:t=>l("purpose",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"find_accollaboration",children:"Find Academician Collaboration"}),e.jsx("option",{value:"find_incollaboration",children:"Find Industry Collaboration"}),e.jsx("option",{value:"find_sponsorship",children:"Find Sponsorship"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Start Date"}),e.jsx("input",{type:"date",value:a.start_date,onChange:t=>l("start_date",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"End Date"}),e.jsx("input",{type:"date",value:a.end_date,onChange:t=>l("end_date",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tags",className:"block text-gray-700 font-medium",children:"Tags"}),e.jsx("button",{type:"button",className:"w-full text-left border rounded-lg p-4 mt-1 text-sm bg-white",onClick:()=>h(!o),children:"Select or Add Tags"}),o&&e.jsxs("div",{className:"absolute z-10 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[e.jsx("div",{className:"flex flex-col p-2 max-h-40 overflow-y-auto"}),e.jsxs("div",{className:"border-t border-gray-200 p-2 mt-2",children:[e.jsx("input",{type:"text",value:d,onChange:t=>c(t.target.value),placeholder:"Add custom tag",className:"w-full p-2 border rounded-md text-sm"}),e.jsx("button",{type:"button",onClick:b,className:"mt-2 w-full bg-blue-500 text-white p-2 rounded-md text-sm hover:bg-blue-600",children:"Add Tag"})]})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:(m=a.tags)==null?void 0:m.map(t=>e.jsxs("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[t,e.jsx("button",{type:"button",onClick:()=>j(t),className:"text-red-500 hover:text-red-700",children:"Ã—"})]},t))}),s.tags&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:s.tags})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Email"}),e.jsx("input",{type:"email",value:a.email,onChange:t=>l("email",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter email"}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"usePersonalEmail",checked:a.email===i.email,onChange:t=>{t.target.checked?l("email",i.email):l("email","")},className:"form-checkbox h-5 w-5 text-blue-600"}),e.jsxs("label",{htmlFor:"usePersonalEmail",className:"ml-2 text-gray-700",children:["Use personal email (",i.email,")"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Contact Number"}),e.jsx("input",{type:"text",value:a.contact_number,onChange:t=>l("contact_number",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter contact number"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Location"}),e.jsx("input",{type:"text",value:a.location,onChange:t=>l("location",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter location"}),s.location&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Budget"}),e.jsx("input",{type:"number",value:a.budget,onChange:t=>l("budget",t.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter budget (e.g., 5000.00)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Upload Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>l("image",t.target.files[0]),className:"w-full rounded-lg border-gray-200 p-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Upload Attachment"}),e.jsx("input",{type:"file",onChange:t=>l("attachment",t.target.files[0]),className:"w-full rounded-lg border-gray-200 p-2 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Featured Project"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"is_featured",value:"true",checked:a.is_featured===1,onChange:()=>l("is_featured",1),className:"form-radio h-5 w-5 text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-700",children:"Yes"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"is_featured",value:"false",checked:a.is_featured===0,onChange:()=>l("is_featured",0),className:"form-radio h-5 w-5 text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-700",children:"No"})]})]}),s.is_featured&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.is_featured})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"inline-block rounded-lg bg-gray-200 px-5 py-3 text-sm font-medium text-gray-700",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"inline-block rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white hover:bg-blue-600",children:"Save"})]})]})})})}export{k as default};
