import{W as x,r as c,j as e}from"./app-9jO5LEp0.js";import{M as p}from"./MainLayout-DxxRVetL.js";import g from"./NationalityForm-8oBd1czI.js";import{R as y}from"./quill.snow-CgNy-22S.js";import"./index-BFMYvyq7.js";function N({postGrant:l,auth:o,isPostgraduate:m}){const{data:t,setData:i,post:u,processing:h,errors:r}=x({title:l.title||"",description:l.description||"",start_date:l.start_date||"",end_date:l.end_date||"",application_deadline:l.application_deadline||"",grant_type:l.grant_type||"",grant_theme:l.grant_theme||[],cycle:l.cycle||"",sponsored_by:l.sponsored_by||"",email:l.email||"",website:l.website||"",country:l.country||"",image:l.image||"",attachment:l.attachment||"",status:l.status||"draft"});c.useState(t.university),c.useState(!1),c.useState("");const d=async a=>{a&&a.preventDefault();const s=new FormData;Object.keys(t).forEach(n=>{n==="image"||n==="attachment"?(t[n]instanceof File||typeof t[n]=="string")&&s.append(n,t[n]):Array.isArray(t[n])||Array.isArray(t[n])?s.append(n,JSON.stringify(t[n])):s.append(n,t[n])}),console.log("Form Data Contents:");for(let n of s.entries())console.log(n[0]+": "+n[1]);u(route("post-grants.update",l.id),{data:s,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{alert("Grant updated successfully!")},onError:n=>{console.error("Error updating grant:",n),alert("Failed to update the grant. Please try again.")}})};return e.jsx(p,{title:"",isPostgraduate:m,children:e.jsxs("div",{className:"p-4",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"absolute top-4 left-4 text-gray-700 hover:text-gray-900",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),e.jsxs("form",{onSubmit:d,className:"bg-white p-6 rounded-lg max-w-7xl mx-auto space-y-6",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-700 text-center",children:"Add New Grant"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium",children:["Grant Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.title,onChange:a=>i("title",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter grant title"}),r.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.title})]}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium",children:["Grant Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1 w-full rounded-lg border border-gray-200",style:{height:"300px",overflowY:"auto"},children:e.jsx(y,{theme:"snow",value:t.description,onChange:a=>i("description",a),placeholder:"Enter description",style:{height:"300px",maxHeight:"300px"}})}),r.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.description})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Start Date (Grant)"}),e.jsx("input",{type:"date",value:t.start_date,onChange:a=>{i("start_date",a.target.value)},className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"End Date (Grant)"}),e.jsx("input",{type:"date",value:t.end_date,min:t.start_date||"",onChange:a=>{i("end_date",a.target.value)},className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mt-1 block text-gray-700 font-medium",children:"Application Deadline"}),e.jsx("input",{type:"date",value:t.application_deadline,onChange:a=>i("application_deadline",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"grant_type",className:"block text-gray-700 font-medium",children:"Grant Type"}),e.jsxs("select",{id:"grant_type",name:"grant_type",value:t.grant_type,onChange:a=>i("grant_type",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a Grant Type"}),e.jsx("option",{value:"Matching Grant",children:"Matching Grant"}),e.jsx("option",{value:"Seed Grant",children:"Seed Grant"}),e.jsx("option",{value:"Research Grant",children:"Research Grant"}),e.jsx("option",{value:"Travel Grant",children:"Travel Grant"}),e.jsx("option",{value:"Innovation Grant",children:"Innovation Grant"}),e.jsx("option",{value:"Collaboration Grant",children:"Collaboration Grant"}),e.jsx("option",{value:"Training Grant",children:"Training Grant"}),e.jsx("option",{value:"Capacity-Building Grant",children:"Capacity-Building Grant"}),e.jsx("option",{value:"Community Grant",children:"Community Grant"}),e.jsx("option",{value:"Development Grant",children:"Development Grant"}),e.jsx("option",{value:"Pilot Grant",children:"Pilot Grant"}),e.jsx("option",{value:"Commercialization Grant",children:"Commercialization Grant"}),e.jsx("option",{value:"Technology Grant",children:"Technology Grant"}),e.jsx("option",{value:"Sponsorship Grant",children:"Sponsorship Grant"}),e.jsx("option",{value:"Social Impact Grant",children:"Social Impact Grant"}),e.jsx("option",{value:"Emergency or Relief Grant",children:"Emergency or Relief Grant"}),e.jsx("option",{value:"International Grant",children:"International Grant"}),e.jsx("option",{value:"Equipment Grant",children:"Equipment Grant"}),e.jsx("option",{value:"Small Business Grant",children:"Small Business Grant"})]}),r.grant_type&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.grant_type})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Grant Theme (Multiselect)"}),e.jsxs("select",{multiple:!0,value:t.grant_theme,onChange:a=>{const s=Array.from(a.target.selectedOptions).map(n=>n.value);i("grant_theme",s)},className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:" Select Grant Themes"}),e.jsx("option",{value:"Artificial Intelligence and Machine Learning",children:"Artificial Intelligence and Machine Learning"}),e.jsx("option",{value:"Sustainable Development and Renewable Energy",children:"Sustainable Development and Renewable Energy"}),e.jsx("option",{value:"Healthcare and Biotechnology",children:"Healthcare and Biotechnology"}),e.jsx("option",{value:"Cybersecurity and Data Privacy",children:"Cybersecurity and Data Privacy"}),e.jsx("option",{value:"Smart Cities and IoT (Internet of Things)",children:"Smart Cities and IoT (Internet of Things)"}),e.jsx("option",{value:"Climate Change and Environmental Protection",children:"Climate Change and Environmental Protection"}),e.jsx("option",{value:"Education Technology and E-Learning",children:"Education Technology and E-Learning"}),e.jsx("option",{value:"Big Data Analytics and Data Science",children:"Big Data Analytics and Data Science"}),e.jsx("option",{value:"Agricultural Innovation and Food Security",children:"Agricultural Innovation and Food Security"}),e.jsx("option",{value:"Financial Technology (FinTech) and Blockchain",children:"Financial Technology (FinTech) and Blockchain"}),e.jsx("option",{value:"Robotics and Automation",children:"Robotics and Automation"}),e.jsx("option",{value:"E-Commerce and Digital Marketing",children:"E-Commerce and Digital Marketing"}),e.jsx("option",{value:"Human-Computer Interaction (HCI)",children:"Human-Computer Interaction (HCI)"}),e.jsx("option",{value:"Space Exploration and Satellite Technologies",children:"Space Exploration and Satellite Technologies"}),e.jsx("option",{value:"Virtual Reality (VR) and Augmented Reality (AR)",children:"Virtual Reality (VR) and Augmented Reality (AR)"}),e.jsx("option",{value:"Water Resource Management",children:"Water Resource Management"}),e.jsx("option",{value:"Social Innovation and Community Development",children:"Social Innovation and Community Development"}),e.jsx("option",{value:"Transportation and Autonomous Vehicles",children:"Transportation and Autonomous Vehicles"}),e.jsx("option",{value:"Supply Chain Optimization and Logistics",children:"Supply Chain Optimization and Logistics"}),e.jsx("option",{value:"Renewable Construction and Smart Infrastructure",children:"Renewable Construction and Smart Infrastructure"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cycle",className:"block text-gray-700 font-medium",children:"Cycle"}),e.jsxs("select",{id:"cycle",name:"cycle",value:t.cycle,onChange:a=>i("cycle",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",children:[e.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Cycle"}),e.jsx("option",{value:"No Cycle",children:"No Cycle"}),e.jsx("option",{value:"Cycle 1",children:"Cycle 1"}),e.jsx("option",{value:"Cycle 2",children:"Cycle 2"}),e.jsx("option",{value:"Cycle 3",children:"Cycle 3"})]}),r.cycle&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.cycle})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Sponsored By"}),e.jsx("input",{type:"text",value:t.sponsored_by,onChange:a=>i("sponsored_by",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter sponsor"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Contact Email"}),e.jsx("input",{type:"email",value:t.email,onChange:a=>i("email",a.target.value),className:"mt-1 w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter email"}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"usePersonalEmail",checked:t.email===o.email,onChange:a=>{a.target.checked?i("email",o.email):i("email","")},className:"form-checkbox h-5 w-5 text-blue-600"}),e.jsxs("label",{htmlFor:"usePersonalEmail",className:"ml-2 text-gray-700",children:["Use personal email (",o.email,")"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Website / Link"}),e.jsx("input",{type:"url",value:t.website,onChange:a=>i("website",a.target.value),className:"w-full rounded-lg border-gray-200 p-4 text-sm",placeholder:"Enter Website / Link"}),r.website&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.website})]}),e.jsx("div",{children:e.jsx(g,{title:"Country",value:t.country,onChange:a=>i("country",a)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Upload Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:a=>i("image",a.target.files[0]),className:"w-full rounded-lg border-gray-200 p-2 text-sm"}),l.image&&e.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Current Image:"," ",e.jsx("a",{href:`/storage/${l.image}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Image"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Upload Attachment"}),e.jsx("input",{type:"file",onChange:a=>i("attachment",a.target.files[0]),className:"w-full rounded-lg border-gray-200 p-2 text-sm"}),l.attachment&&e.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Current Attachment:"," ",e.jsx("a",{href:`/storage/${l.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View Attachment"})]})]})]}),e.jsx("div",{className:"flex space-x-4",children:e.jsx("button",{type:"button",onClick:()=>{d()},disabled:h,className:"inline-block rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white hover:bg-blue-600",children:"Publish"})})]})]})})}export{N as default};
