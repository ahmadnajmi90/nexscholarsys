import{q as j,r as h,j as e,Y as y,a as g}from"./app-DriPmwXP.js";import{M as v}from"./MainLayout-By3JzLpv.js";import R from"./AcademicianTable-WuSLVgod.js";import N from"./PostgraduateTable-Mh-6anvn.js";import S from"./UndergraduateTable-DRHyrOIZ.js";import"./createLucideIcon-CdVHKVhM.js";import"./users-B773swcl.js";import"./folder-open-CRPmjkGs.js";import"./useRoles-DHekO8j7.js";import"./chevron-left-C_u9DF0D.js";import"./proxy-VxesQ_8p.js";import"./file-text-CE6CC0SL.js";import"./sparkles-Dij9BYhA.js";import"./shield-DTI9V7g8.js";import"./transition-BAhYKz8c.js";import"./analytics-BQ374C1C.js";import"./index-ClqJVtT_.js";import"./Modal-DhEByaHT.js";import"./dialog-DwgbuHwF.js";import"./index-CbVkNVaL.js";import"./iconBase-BsiR4O22.js";const K=({academicians:s,postgraduates:o,undergraduates:i,universities:d,faculties:c,researchOptions:m})=>{const{url:b}=j(),u=()=>{const r=new URLSearchParams(window.location.search);return r.has("academicians_page")?"academicians":r.has("postgraduates_page")?"postgraduates":r.has("undergraduates_page")?"undergraduates":"academicians"},[n,x]=h.useState(u);h.useEffect(()=>{x(u())},[b]);const l=async(r,a)=>{try{return(await g.post(route("admin.profiles.reminder"),{userId:r,role:a})).data}catch(t){throw console.error("Error sending reminder:",t),t}},p=async(r,a)=>{try{return(await g.post(route("admin.profiles.batch-reminder"),{userIds:r,role:a})).data}catch(t){throw console.error("Error sending batch reminder:",t),t}},f=[{id:"academicians",label:"Academicians",count:s.total},{id:"postgraduates",label:"Postgraduates",count:o.total},{id:"undergraduates",label:"Undergraduates",count:i.total}],w=r=>{x(r);const a=new URLSearchParams(window.location.search);a.delete("academicians_page"),a.delete("postgraduates_page"),a.delete("undergraduates_page"),a.set("tab",r);const t=`${window.location.pathname}?${a.toString()}`;window.history.replaceState({},"",t)};return e.jsxs(v,{title:"",children:[e.jsx(y,{title:"Profile Management"}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"md:flex md:items-center md:justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"User Profile Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Send reminders to users to complete or update their profiles. Review users by role and take action individually or in batches."})]})}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px",children:f.map(r=>e.jsxs("button",{onClick:()=>w(r.id),className:`py-4 px-6 text-center border-b-2 font-medium text-sm sm:text-base ${n===r.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap flex items-center space-x-2`,children:[e.jsx("span",{children:r.label}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n===r.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:r.count})]},r.id))})}),e.jsxs("div",{className:"p-6",children:[n==="academicians"&&e.jsx(R,{academics:s.data,universities:d,faculties:c,researchOptions:m,onSendReminder:l,onSendBatchReminder:p,pagination:s,currentTab:n}),n==="postgraduates"&&e.jsx(N,{postgraduates:o.data,universities:d,faculties:c,researchOptions:m,onSendReminder:l,onSendBatchReminder:p,pagination:o,currentTab:n}),n==="undergraduates"&&e.jsx(S,{undergraduates:i.data,universities:d,faculties:c,researchOptions:m,onSendReminder:l,onSendBatchReminder:p,pagination:i,currentTab:n})]})]})]})})]})};export{K as default};
