import{j as e,q as G,b as $,r as N,a as re,d as Ge,c as Ke,g as mt,y as Le,Y as Re}from"./app-C9aRItHR.js";import{H as oe,C as ut}from"./house-iIzYry7D.js";import{Z as xt}from"./zap-BO9SNPWd.js";import{U as X}from"./users-7wE4kwZt.js";import{F as ae}from"./folder-open-BMedN5wh.js";import{S as te}from"./settings-CD-0zKD9.js";import{u as Ze}from"./useRoles-BMgrdTWk.js";import{C as Te}from"./chevron-left-CXvSSDf-.js";import{m as E}from"./proxy-oGTuy5le.js";import{U as be}from"./user-round-B6zt5dYE.js";import{c as K}from"./createLucideIcon-BKESxhZR.js";import{C as le}from"./clipboard-list-D9RZIGl3.js";import{D as ce}from"./dollar-sign-CTMVi4zP.js";import{C as xe}from"./calendar-DOmFwYBu.js";import{F as he}from"./file-text-Dda2OPaZ.js";import{M as ye}from"./message-square-s9PQcdgL.js";import{G as pe}from"./graduation-cap-CUV5l_Ya.js";import{B as Qe}from"./building-BKwJ3Rui.js";import{M as Je,D as Y}from"./Dropdown-DGvLC90N.js";import{S as ke}from"./sparkles-DW7Sg1pI.js";import{B as et}from"./bookmark-ZSjg04_i.js";import{F as _e}from"./folder-kanban-CYtcX4dA.js";import{B as tt}from"./building-2-leVI2yfI.js";import{D as st}from"./database-DSHZfPnC.js";import{S as rt}from"./shield-BFWgtyat.js";import{A as ge}from"./index-BXuOt4X-.js";import{t as ht}from"./analytics-BQ374C1C.js";import{O as pt}from"./index-XngfYQdO.js";import{G as gt}from"./iconBase-BnDH7fxV.js";import{q as Se,g as ft,w as bt}from"./index-DWLkSDCh.js";import{g as yt}from"./supervisionConstants-BuM5-H5X.js";import{c as vt}from"./utils-CBfrqCZ4.js";import{A as Fe,T as jt}from"./ThreadPane-DwcafS7d.js";import{i as at}from"./isSameDay-BHs4V-zU.js";import{c as Nt}from"./en-US-DIdCsyf3.js";import{c as wt}from"./constructNow-6bIQB1GK.js";import{a as kt}from"./addDays-KHeCUDUr.js";import{f as Ie}from"./format-BOijCLBA.js";import{M as ve}from"./Modal-Du6oGZ4g.js";import{P as Ae}from"./PrimaryButton-DJiSt9ES.js";import{S as _t}from"./SecondaryButton-DlgSMzLL.js";import{S as St}from"./search-4BAlCTpi.js";import{C as Ct}from"./circle-check-big-D9q7hdhw.js";import{X as fe}from"./x-CwXSr9E4.js";import{C as Dt}from"./chevron-right-D08KHBfF.js";import"./tooltip-Bumx2StD.js";import{r as nt}from"./index-Chjiymov.js";import{D as Pt,a as Mt,b as Tt,c as At,d as Et,e as $t}from"./dialog-D6CAw3_0.js";import{B as Lt}from"./button-CSPEol7l.js";import{B as Rt}from"./briefcase-Drgw6UyA.js";import{U as Ft}from"./user-gcgZPnph.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],qt=K("BookOpenCheck",It);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],it=K("BookUser",Ot);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],qe=K("Bot",Bt);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Yt=K("Calendar1",Ut);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],zt=K("GripVertical",Wt);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ce=K("LayoutDashboard",Ht);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],ot=K("Library",Vt);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],de=K("LogOut",Xt);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],De=K("School",Gt);function Kt(n,o,a){return kt(n,-1,a)}function Zt(n,o){return at(Nt(n,n),Kt(wt(n)))}const Qt=({activeSection:n,onSectionChange:o})=>{const a=[{id:"dashboard",icon:oe,label:"Dashboard"},{id:"features",icon:xt,label:"Features"},{id:"networking",icon:X,label:"Networking"},{id:"content",icon:ae,label:"Content"},{id:"settings",icon:te,label:"Settings"}];return e.jsx("div",{className:"fixed left-0 top-0 h-full w-16 bg-indigo-700 z-20",children:e.jsxs("div",{className:"flex flex-col items-center py-4 space-y-4",children:[e.jsx("a",{href:route("welcome"),className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mb-4",children:e.jsx("img",{src:"/images/logo.png",alt:"Nexscholar Logo",className:"w-10 h-10 bg-white rounded-lg object-contain shadow-lg p-1"})}),a.map(l=>{const x=l.icon,c=n===l.id;return e.jsxs("button",{onClick:()=>o(l.id),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 group relative ${c?"bg-white bg-opacity-20 text-white":"text-white hover:bg-white hover:bg-opacity-20"}`,title:l.label,children:[e.jsx(x,{className:"w-5 h-5"}),e.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:l.label})]},l.id)})]})})},U=({variant:n="sidebar"})=>{const o="bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold rounded-sm uppercase",a={sidebar:"absolute top-0.5 right-0.5 z-10 px-1.5 py-0.5 text-[9px]",inline:"inline-flex items-center px-2 text-[10px]"};return e.jsx("span",{className:`${o} ${a[n]}`,"aria-label":"Beta feature",children:"BETA"})},Jt=({activeSection:n,isOpen:o,onToggleSidebar:a})=>{const{isAdmin:l,isPostgraduate:x,isUndergraduate:c,isFacultyAdmin:f,isAcademician:v,canPostEvents:C,canPostProjects:S,canPostGrants:A,canCreatePosts:u}=Ze(),{auth:g,pendingRequestCount:k}=G().props,m=g.user,b="https://docs.google.com/forms/d/e/1FAIpQLSdPX9CXPOAZLedNsqA9iyMs5ZkAOACol4_wBVN2LPdxbnsJeg/viewform",h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},p=()=>{switch(n){case"dashboard":return e.jsxs(e.Fragment,{children:[e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("dashboard"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(oe,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Dashboard"})]})}),l&&e.jsxs(e.Fragment,{children:[e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("roles.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(te,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Roles & Permissions"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("faculty-admins.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(tt,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Faculty Admin"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("admin.profiles.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(X,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Profile Management"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("admin.data-management.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(st,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Data Management"})]})})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("faculty-admin.academicians"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(rt,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Verify Academicians"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("faculty-admin.directory"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(X,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Academicians Directory"})]})})]}),e.jsx(E.div,{variants:i,className:"col-span-2",children:e.jsx("div",{className:"border-t border-gray-300 my-2"})}),e.jsx(E.div,{variants:i,className:"col-span-2",children:e.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"Quick Links"})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("ai.matching.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(qe,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"AI Matching"}),e.jsx(U,{variant:"sidebar"})]})}),!c&&e.jsxs(e.Fragment,{children:[x&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("supervision.student.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(De,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"My Supervisor"}),e.jsx(U,{variant:"sidebar"})]})}),g.user?.academician&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("supervision.supervisor.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(Ce,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Supervisor Dashboard"}),e.jsx(U,{variant:"sidebar"})]})})]}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("project-hub.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(_e,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"NexLab"}),e.jsx(U,{variant:"sidebar"})]})})]});case"features":return e.jsxs(e.Fragment,{children:[e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("ai.matching.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(qe,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"AI Matching"}),e.jsx(U,{variant:"sidebar"})]})}),l&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("network.map"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(Je,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Network Map"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("postgraduate-recommendations.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(ke,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Postgraduate Recommendations"}),e.jsx(U,{variant:"sidebar"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("bookmarks.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(et,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"My Bookmarks"})]})}),x&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("supervision.student.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(De,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"My Supervisor"}),e.jsx(U,{variant:"sidebar"})]})}),g.user?.academician&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("supervision.supervisor.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(Ce,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Supervisor Dashboard"}),e.jsx(U,{variant:"sidebar"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("project-hub.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(_e,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"NexLab"}),e.jsx(U,{variant:"sidebar"})]})})]});case"networking":return e.jsxs(e.Fragment,{children:[e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("connections.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(X,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"My Network"}),k>0&&e.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:k})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("messaging.inbox"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative min-h-20",children:[e.jsx(ye,{className:"w-5 h-5 text-gray-600 mb-1"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Messages"}),e.jsx(U,{variant:"sidebar"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/postgraduates",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(pe,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Postgraduate"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/undergraduates",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(it,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Undergraduate"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/academicians",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(ot,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Academician"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/universities",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(Qe,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"University"})]})})]});case"content":return e.jsxs(e.Fragment,{children:[e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/funding",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(ce,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"View Funding"})]})}),A&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("funding.admin.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(ce,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Manage Funding"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/projects",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(ae,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"View Project"})]})}),S&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("post-projects.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(ae,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Manage Projects"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/events",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(xe,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"View Event"})]})}),C&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("post-events.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(xe,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Manage Event"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:"/posts",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(he,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"View Post"})]})}),u&&e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("create-posts.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(he,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Manage Post"})]})})]});case"settings":return e.jsxs(e.Fragment,{children:[e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("profile.edit"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(te,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"General Account Setting"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("role.edit"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(be,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Personal Information"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("tutorial.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(qt,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Tutorial Guide"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center min-h-20",children:[e.jsx(le,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Feedback Form"})]})}),e.jsx(E.div,{variants:i,children:e.jsxs($,{href:route("logout"),method:"post",as:"button",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg px-3 py-2 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center w-full min-h-20",children:[e.jsx(de,{className:"text-gray-600 mb-1 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 line-clamp-2 w-full",children:"Log Out"})]})})]});default:return null}},y=()=>{switch(n){case"dashboard":return"Dashboard";case"features":return"Features";case"networking":return"Networking";case"content":return"Content";case"settings":return"Settings";default:return"Navigation"}},d=()=>{switch(n){case"dashboard":return"Access your main dashboard and administrative tools.";case"features":return"Explore AI-powered features and academic tools.";case"networking":return"Connect with other academics and researchers.";case"content":return"Manage your content, grants, projects, and events.";case"settings":return"Update your profile and account settings.";default:return"Navigate through different sections of the platform."}};return o?e.jsx("div",{className:"fixed left-16 top-0 h-full w-64 bg-gray-100 z-10",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 bg-gray-100",children:[e.jsx("a",{href:route("welcome"),className:"text-lg font-semibold text-indigo-700",children:"Nexscholar"}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Te,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"p-4 bg-gray-100 border-b border-gray-200",children:m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-1 border-white shadow-lg",children:e.jsx("img",{src:m.academician?m.academician.profile_picture?`/storage/${m.academician.profile_picture}`:"/storage/profile_pictures/default.jpg":m.postgraduate?m.postgraduate.profile_picture?`/storage/${m.postgraduate.profile_picture}`:"/storage/profile_pictures/default.jpg":m.undergraduate&&m.undergraduate.profile_picture?`/storage/${m.undergraduate.profile_picture}`:"/storage/profile_pictures/default.jpg",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:m.academician?m.academician.full_name:m.postgraduate?m.postgraduate.full_name:m.undergraduate?m.undergraduate.full_name:l?"Admin":f?m.full_name:"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:m.email}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l?"Administrator":f?"Faculty Admin":v?"Academician":x?"Postgraduate":c?"Undergraduate":"User"})]})]}),v&&m.academician&&m.academician.total_publications!==0&&m.academician.scholar_profile!==null&&e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg py-2 pr-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:m.academician.total_publications}),e.jsx("div",{className:"text-xs text-gray-500",children:"Publications"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:m.academician.scholar_profile.total_citations}),e.jsx("div",{className:"text-xs text-gray-500",children:"Citations"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:m.academician.scholar_profile.h_index}),e.jsx("div",{className:"text-xs text-gray-500",children:"h-index"})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx(E.h3,{className:"text-sm font-medium text-gray-700 mb-4",variants:i,children:y()}),e.jsx(E.div,{className:"grid grid-cols-2 gap-3",variants:h,initial:"hidden",animate:"visible",children:p()},n)]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx("div",{className:"bg-white bg-opacity-60 backdrop-blur-sm rounded-lg p-3 border border-white border-opacity-50",children:e.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:d()})})})]})}):null},es=({isOpen:n,toggleSidebar:o})=>{const{isAdmin:a,isPostgraduate:l,isFacultyAdmin:x,isAcademician:c,canPostEvents:f,canPostProjects:v,canPostGrants:C,canCreatePosts:S}=Ze(),{auth:A,pendingRequestCount:u}=G().props,[g,k]=N.useState(["main"]),m=g[g.length-1],b={main:{title:"NexScholar",items:[{id:"dashboard",label:"Dashboard",icon:oe},{id:"features",label:"Features",icon:ke},{id:"networking",label:"Networking",icon:X},{id:"manage",label:"Manage",icon:ae},{id:"survey",label:"Survey",icon:le},{id:"settings",label:"Settings",icon:te}]},dashboard:{title:"Dashboard",items:[{label:"Dashboard Overview",href:route("dashboard"),icon:oe},...x?[{label:"Verify Academicians",href:route("faculty-admin.academicians"),icon:rt},{label:"Academicians Directory",href:route("faculty-admin.directory"),icon:X}]:[],...a?[{label:"Faculty Admin",href:route("faculty-admins.index"),icon:tt},{label:"Roles & Permissions",href:route("roles.index"),icon:te},{label:"Profile Management",href:route("admin.profiles.index"),icon:X},{label:"Data Management",href:route("admin.data-management.index"),icon:st}]:[]]},features:{title:"Features",items:[{label:"AI Matching",href:route("ai.matching.index"),icon:ke,beta:!0},...a?[{label:"Network Map",href:route("network.map"),icon:Je}]:[],{label:"Postgraduate Recommendations",href:route("postgraduate-recommendations.index"),icon:pe,beta:!0},{label:"My Bookmarks",href:route("bookmarks.index"),icon:et},...l?[{label:"My Supervisor",href:route("supervision.student.index"),icon:De,beta:!0}]:[],...c?[{label:"Supervisor Dashboard",href:route("supervision.supervisor.index"),icon:Ce,beta:!0}]:[],{label:"NexLab",href:route("project-hub.index"),icon:_e,beta:!0}]},networking:{title:"Networking",items:[{label:"My Network",href:route("connections.index"),icon:X,badge:u},{label:"Messages",href:route("messaging.inbox"),icon:ye,beta:!0},{label:"Postgraduate",href:"/postgraduates",icon:pe},{label:"Undergraduate",href:"/undergraduates",icon:it},{label:"Academician",href:"/academicians",icon:ot},{label:"University",href:"/universities",icon:Qe}]},manage:{title:"Manage",items:[{label:"View Funding",href:"/funding",icon:ce},...C?[{label:"Manage Funding",href:route("funding.admin.index"),icon:ce}]:[],{label:"View Project",href:"/projects",icon:ae},...v?[{label:"Manage Project",href:route("post-projects.index"),icon:ae}]:[],{label:"View Event",href:"/events",icon:xe},...f?[{label:"Manage Event",href:route("post-events.index"),icon:xe}]:[],{label:"View Post",href:"/posts",icon:he},...S?[{label:"Manage Post",href:route("create-posts.index"),icon:he}]:[]]},survey:{title:"Survey",items:[{label:"Free Survey",href:"https://docs.google.com/forms/d/e/1FAIpQLSdPX9CXPOAZLedNsqA9iyMs5ZkAOACol4_wBVN2LPdxbnsJeg/viewform",icon:le,external:!0}]},settings:{title:"Settings",items:[{label:"General Account Setting",href:route("profile.edit"),icon:te},{label:"Personal Information",href:route("role.edit"),icon:be},{label:"Log Out",href:route("logout"),method:"post",as:"button",icon:de}]}},h=d=>{k([...g,d])},i=()=>{k(g.slice(0,-1))},p={enter:d=>({x:d>0?"100%":"-100%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:d=>({zIndex:0,x:d<0?"100%":"-100%",opacity:0})},y=b[m];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed top-0 left-0 h-full w-64 shadow-lg z-50 transform transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full"} ${m==="main"?"bg-indigo-700":"bg-white"}`,children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:`flex items-center p-4 border-b ${m==="main"?"bg-indigo-800 border-indigo-600":"bg-gray-50 border-gray-200"}`,children:[m!=="main"&&e.jsx("button",{onClick:i,className:`p-2 mr-2 rounded-md transition-colors ${m==="main"?"hover:bg-indigo-600 text-white":"hover:bg-gray-200 text-gray-700"}`,children:e.jsx(Te,{className:"w-5 h-5"})}),e.jsx("h3",{className:`text-lg font-semibold ${m==="main"?"text-white ml-2":"text-gray-800"}`,children:y.title})]}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:e.jsx(ge,{initial:!1,children:e.jsx(E.div,{custom:1,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute inset-0",children:e.jsx("nav",{className:"h-full overflow-y-auto p-4 space-y-1",children:y.items.map((d,_)=>{const j=d.icon;if(d.href){const r=e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors ${m==="main"?"hover:bg-indigo-600":"hover:bg-gray-100"}`,children:[e.jsxs("span",{className:`flex items-center ${m==="main"?"text-white":"text-gray-700"}`,children:[j&&e.jsx(j,{className:`w-5 h-5 mr-3 ${m==="main"?"text-indigo-200":"text-gray-600"}`}),d.label]}),e.jsxs("div",{className:"flex items-center gap-2",children:[d.badge>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:d.badge}),d.beta&&e.jsx(U,{variant:"inline"})]})]});return d.external?e.jsx("a",{href:d.href,target:"_blank",rel:"noopener noreferrer",className:"block",children:r},_):e.jsx($,{href:d.href,method:d.method,as:d.as||"a",className:"block",children:r},_)}else return e.jsxs("button",{onClick:()=>h(d.id),className:`w-full flex items-center p-3 rounded-lg transition-colors text-left ${m==="main"?"hover:bg-indigo-600":"hover:bg-gray-100"}`,children:[j&&e.jsx(j,{className:`w-5 h-5 mr-3 ${m==="main"?"text-indigo-200":"text-gray-600"}`}),e.jsx("span",{className:m==="main"?"text-white":"text-gray-700",children:d.label})]},_)})})},m)})})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:o})]})},ts=({profilePicture:n})=>e.jsx("nav",{className:"border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex items-center justify-between mx-auto",children:e.jsx("div",{className:"flex items-center space-x-4"})})});function ss(n){return gt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"},child:[]},{tag:"path",attr:{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"},child:[]}]})(n)}function z(n){const o=new Date,a=new Date(n),l=Math.floor((o-a)/1e3);if(l<60)return"just now";const x=Math.floor(l/60);if(x<60)return`${x}m ago`;const c=Math.floor(x/60);if(c<24)return`${c}h ago`;const f=Math.floor(c/24);if(f<7)return`${f}d ago`;const v=Math.floor(f/7);return v<4?`${v}w ago`:a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:a.getFullYear()!==o.getFullYear()?"numeric":void 0})}function rs(n){const o=[{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-200"},{bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-200"},{bg:"bg-green-100",text:"text-green-700",border:"border-green-200"},{bg:"bg-orange-100",text:"text-orange-700",border:"border-orange-200"},{bg:"bg-pink-100",text:"text-pink-700",border:"border-pink-200"},{bg:"bg-teal-100",text:"text-teal-700",border:"border-teal-200"}],l=(n?.charAt(0).toUpperCase()||"A").charCodeAt(0)%o.length;return o[l]}function as(n){if(!n)return"??";const o=n.trim().split(/\s+/);if(o.length===1)return o[0].substring(0,2).toUpperCase();const a=o[0].charAt(0),l=o[o.length-1].charAt(0);return(a+l).toUpperCase()}function H({src:n,name:o,size:a="md"}){const[l,x]=N.useState(!1),c={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base"},v=(u=>!u||typeof u!="string"?null:/^https?:\/\//i.test(u)||u.startsWith("/storage/")?u:`/storage/${u.replace(/^\//,"")}`)(n),C=v&&!l,S=as(o),A=rs(o);return e.jsx("div",{className:`
                ${c[a]}
                rounded-full
                flex items-center justify-center
                flex-shrink-0
                overflow-hidden
                ${C?"bg-gray-100":`${A.bg} border ${A.border}`}
            `,children:C?e.jsx("img",{src:v,alt:o,className:"w-full h-full object-cover",onError:()=>x(!0)}):e.jsx("span",{className:`font-semibold ${A.text}`,children:S})})}const ns=({isOpen:n,onClose:o,align:a="right",direction:l="down"})=>{const[x,c]=N.useState("all"),[f,v]=N.useState([]),[C,S]=N.useState(!0),[A,u]=N.useState([]),g=N.useRef(null),{auth:k}=G().props,m=a==="left"?"left-0":"right-0",b=l==="up"?"mb-2 bottom-full":"mt-2";N.useEffect(()=>{const s=t=>{g.current&&!g.current.contains(t.target)&&o()};return n&&(h(),document.addEventListener("mousedown",s)),()=>{document.removeEventListener("mousedown",s)}},[n]),N.useEffect(()=>{if(!window.Echo||!k?.user?.id)return;const s=window.Echo.private(`App.Models.User.${k.user.id}`);return s.notification(t=>{console.log("Real-time notification received in panel:",t);const D={id:t.id,type:t.type,data:t.data,created_at:t.created_at,read_at:null};v(w=>w.some(T=>T.id===t.id)?w:[D,...w].sort((T,L)=>new Date(L.created_at)-new Date(T.created_at)))}),()=>{s.stopListening(".notification.sent")}},[k?.user?.id]);const h=async()=>{S(!0);try{const s=await re.get("/api/v1/app/notifications"),t=[...s.data.unread.map(w=>({...w,read_at:null})),...s.data.read].sort((w,T)=>new Date(T.created_at)-new Date(w.created_at)),D=d(t);v(D)}catch(s){console.error("Error fetching notifications:",s)}finally{S(!1)}},i=async s=>{u(t=>[...t,s]);try{await re.post("/api/v1/app/notifications/mark-as-read",{notification_id:s}),v(t=>t.map(D=>D.id===s?{...D,read_at:new Date().toISOString()}:D))}catch(t){console.error("Error marking notification as read:",t)}finally{u(t=>t.filter(D=>D!==s))}},p=async()=>{try{await re.post("/api/v1/app/notifications/mark-all-as-read"),v(s=>s.map(t=>({...t,read_at:new Date().toISOString()})))}catch(s){console.error("Error marking all notifications as read:",s)}},y=s=>{const t=s.data;return t.requester_name?{name:t.requester_name,profilePicture:t.requester_profile_picture}:t.recipient_name?{name:t.recipient_name,profilePicture:t.recipient_profile_picture}:t.student_name?{name:t.student_name,profilePicture:t.student_profile_picture}:t.supervisor_name?{name:t.supervisor_name,profilePicture:t.supervisor_profile_picture}:t.assigner_name?{name:t.assigner_name,profilePicture:t.assigner_profile_picture}:t.inviter_name?{name:t.inviter_name,profilePicture:t.inviter_profile_picture}:t.scheduler_name?{name:t.scheduler_name,profilePicture:t.scheduler_profile_picture}:t.other_party_name?{name:t.other_party_name,profilePicture:t.other_party_profile_picture}:t.updater_name?{name:t.updater_name,profilePicture:t.updater_profile_picture}:t.canceller_name?{name:t.canceller_name,profilePicture:t.canceller_profile_picture}:t.initiator_name?{name:t.initiator_name,profilePicture:t.initiator_profile_picture}:t.changed_by_profile_picture||t.deleted_by_profile_picture?{name:t.changed_by||t.deleted_by||"Administrator",profilePicture:t.changed_by_profile_picture||t.deleted_by_profile_picture}:t.cosupervisor_name?{name:t.cosupervisor_name,profilePicture:t.cosupervisor_profile_picture}:t.initiator?{name:t.initiator,profilePicture:t.initiator_profile_picture}:t.approver?{name:t.approver,profilePicture:t.approver_profile_picture}:{name:"System",profilePicture:null}},d=s=>{const t=new Set;return s.forEach(D=>{const w=D.data||{};if(w.type==="connection_request"){const T=`rqid:${w.requester_id??""}|name:${(w.requester_name??"").toLowerCase()}`;t.add(T)}}),s.filter(D=>{const w=D.data||{};if(w.type==="connection_request")return!0;if(!w.type&&w.message&&/connection request/i.test(String(w.message))&&(w.requester_id||w.requester_name)){const L=`rqid:${w.requester_id??""}|name:${(w.requester_name??"").toLowerCase()}`;if(t.has(L))return!1}return!0})},_=s=>{const t=s.data,D=A.includes(s.id)||t.connection_id&&A.includes(t.connection_id),w=y(s);if(D)return e.jsxs("div",{className:"flex items-center justify-center py-2",children:[e.jsx(Se,{className:"animate-spin text-blue-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Processing..."})]});const T=(L,I,B=null)=>e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-50",children:w.name})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:I})]}),L&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:L}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)}),B&&e.jsx("div",{className:"mt-2",children:B})]})]});switch(t.type){case"connection_request":return T(null,"sent you a connection request",e.jsx($,{href:"/connections?tab=received",className:"inline-flex items-center px-3 py-1.5 text-xs font-semibold text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors shadow-sm",children:"View"}));case"connection_accepted":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-50",children:w.name})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"accepted your connection request"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"You are friend now!"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)}),e.jsx("div",{className:"mt-2",children:e.jsx($,{href:"/connections?tab=connections",className:"inline-flex items-center px-3 py-1.5 text-xs font-semibold text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors shadow-sm",children:"View"})})]})]});case"request_submitted":return T(t.proposal_title,"submitted a new supervision request");case"request_accepted":return T(null,"accepted your supervision request");case"request_rejected":return T(t.reason?`Reason: ${yt(t.reason)}`:null,"declined your supervision request");case"offer_received":return T(t.proposal_title,"sent you a supervision offer");case"student_accepted_offer":return T(null,"accepted your supervision offer");case"student_rejected_offer":return T(t.proposal_title&&`Re: ${t.proposal_title}`,"declined your supervision offer");case"request_cancelled":return T(t.proposal_title&&`Re: ${t.proposal_title}`,"cancelled their supervision request");case"unbind_request_initiated":return T(t.is_force?"⚠️ Force unbind":`Attempt ${t.attempt_count}/3`,t.is_force?"terminated the supervision relationship":"requested to terminate the relationship");case"unbind_request_approved":return T(null,"The supervision relationship has been terminated");case"unbind_request_rejected":return T(t.cooldown_until&&`Cooldown until: ${new Date(t.cooldown_until).toLocaleDateString("en-GB")}`,"declined the termination request");case"meeting_scheduled":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-50",children:w.name})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"scheduled a meeting"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:['"',t.title,'"']}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["📅 ",new Date(t.scheduled_for).toLocaleString("en-GB")]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});case"meeting_reminder":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"⏰ Meeting with "}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-50",children:w.name}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[" starting ",t.reminder_type==="1h"?"in 1 hour":"in 24 hours"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:['"',t.title,'"']}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});case"meeting_updated":return T(`"${t.title}" - ${new Date(t.scheduled_for).toLocaleString("en-GB")}`,"updated the meeting");case"meeting_cancelled":return T(`"${t.title}" was scheduled for ${new Date(t.was_scheduled_for).toLocaleString("en-GB")}`,"cancelled the meeting");case"cosupervisor_invitation_sent":return T(t.invitation_message&&`"${t.invitation_message}"`,t.initiated_by==="student"?"invited you to be their co-supervisor":`invited you to be co-supervisor for ${t.student_name}`);case"cosupervisor_invitation_initiated":return T(`Adding ${t.cosupervisor_name} as co-supervisor`,t.initiated_by==="student"?"initiated a co-supervisor invitation":`wants to add a co-supervisor for ${t.student_name}`);case"cosupervisor_accepted":return T(null,"accepted the co-supervisor invitation. Waiting for approval.");case"cosupervisor_rejected":return T(t.rejection_reason&&`Reason: ${t.rejection_reason}`,"declined the co-supervisor invitation");case"cosupervisor_approval_needed":return T(`${t.cosupervisor_name} accepted the invitation`,"Your approval is required");case"cosupervisor_approved":return T(`${t.cosupervisor_name} has been approved`,"approved the co-supervisor invitation");case"cosupervisor_rejected_by_approver":return T(t.rejection_reason&&`Reason: ${t.rejection_reason}`,`did not approve ${t.cosupervisor_name} as co-supervisor`);case"cosupervisor_added":return T(`Now co-supervising ${t.student_name}`,"has been added as co-supervisor");case"cosupervisor_invitation_cancelled":return T(null,"cancelled the co-supervisor invitation");case"task_assigned":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-50",children:w.name})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"assigned you to task"})," ",e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-50",children:['"',t.task_title,'"']}),t.workspace_name&&e.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[" in ",t.workspace_name]})]}),t.task_due_date&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["📅 Due: ",new Date(t.task_due_date).toLocaleDateString("en-GB")]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});case"task_due_date_changed":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Due date changed for task"})," ",e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-50",children:['"',t.task_title,'"']})]}),t.old_due_date_formatted&&t.new_due_date_formatted&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[t.old_due_date_formatted," → ",t.new_due_date_formatted]}),t.changed_by&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["Changed by ",t.changed_by]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});case"workspace_invitation":return T(null,`invited you to workspace "${t.workspace_name}"`);case"project_invitation":return T(null,`invited you to project "${t.project_name}"`);case"workspace_deleted":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Workspace"})," ",e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-50",children:['"',t.workspace_name,'"']})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"was deleted"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["Deleted by ",t.deleted_by]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});case"board_deleted":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Board"})," ",e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-50",children:['"',t.board_name,'"']})," ",e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["in ",t.parent_type,' "',t.parent_name,'" was deleted']})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["Deleted by ",t.deleted_by]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});case"role_changed":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:w.profilePicture,name:w.name,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Your role in ",t.parent_type]})," ",e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-50",children:['"',t.parent_name,'"']})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"changed to"})," ",e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:t.new_role})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["Changed by ",t.changed_by]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});case"faculty_admin_invitation":return e.jsxs("div",{className:"flex items-start gap-3 py-3",children:[e.jsx(H,{src:null,name:"Admin",size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"You have been invited to join as"})," ",e.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Faculty Admin"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Please complete your setup to get started"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:z(s.created_at)})]})]});default:return T(null,t.message||"sent you a notification")}},j=x==="all"?f:f.filter(s=>!s.read_at),r=f.filter(s=>!s.read_at).length;return n?e.jsxs("div",{ref:g,className:`absolute ${m} ${b} w-96 sm:w-[28rem] bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden z-[60] max-h-[80vh] flex flex-col border border-gray-200 dark:border-gray-700`,children:[e.jsx("div",{className:"px-5 py-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:"Notifications"}),e.jsx("button",{onClick:p,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:"Mark all as read"})]})}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"px-5",children:e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("button",{onClick:()=>c("all"),className:`
                py-3 border-b-2 transition-colors -mb-[1px]
                ${x==="all"?"border-blue-600 text-gray-900 dark:text-gray-50":"border-transparent hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300"}
              `,children:"All"}),e.jsxs("button",{onClick:()=>c("unread"),className:`
                py-3 border-b-2 transition-colors -mb-[1px]
                ${x==="unread"?"border-blue-600 text-gray-900 dark:text-gray-50":"border-transparent hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300"}
              `,children:["Unread ",r>0&&`(${r})`]})]})})}),e.jsx("div",{className:"overflow-y-auto flex-grow divide-y divide-gray-100 dark:divide-gray-700",children:C?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(Se,{className:"animate-spin text-blue-500 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Loading..."})]}):j.length>0?j.map(s=>e.jsx("div",{className:`
                group px-5 transition-colors relative
                ${s.read_at?"bg-white dark:bg-gray-800":"bg-blue-50 dark:bg-gray-700"}
                hover:bg-gray-50 dark:hover:bg-gray-800/70
              `,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"flex-grow",children:_(s)}),!s.read_at&&e.jsx("button",{onClick:()=>i(s.id),className:"ml-2 mt-3 p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",title:"Mark as read",children:e.jsx(ft,{className:"text-xs"})})]})},s.id)):e.jsx("div",{className:"px-5 py-12 text-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:x==="unread"?"No unread notifications":"No notifications"})})}),e.jsx("div",{className:"px-5 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 text-center",children:e.jsx("a",{href:route("notifications.index"),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:"View all notifications"})})]}):null},Pe=({dropdownAlign:n="right",dropdownDirection:o="down",onPanelToggle:a,onUnreadCountChange:l})=>{const[x,c]=N.useState(0),[f,v]=N.useState(!1),[C,S]=N.useState(!1),A=N.useRef(null),{auth:u}=G().props;N.useEffect(()=>{a&&a(f)},[f,a]),N.useEffect(()=>{l&&l(x)},[x,l]),N.useEffect(()=>{k();const h=setInterval(k,3e4);return()=>clearInterval(h)},[]);const g=h=>({connection_request:"New Connection Request",connection_accepted:"Connection Accepted",task_assigned:"New Task Assigned",workspace_invitation:"Workspace Invitation",project_invitation:"Project Invitation",meeting_scheduled:"Meeting Scheduled",request_submitted:"New Supervision Request",request_accepted:"Supervision Request Accepted",request_rejected:"Supervision Request Declined",offer_received:"Supervision Offer Received",student_accepted_offer:"Student Accepted Offer",student_rejected_offer:"Student Declined Offer",cosupervisor_invitation_sent:"Co-supervisor Invitation",cosupervisor_approved:"Co-supervisor Approved",meeting_reminder:"Meeting Reminder",unbind_request_initiated:"Unbind Request",role_changed:"Role Changed",workspace_deleted:"Workspace Deleted",board_deleted:"Board Deleted"})[h]||"New Notification";N.useEffect(()=>{if(window.Echo&&u?.user?.id){const h=window.Echo.private(`App.Models.User.${u.user.id}`);return h.notification(i=>{if(console.log("Real-time notification received in bell:",i),c(p=>p+1),"Notification"in window&&Notification.permission==="granted"){const p=i.data?.type?g(i.data.type):"New Notification",y=i.data?.message||"You have a new notification";new Notification(p,{body:y,icon:"/favicon.ico"})}}),()=>{h.stopListening(".notification.sent")}}},[u?.user?.id]);const k=async()=>{S(!0);try{const h=await re.get("/api/v1/app/notifications");c(h.data.unread_count)}catch(h){console.error("Error fetching notifications count:",h)}finally{S(!1)}},m=()=>{v(!f)},b=()=>{v(!1)};return e.jsxs("div",{className:"relative",ref:A,children:[e.jsxs("button",{onClick:m,className:"relative p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none transition-colors",children:[e.jsx("span",{className:"sr-only",children:"View notifications"}),e.jsx(ss,{className:"h-6 w-6"}),x>0&&e.jsx("span",{className:"absolute top-0 right-0 -mt-1 -mr-1 flex items-center justify-center h-5 w-5 rounded-full bg-red-500 text-white text-xs",children:x>9?"9+":x})]}),e.jsx(ns,{isOpen:f,onClose:b,align:n,direction:o})]})};function is(n){if(!n)return"";const o=new Date(n);return at(o,new Date)?Ie(o,"h:mm aa"):Zt(o)?"Yesterday":Ie(o,"dd/MM/yyyy")}function os({conversation:n,isActive:o,onSelect:a}){const{id:l,title:x,type:c,participants:f,last_message:v,unread_count:C}=n,{auth:S}=G().props,A=Number(S.user.id),u=n.last_message_sender_id,g=v?.sender?.id,k=u!=null?Number(u):g!=null?Number(g):null,m=k!=null&&k===A,b=f.filter(t=>t.user_id!==A),h=c==="direct"&&b.length>0?b[0]?.user:null,i=h?.full_name??h?.name??x,p=()=>{if(c==="direct"&&b.length>0){const t=b[0]?.user,D=t?.avatar_url??t?.profile_photo_url;return e.jsx(Fe,{src:D,alt:t?.full_name||t?.name||"User",size:40})}return e.jsx(Fe,{src:null,alt:x,size:40})},y=is(v?.created_at??n.updated_at),d=t=>t?t.type==="text"?(t.body??"").trim().replace(/\s+/g," "):t.type==="image"?"📷 Image":t.type==="file"?"📎 File":t.type==="system"?(t.body??"").trim().replace(/\s+/g," "):"":"No messages yet",_=()=>{a&&a(l)},j=d(v),s=`${m?"You: ":""}${j}`;return e.jsxs("div",{onClick:_,className:vt("flex items-center gap-3 p-3 rounded-lg transition-colors cursor-pointer min-w-0 w-full overflow-hidden",o?"bg-primary/10 text-primary":"hover:bg-muted/50"),children:[e.jsxs("div",{className:"relative shrink-0",children:[p(),b.length>0&&b[0]?.user?.is_online&&e.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between min-w-0",children:[e.jsx("h3",{className:"font-medium truncate pr-2 min-w-0 flex-1 overflow-hidden",title:i,children:i}),e.jsx("span",{className:"text-xs text-muted-foreground shrink-0 whitespace-nowrap",children:y})]}),e.jsxs("div",{className:"mt-0.5 flex items-center justify-between min-w-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground truncate pr-1 min-w-0 flex-1 break-words overflow-hidden",title:s,children:s}),C>0&&e.jsx("span",{className:"shrink-0 ml-1 flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-primary rounded-full",children:C})]})]})]})}const ls=({isOpen:n,onClose:o,onUnreadCountChange:a,align:l="right",direction:x="down"})=>{const[c,f]=N.useState("list"),[v,C]=N.useState([]),[S,A]=N.useState(null),[u,g]=N.useState(!0),[k,m]=N.useState(""),b=N.useRef(null),h=l==="left"?"left-0":"right-0",i=x==="up"?"mb-2 bottom-full":"mt-2";N.useEffect(()=>{const j=r=>{b.current&&!b.current.contains(r.target)&&o()};return n&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[n,o]),N.useEffect(()=>{n&&p()},[n]);const p=async(j="")=>{g(!0);try{const r=await re.get("/api/v1/app/messaging/conversations",{params:{q:j}});C(r.data.data||[]);const s=(r.data.data||[]).reduce((t,D)=>t+(D.unread_count||0),0);a(s)}catch(r){console.error("Error fetching conversations:",r)}finally{g(!1)}},y=j=>{const r=j.target.value;m(r);const s=setTimeout(()=>{p(r)},300);return()=>clearTimeout(s)},d=async j=>{A(j),f("thread");try{await re.post(`/api/v1/app/messaging/conversations/${j.id}/mark-read`),p()}catch(r){console.error("Error marking conversation as read:",r)}},_=()=>{f("list"),A(null),p()};return n?e.jsxs("div",{ref:b,className:`absolute ${h} ${i} w-96 h-[600px] bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden z-[60] flex flex-col border border-gray-200 dark:border-gray-700`,children:[e.jsx("div",{className:"px-5 py-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[c==="thread"&&e.jsx("button",{onClick:_,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors mr-2",title:"Back to conversations",children:e.jsx(bt,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:c==="list"?"Messages":S?.name||"Chat"}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Close",children:"✕"})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:c==="list"?e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search conversations...",value:k,onChange:y,className:"w-full p-2 pl-8 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:text-gray-100"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:u?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(Se,{className:"animate-spin h-6 w-6 text-gray-400"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]}):v.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:k?"No conversations found":"No conversations yet"}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:v.map(j=>e.jsx("div",{onClick:()=>d(j),className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:e.jsx(os,{conversation:j,isActive:!1,onSelect:()=>{}})},j.id))})})]}):e.jsx("div",{className:"h-full",children:S&&e.jsx(jt,{conversationId:S.id,conversation:S,isPanel:!0})})}),c==="list"&&e.jsx("div",{className:"px-5 py-3 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:e.jsx($,{href:"/messaging",className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"View all messages →"})})]}):null},Me=({dropdownAlign:n="right",dropdownDirection:o="down",onPanelToggle:a,onUnreadCountChange:l})=>{const[x,c]=N.useState(!1),[f,v]=N.useState(0),C=N.useRef(null);N.useEffect(()=>{a&&a(x)},[x,a]),N.useEffect(()=>{l&&l(f)},[f,l]),N.useEffect(()=>{S()},[]);const S=async()=>{try{const g=await re.get("/api/v1/app/messaging/unread-count");v(g.data.count||0)}catch(g){console.error("Error fetching unread count:",g)}},A=()=>{c(!x)},u=()=>{c(!1)};return e.jsxs("div",{className:"relative",ref:C,children:[e.jsxs("button",{onClick:A,className:"relative p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none transition-colors",children:[e.jsx("span",{className:"sr-only",children:"View messages"}),e.jsx(ye,{className:"h-6 w-6"}),f>0&&e.jsx("span",{className:"absolute top-0 right-0 -mt-1 -mr-1 flex items-center justify-center h-5 w-5 rounded-full bg-red-500 text-white text-xs",children:f>9?"9+":f})]}),e.jsx(ls,{isOpen:x,onClose:u,onUnreadCountChange:v,align:n,direction:o})]})};function cs({show:n,onClose:o}){const{auth:a}=G().props,[l,x]=N.useState("terms"),[c,f]=N.useState(""),[v,C]=N.useState(""),[S,A]=N.useState(!1),[u,g]=N.useState(!1);N.useEffect(()=>{if(n){const b=l==="terms"?c:v,h=l==="terms"?"api.legal.terms":"api.legal.privacy",i=l==="terms"?f:C;b||(A(!0),window.axios.get(route(h)).then(p=>{i(p.data.content)}).catch(p=>console.error(`Failed to fetch ${l} content`,p)).finally(()=>A(!1)))}},[n,l]);const k=b=>b?b.replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">$1</h1>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold text-gray-900 mt-4 mb-4">$1</h2>').replace(/^### (.*$)/gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">$1</h3>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-indigo-600 hover:text-indigo-800 underline">$1</a>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/(<h[1-3][^>]*>.*?<\/h[1-3]>)\s*\n/g,"$1").replace(/\n(?=## )/g,"").replace(/\n(?=### )/g,"").replace(/\n(?=# )/g,"").replace(/\n/g,"<br />"):"",m=async()=>{g(!0);try{await window.axios.post(route("user.agree-to-terms")),window.location.reload()}catch(b){console.error("Failed to agree to terms:",b),g(!1)}};return e.jsx(ve,{show:n,maxWidth:"2xl",children:e.jsxs("div",{className:"p-6 flex flex-col h-full",children:[e.jsx("div",{className:"flex justify-between items-center pb-3 flex-shrink-0",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Terms Agreement Required"})}),e.jsx("div",{className:"flex justify-center flex-shrink-0 mb-4",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-amber-800",children:"You must agree to our updated terms to continue using the platform"})]})}),e.jsx("div",{className:"prose max-w-none flex-grow overflow-y-auto max-h-[50vh]",children:S?e.jsx("p",{children:"Loading..."}):e.jsx("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:k(l==="terms"?c:v)}})}),e.jsx("div",{className:"mt-6 flex justify-center flex-shrink-0",children:e.jsxs("nav",{className:"flex space-x-2 bg-gray-50 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>x("terms"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${l==="terms"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Terms of Use"}),e.jsx("button",{onClick:()=>x("privacy"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${l==="privacy"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Privacy Policy"})]})}),e.jsx("div",{className:"mt-6 flex justify-center flex-shrink-0",children:e.jsx("button",{onClick:m,disabled:u,className:`px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200 ${u?"opacity-50 cursor-not-allowed":""}`,children:u?"Agreeing...":"I Have Read and Agree"})})]})})}function ds({show:n,onClose:o}){return e.jsx(ve,{show:n,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tutorial Completed! 🎉"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Great! You've completed the Nexscholar tutorial. You're now ready to explore all the features our platform has to offer."}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:e.jsxs("span",{className:"font-semibold text-green-700",children:["Need help later? ",e.jsx("span",{className:"underline",children:"You can always revisit this tutorial"})," anytime from the ",e.jsx("span",{className:"underline",children:"Tutorial Guide"})," in your ",e.jsx("span",{className:"underline",children:"Settings"})," menu."]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Ae,{onClick:o,children:"Get Started"})})]})})}function ms({show:n,onClose:o,onConfirmSkip:a}){return e.jsx(ve,{show:n,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Skip Tutorial?"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.jsx("strong",{children:"Are you sure you want to skip the tutorial?"})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"This tutorial will help you:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 flex-shrink-0"}),"Understand Nexscholar's key features and capabilities"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 flex-shrink-0"}),"Learn how to build a comprehensive academic profile"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 flex-shrink-0"}),"Discover AI-powered matching and networking tools"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 flex-shrink-0"}),"Master project collaboration and task management"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2 flex-shrink-0"}),"Navigate funding opportunities and content sharing"]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"You can always access this tutorial later"})," from the Tutorial Guide in your Settings menu."]})})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(_t,{onClick:o,children:"Continue Tutorial"}),e.jsx(Ae,{onClick:a,className:"bg-amber-600 hover:bg-amber-700",children:"Skip Tutorial"})]})]})})}function us({show:n,onClose:o}){const[a,l]=N.useState(0),[x,c]=N.useState(!1),[f,v]=N.useState(!1),[C,S]=N.useState(!1),{auth:A}=G().props,u=[{id:"welcome",title:"Welcome to Nexscholar! 🎉",icon:"🎓",content:e.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-5",children:[e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 mb-3 sm:mb-4",children:[e.jsx("strong",{className:"text-indigo-600",children:"Nexscholar"})," is your academic networking and research collaboration platform."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-3 sm:p-4 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-blue-600 text-xs sm:text-sm",children:"👥"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Connect"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 ml-9 sm:ml-11",children:"with supervisors, students, and collaborators"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-3 sm:p-4 rounded-lg border border-green-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-green-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-green-600 text-xs sm:text-sm",children:"📝"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Share"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 ml-9 sm:ml-11",children:"research projects, events, and funding opportunities"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 sm:p-4 rounded-lg border border-purple-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3 sm:mr-4",children:e.jsx("span",{className:"text-purple-600 text-sm sm:text-base",children:"🚀"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Your Academic Journey Starts Here"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Join thousands of researchers building meaningful connections and advancing knowledge together."})]})]})})]})},{id:"profile",title:"Build Your Profile",icon:"👤",content:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"text-center lg:text-left mb-3 sm:mb-4",children:e.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:"Create a comprehensive profile that showcases your academic identity and expertise."})}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 p-3 sm:p-4 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-indigo-600 text-sm",children:"🎭"})}),e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Role-Based Profiles"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 ml-11",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg border border-indigo-200",children:e.jsx("span",{className:"text-xs font-medium text-indigo-700",children:"Academician"})}),e.jsx("div",{className:"bg-white p-2 rounded-lg border border-indigo-200",children:e.jsx("span",{className:"text-xs font-medium text-indigo-700",children:"Postgraduate"})}),e.jsx("div",{className:"bg-white p-2 rounded-lg border border-indigo-200",children:e.jsx("span",{className:"text-xs font-medium text-indigo-700",children:"Undergraduate"})}),e.jsx("div",{className:"bg-white p-2 rounded-lg border border-indigo-200",children:e.jsx("span",{className:"text-xs font-medium text-indigo-700",children:"Industry"})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-3 sm:p-4 rounded-lg border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-emerald-600 text-sm",children:"🤖"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"AI Profile Generation"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Quick setup from CV, URLs, or automatic search"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 ml-11",children:[e.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full",children:"📄 CV Upload"}),e.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full",children:"🔗 Google Scholar"}),e.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full",children:"🔍 Auto Search"})]})]})]})},{id:"content",title:"Explore & Share Content",icon:"📚",content:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"text-center lg:text-left mb-3 sm:mb-4",children:e.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:"Discover, create, and engage with academic content in our unified platform."})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-3 sm:p-4 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 text-sm",children:"📝"})}),e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Post Academic Updates"})]}),e.jsxs("div",{className:"ml-11 space-y-1 text-xs sm:text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2"}),"Research projects and findings"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2"}),"Academic events and conferences"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 p-3 sm:p-4 rounded-lg border border-amber-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-amber-600 text-sm",children:"💰"})}),e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Unified Funding Hub"})]}),e.jsxs("div",{className:"ml-11",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Access grants & scholarships in one location"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs rounded-full",children:"🎓 Grants"}),e.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs rounded-full",children:"📚 Scholarships"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 p-3 sm:p-4 rounded-lg border border-rose-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-rose-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-rose-600 text-sm",children:"❤️"})}),e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Social Engagement"})]}),e.jsxs("div",{className:"ml-11 flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center bg-white px-2 py-1.5 rounded-lg border border-rose-200",children:[e.jsx("span",{className:"text-rose-500 mr-1 text-sm",children:"🔖"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Bookmark"})]}),e.jsxs("div",{className:"flex items-center bg-white px-2 py-1.5 rounded-lg border border-rose-200",children:[e.jsx("span",{className:"text-rose-500 mr-1 text-sm",children:"👍"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Like"})]}),e.jsxs("div",{className:"flex items-center bg-white px-2 py-1.5 rounded-lg border border-rose-200",children:[e.jsx("span",{className:"text-rose-500 mr-1 text-sm",children:"📤"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Share"})]})]})]})]})]})},{id:"projects",title:"Collaborate in NexLab",icon:"📋",content:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"text-center lg:text-left mb-3 sm:mb-4",children:e.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:"Manage research projects with powerful collaboration tools and real-time updates."})}),e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 p-3 sm:p-4 rounded-lg border border-violet-100",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-violet-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-violet-600 text-sm",children:"📊"})}),e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Multiple View Options"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 ml-11",children:[e.jsxs("div",{className:"bg-white p-2 rounded-lg border border-violet-200 text-center",children:[e.jsx("div",{className:"text-violet-600 mb-1 text-sm",children:"📋"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Kanban"})]}),e.jsxs("div",{className:"bg-white p-2 rounded-lg border border-violet-200 text-center",children:[e.jsx("div",{className:"text-violet-600 mb-1 text-sm",children:"📝"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"List"})]}),e.jsxs("div",{className:"bg-white p-2 rounded-lg border border-violet-200 text-center",children:[e.jsx("div",{className:"text-violet-600 mb-1 text-sm",children:"📅"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Calendar"})]}),e.jsxs("div",{className:"bg-white p-2 rounded-lg border border-violet-200 text-center",children:[e.jsx("div",{className:"text-violet-600 mb-1 text-sm",children:"⏱️"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Timeline"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-3 sm:p-4 rounded-lg border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-emerald-600 text-sm",children:"⚡"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Real-Time Collaboration"}),e.jsx("p",{className:"text-xs text-gray-600",children:"WebSocket-powered instant updates"})]})]}),e.jsxs("div",{className:"ml-11 space-y-1 text-xs sm:text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"}),"Live task updates and progress tracking"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full mr-2"}),"Team member activity notifications"]})]})]})]})},{id:"networking",title:"Grow Your Network",icon:"🤝",content:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"text-center mb-3 sm:mb-4",children:e.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700",children:"Find meaningful connections with AI-powered matching and intelligent insights."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-3 sm:p-4 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-blue-600 text-xs sm:text-sm",children:"🎯"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"AI Matching"})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-400 rounded-full mr-2 flex-shrink-0"}),"Find supervisors & collaborators"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-400 rounded-full mr-2 flex-shrink-0"}),"Personalized recommendations"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-3 sm:p-4 rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-purple-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-purple-600 text-xs sm:text-sm",children:"💡"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Smart Insights"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"AI explains why connections are relevant"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 p-3 sm:p-4 rounded-lg border border-amber-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-amber-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-amber-600 text-xs sm:text-sm",children:"🏷️"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Organize Connections"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[e.jsx("span",{className:"px-2 sm:px-3 py-1 bg-amber-100 text-amber-700 text-xs rounded-full",children:"Students"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 bg-amber-100 text-amber-700 text-xs rounded-full",children:"Collaborators"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 bg-amber-100 text-amber-700 text-xs rounded-full",children:"Supervisors"}),e.jsx("span",{className:"px-2 sm:px-3 py-1 bg-amber-100 text-amber-700 text-xs rounded-full",children:"Industry"})]})]})]})},{id:"analytics",title:"Analytics & Support",icon:"📊",content:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"text-center mb-3 sm:mb-4",children:e.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700",children:"Track your impact and get support whenever you need it."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-3 sm:p-4 rounded-lg border border-emerald-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-emerald-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-emerald-600 text-xs sm:text-sm",children:"📈"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Dashboard Analytics"})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-emerald-400 rounded-full mr-2 flex-shrink-0"}),"Platform insights & trends"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-emerald-400 rounded-full mr-2 flex-shrink-0"}),"Personal network analytics"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-3 sm:p-4 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-blue-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-blue-600 text-xs sm:text-sm",children:"🎯"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Smart Recommendations"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"AI-powered suggestions based on your activity"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-3 sm:p-4 rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-purple-100 rounded-full flex items-center justify-center mr-2 sm:mr-3",children:e.jsx("span",{className:"text-purple-600 text-xs sm:text-sm",children:"❓"})}),e.jsx("span",{className:"font-medium text-gray-800 text-sm sm:text-base",children:"Help & Support"})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-purple-400 rounded-full mr-2 flex-shrink-0"}),"Tutorial available anytime"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-purple-400 rounded-full mr-2 flex-shrink-0"}),"Access from profile settings"]})]})]})]})},{id:"completion",title:"Ready to Get Started!",icon:"🚀",content:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"✅"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"You're All Set!"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Welcome to Nexscholar. Your academic networking journey begins now."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 p-3 sm:p-4 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-indigo-600 text-sm",children:"💡"})}),e.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Quick Start Tips"})]}),e.jsxs("div",{className:"ml-11 space-y-1 text-xs sm:text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full mr-2"}),"Complete your profile to unlock all features"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full mr-2"}),"Explore the network to find collaborators"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full mr-2"}),"Check out the funding hub for opportunities"]})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 p-3 sm:p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-7 h-7 bg-gray-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-gray-600 text-sm",children:"📚"})}),e.jsx("div",{children:e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[e.jsx("strong",{children:"Remember:"})," You can always revisit this tutorial from your profile settings if you need a refresher."]})})]})})]})}],g=()=>{a<u.length-1?l(a+1):m()},k=()=>{a>0&&l(a-1)},m=async()=>{c(!0);try{await window.axios.post(route("user.mark-tutorial-seen")),v(!0)}catch(d){console.error("Failed to mark tutorial as seen:",d)}finally{c(!1)}},b=()=>{S(!0)},h=async()=>{S(!1),c(!0);try{await window.axios.post(route("user.mark-tutorial-seen")),o()}catch(d){console.error("Failed to mark tutorial as seen:",d)}finally{c(!1)}},i=()=>{S(!1)},p=()=>{v(!1),o()},y=u[a];return e.jsxs(e.Fragment,{children:[e.jsx(ve,{show:n,maxWidth:"2xl",closeable:!1,children:e.jsxs("div",{className:"max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"flex-shrink-0 p-4 sm:p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"text-xl md:text-2xl",children:y.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:y.title}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:["Step ",a+1," of ",u.length]})]})]}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 text-xs sm:text-sm underline",disabled:x||C,children:"Skip Tutorial"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-indigo-500 h-2 rounded-full transition-all duration-300",style:{width:`${(a+1)/u.length*100}%`}})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 md:p-5",children:e.jsx("div",{className:"min-h-[300px]",children:y.content})})}),e.jsx("div",{className:"flex-shrink-0 p-4 sm:p-6 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:k,disabled:a===0||C,className:`px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors duration-200 ${a===0||C?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"← Previous"}),e.jsx("div",{className:"flex space-x-1 sm:space-x-2",children:Array.from({length:u.length},(d,_)=>e.jsx("button",{onClick:()=>!C&&l(_),disabled:C,className:`w-2 h-2 rounded-full transition-colors duration-200 ${C?"bg-gray-300 cursor-not-allowed":_===a?"bg-indigo-500":_<a?"bg-indigo-300":"bg-gray-300"}`},_))}),e.jsx(Ae,{onClick:g,disabled:x||C,className:"px-4 sm:px-5 py-2 text-xs sm:text-sm",children:x?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Completing..."]}):a===u.length-1?"Get Started!":"Next →"})]})})]})}),e.jsx(ds,{show:f,onClose:p}),e.jsx(ms,{show:C,onClose:i,onConfirmSkip:h})]})}const xs=({show:n,onClose:o})=>{const[a,l]=N.useState(0),x=[{title:"How to Find Supervisors",subtitle:"Two powerful methods to discover the perfect research supervisor",icon:St,content:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-indigo-500 pl-4 py-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Method 1: Program Recommendations"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Upload your CV and describe your research interests"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Get AI-matched postgraduate programs"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"View supervisors associated with each program"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Add to shortlist or request supervision directly"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4 py-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Method 2: AI Matching"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-purple-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Use natural language search for specific research areas"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-purple-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"AI semantic search finds matching supervisors"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-purple-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Filter by university, skills, and availability"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-purple-500 mt-2 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Add promising supervisors to your shortlist"})]})]})]})]})})},{title:"Potential Supervisors",subtitle:"Manage your shortlisted supervisors and submit requests",icon:ae,content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your Potential Supervisors tab aggregates all supervisors you've shortlisted from both Program Recommendations and AI Matching."}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-5 border border-indigo-100",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What you can do:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold text-indigo-600",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Connect with supervisors"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Build your network before submitting a request"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold text-indigo-600",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Submit supervision requests"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Click "Request" to submit your research proposal'})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold text-indigo-600",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Manage your shortlist"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Remove supervisors or view their profiles anytime"})]})]})]})]})]})},{title:"Proposal Status",subtitle:"Track your requests and respond to supervisor decisions",icon:ye,content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Once you submit a supervision request, track its progress in the Proposal Status tab."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"border-l-4 border-amber-500 bg-amber-50 pl-4 py-3 rounded-r",children:[e.jsx("h5",{className:"font-semibold text-amber-900 text-sm",children:"Pending"}),e.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Awaiting supervisor review. You can message them while waiting."})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 pl-4 py-3 rounded-r",children:[e.jsx("h5",{className:"font-semibold text-blue-900 text-sm",children:"Offer Received"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Supervisor sent an offer! Review and respond to accept or decline."})]}),e.jsxs("div",{className:"border-l-4 border-red-500 bg-red-50 pl-4 py-3 rounded-r",children:[e.jsx("h5",{className:"font-semibold text-red-900 text-sm",children:"Rejected"}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"View the reason and explore recommended alternative supervisors."})]}),e.jsxs("div",{className:"border-l-4 border-green-500 bg-green-50 pl-4 py-3 rounded-r",children:[e.jsx("h5",{className:"font-semibold text-green-900 text-sm",children:"Accepted"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Relationship established! All other pending requests are auto-cancelled."})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Pro tip:"})," You can submit multiple requests, but once you accept an offer, all other pending requests will be automatically cancelled."]})})]})},{title:"Adding Co-Supervisors",subtitle:"Expand your supervision team with additional expertise",icon:X,content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Once you have an active main supervisor, you can add up to ",e.jsx("span",{className:"font-semibold text-indigo-600",children:"2 co-supervisors"})," to strengthen your research team."]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-4 border border-indigo-100",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-600 text-white flex items-center justify-center text-xs font-bold",children:"1"}),"Who Can Initiate?"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 ml-8",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-500 mt-2 mr-2 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Students:"})," Can invite co-supervisors with main supervisor approval"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-indigo-500 mt-2 mr-2 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Main Supervisors:"})," Can invite co-supervisors with student approval"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-4 border border-blue-100",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-blue-600 text-white flex items-center justify-center text-xs font-bold",children:"2"}),"Three-Way Approval Process"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700 ml-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-amber-500 text-white flex items-center justify-center text-xs",children:"✓"}),e.jsx("span",{children:"Initiator sends invitation"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-purple-500 text-white flex items-center justify-center text-xs",children:"✓"}),e.jsx("span",{children:"Co-supervisor accepts/rejects"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 text-white flex items-center justify-center text-xs",children:"✓"}),e.jsx("span",{children:"Third party (student/main supervisor) approves"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-4 border border-green-100",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-green-600 text-white flex items-center justify-center text-xs font-bold",children:"3"}),"Finding Co-Supervisors"]}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-700 ml-8",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Search from three sources:"}),e.jsxs("div",{className:"pl-3 space-y-1.5",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Shortlist:"})," Your saved potential supervisors"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"Connections:"})," Academicians in your network"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 mr-2 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold",children:"All Academicians:"})," Search the entire database"]})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," Once a co-supervisor is accepted, they gain access to your shared workspace, documents, and team group chat!"]})})]})},{title:"Active Supervision",subtitle:"Manage your ongoing supervision relationship",icon:Ct,content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Once you accept a supervisor's offer, the Manage Supervisor tab unlocks with powerful collaboration tools."}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-lg p-3 sm:p-4 border border-indigo-100",children:[e.jsx("h5",{className:"font-semibold text-gray-900 text-xs sm:text-sm mb-1 sm:mb-2",children:"Research & Documents"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:"Shared workspace accessible by all supervisors"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-3 sm:p-4 border border-purple-100",children:[e.jsx("h5",{className:"font-semibold text-gray-900 text-xs sm:text-sm mb-1 sm:mb-2",children:"Team Chat"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:"Group discussion with all your supervisors"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-3 sm:p-4 border border-green-100",children:[e.jsx("h5",{className:"font-semibold text-gray-900 text-xs sm:text-sm mb-1 sm:mb-2",children:"Meetings"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:"Schedule and track supervision meetings"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-3 sm:p-4 border border-amber-100",children:[e.jsx("h5",{className:"font-semibold text-gray-900 text-xs sm:text-sm mb-1 sm:mb-2",children:"Direct Messages"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:"One-on-one chat with each supervisor"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-4 text-white",children:e.jsx("p",{className:"text-sm font-medium",children:"You're all set! Start your supervision journey by finding your perfect research supervisor."})})]})}],c=()=>{a<x.length-1&&l(a+1)},f=()=>{a>0&&l(a-1)},v=()=>{l(0),o()};if(!n)return null;const C=x[a].icon;return e.jsx(ge,{children:n&&e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4",onClick:v,children:e.jsxs(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",duration:.3},className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-[95vw] sm:max-w-xl md:max-w-2xl lg:max-w-3xl max-h-[95vh] sm:max-h-[90vh] overflow-hidden",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-600 to-purple-600 px-4 sm:px-6 py-5 sm:py-8",children:[e.jsx("button",{onClick:v,className:"absolute top-3 right-3 sm:top-4 sm:right-4 text-white/80 hover:text-white transition-colors",children:e.jsx(fe,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 pr-8",children:[e.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 bg-white/20 backdrop-blur-sm rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white",strokeWidth:2})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white mb-0.5 sm:mb-1 line-clamp-1",children:x[a].title}),e.jsx("p",{className:"text-indigo-100 text-xs sm:text-sm line-clamp-2 sm:line-clamp-1",children:x[a].subtitle})]})]})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-8 overflow-y-auto max-h-[45vh] sm:max-h-[50vh]",children:e.jsx(ge,{mode:"wait",children:e.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:x[a].content},a)})}),e.jsx("div",{className:"border-t border-gray-200 px-3 sm:px-6 py-3 sm:py-4 bg-gray-50",children:e.jsxs("div",{className:"flex flex-col xs:flex-row items-center justify-between gap-3 xs:gap-0",children:[e.jsx("div",{className:"flex gap-1.5 sm:gap-2",children:x.map((S,A)=>e.jsx("button",{onClick:()=>l(A),className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${A===a?"w-6 sm:w-8 bg-indigo-600":"w-1.5 sm:w-2 bg-gray-300 hover:bg-gray-400"}`},A))}),e.jsxs("div",{className:"flex gap-2 w-full xs:w-auto",children:[e.jsxs("button",{onClick:f,disabled:a===0,className:"flex-1 xs:flex-initial px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-1.5 sm:gap-2",children:[e.jsx(Te,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Previous"})]}),a<x.length-1?e.jsxs("button",{onClick:c,className:"flex-1 xs:flex-initial px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 transition-colors flex items-center justify-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Next"}),e.jsx(Dt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]}):e.jsxs("button",{onClick:v,className:"flex-1 xs:flex-initial px-4 sm:px-6 py-1.5 sm:py-2 rounded-lg bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700 transition-colors flex items-center justify-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Get Started"}),e.jsx(pe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})]})]})})]})})})},hs=({message:n,type:o="info",dismissible:a=!0,persistKey:l="sticky-banner-dismissed",className:x="",hideOnScroll:c=!1})=>{const[f,v]=N.useState(!0),[C,S]=N.useState(!1);N.useEffect(()=>{if(a&&l){const g=localStorage.getItem(l)==="true";v(!g)}},[a,l]),N.useEffect(()=>{if(!c)return;let g=window.scrollY;const k=()=>{const m=window.scrollY;m>40&&m>g?S(!0):m<g&&S(!1),g=m};return window.addEventListener("scroll",k,{passive:!0}),()=>window.removeEventListener("scroll",k)},[c]);const A=()=>{v(!1),l&&localStorage.setItem(l,"true")},u=()=>{switch(o){case"warning":return"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 border-yellow-300";case"success":return"bg-gradient-to-r from-green-400 to-green-500 text-green-900 border-green-300";case"error":return"bg-gradient-to-r from-red-400 to-red-500 text-red-900 border-red-300";case"info":default:return"bg-gradient-to-r from-blue-400 to-blue-500 text-blue-900 border-blue-300"}};return f?e.jsx(ge,{children:e.jsx(E.div,{initial:{y:-100,opacity:0},animate:{y:C?-100:0,opacity:C?0:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:400,damping:30,duration:.3},className:`
                    fixed top-0 left-0 right-0 z-50 
                    ${u()}
                    border-b shadow-lg backdrop-blur-sm
                    ${x}
                `,children:e.jsx("div",{className:"max-w-full mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-sm font-medium text-center leading-relaxed",children:n})}),a&&e.jsx("button",{onClick:A,className:`
                                    flex-shrink-0 p-1 rounded-full 
                                    hover:bg-black/10 dark:hover:bg-white/10 
                                    transition-colors duration-200
                                    focus:outline-none focus:ring-2 focus:ring-black/20
                                `,"aria-label":"Dismiss banner",children:e.jsx(fe,{className:"w-4 h-4"})})]})})})}):null};var ne={exports:{}},we={},me={exports:{}},Oe;function ps(){if(Oe)return me.exports;Oe=1;function n(a){var l,x,c="";if(typeof a=="string"||typeof a=="number")c+=a;else if(typeof a=="object")if(Array.isArray(a)){var f=a.length;for(l=0;l<f;l++)a[l]&&(x=n(a[l]))&&(c&&(c+=" "),c+=x)}else for(x in a)a[x]&&(c&&(c+=" "),c+=x);return c}function o(){for(var a,l,x=0,c="",f=arguments.length;x<f;x++)(a=arguments[x])&&(l=n(a))&&(c&&(c+=" "),c+=l);return c}return me.exports=o,me.exports.clsx=o,me.exports}var R={},J={},Be;function je(){if(Be)return J;Be=1,Object.defineProperty(J,"__esModule",{value:!0}),J.dontSetMe=x,J.findInArray=n,J.int=l,J.isFunction=o,J.isNum=a;function n(c,f){for(let v=0,C=c.length;v<C;v++)if(f.apply(f,[c[v],v,c]))return c[v]}function o(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Function]"}function a(c){return typeof c=="number"&&!isNaN(c)}function l(c){return parseInt(c,10)}function x(c,f,v){if(c[f])return new Error(`Invalid prop ${f} passed to ${v} - do not set this, set it on the child.`)}return J}var ee={},Ue;function gs(){if(Ue)return ee;Ue=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.browserPrefixToKey=a,ee.browserPrefixToStyle=l,ee.default=void 0,ee.getPrefix=o;const n=["Moz","Webkit","O","ms"];function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const f=window.document?.documentElement?.style;if(!f||c in f)return"";for(let v=0;v<n.length;v++)if(a(c,n[v])in f)return n[v];return""}function a(c,f){return f?`${f}${x(c)}`:c}function l(c,f){return f?`-${f.toLowerCase()}-${c}`:c}function x(c){let f="",v=!0;for(let C=0;C<c.length;C++)v?(f+=c[C].toUpperCase(),v=!1):c[C]==="-"?v=!0:f+=c[C];return f}return ee.default=o(),ee}var Ye;function Ee(){if(Ye)return R;Ye=1,Object.defineProperty(R,"__esModule",{value:!0}),R.addClassName=_,R.addEvent=f,R.addUserSelectStyles=p,R.createCSSTransform=k,R.createSVGTransform=m,R.getTouch=h,R.getTouchIdentifier=i,R.getTranslation=b,R.innerHeight=A,R.innerWidth=u,R.matchesSelector=x,R.matchesSelectorAndParentsTo=c,R.offsetXYFromParent=g,R.outerHeight=C,R.outerWidth=S,R.removeClassName=j,R.removeEvent=v,R.scheduleRemoveUserSelectStyles=y;var n=je(),o=a(gs());function a(r,s){if(typeof WeakMap=="function")var t=new WeakMap,D=new WeakMap;return(a=function(w,T){if(!T&&w&&w.__esModule)return w;var L,I,B={__proto__:null,default:w};if(w===null||typeof w!="object"&&typeof w!="function")return B;if(L=T?D:t){if(L.has(w))return L.get(w);L.set(w,B)}for(const F in w)F!=="default"&&{}.hasOwnProperty.call(w,F)&&((I=(L=Object.defineProperty)&&Object.getOwnPropertyDescriptor(w,F))&&(I.get||I.set)?L(B,F,I):B[F]=w[F]);return B})(r,s)}let l="";function x(r,s){return l||(l=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,n.isFunction)(r[t])})),(0,n.isFunction)(r[l])?r[l](s):!1}function c(r,s,t){let D=r;do{if(x(D,s))return!0;if(D===t)return!1;D=D.parentNode}while(D);return!1}function f(r,s,t,D){if(!r)return;const w={capture:!0,...D};r.addEventListener?r.addEventListener(s,t,w):r.attachEvent?r.attachEvent("on"+s,t):r["on"+s]=t}function v(r,s,t,D){if(!r)return;const w={capture:!0,...D};r.removeEventListener?r.removeEventListener(s,t,w):r.detachEvent?r.detachEvent("on"+s,t):r["on"+s]=null}function C(r){let s=r.clientHeight;const t=r.ownerDocument.defaultView.getComputedStyle(r);return s+=(0,n.int)(t.borderTopWidth),s+=(0,n.int)(t.borderBottomWidth),s}function S(r){let s=r.clientWidth;const t=r.ownerDocument.defaultView.getComputedStyle(r);return s+=(0,n.int)(t.borderLeftWidth),s+=(0,n.int)(t.borderRightWidth),s}function A(r){let s=r.clientHeight;const t=r.ownerDocument.defaultView.getComputedStyle(r);return s-=(0,n.int)(t.paddingTop),s-=(0,n.int)(t.paddingBottom),s}function u(r){let s=r.clientWidth;const t=r.ownerDocument.defaultView.getComputedStyle(r);return s-=(0,n.int)(t.paddingLeft),s-=(0,n.int)(t.paddingRight),s}function g(r,s,t){const w=s===s.ownerDocument.body?{left:0,top:0}:s.getBoundingClientRect(),T=(r.clientX+s.scrollLeft-w.left)/t,L=(r.clientY+s.scrollTop-w.top)/t;return{x:T,y:L}}function k(r,s){const t=b(r,s,"px");return{[(0,o.browserPrefixToKey)("transform",o.default)]:t}}function m(r,s){return b(r,s,"")}function b(r,s,t){let{x:D,y:w}=r,T=`translate(${D}${t},${w}${t})`;if(s){const L=`${typeof s.x=="string"?s.x:s.x+t}`,I=`${typeof s.y=="string"?s.y:s.y+t}`;T=`translate(${L}, ${I})`+T}return T}function h(r,s){return r.targetTouches&&(0,n.findInArray)(r.targetTouches,t=>s===t.identifier)||r.changedTouches&&(0,n.findInArray)(r.changedTouches,t=>s===t.identifier)}function i(r){if(r.targetTouches&&r.targetTouches[0])return r.targetTouches[0].identifier;if(r.changedTouches&&r.changedTouches[0])return r.changedTouches[0].identifier}function p(r){if(!r)return;let s=r.getElementById("react-draggable-style-el");s||(s=r.createElement("style"),s.type="text/css",s.id="react-draggable-style-el",s.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,s.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,r.getElementsByTagName("head")[0].appendChild(s)),r.body&&_(r.body,"react-draggable-transparent-selection")}function y(r){window.requestAnimationFrame?window.requestAnimationFrame(()=>{d(r)}):d(r)}function d(r){if(r)try{if(r.body&&j(r.body,"react-draggable-transparent-selection"),r.selection)r.selection.empty();else{const s=(r.defaultView||window).getSelection();s&&s.type!=="Caret"&&s.removeAllRanges()}}catch{}}function _(r,s){r.classList?r.classList.add(s):r.className.match(new RegExp(`(?:^|\\s)${s}(?!\\S)`))||(r.className+=` ${s}`)}function j(r,s){r.classList?r.classList.remove(s):r.className=r.className.replace(new RegExp(`(?:^|\\s)${s}(?!\\S)`,"g"),"")}return R}var V={},We;function lt(){if(We)return V;We=1,Object.defineProperty(V,"__esModule",{value:!0}),V.canDragX=x,V.canDragY=c,V.createCoreData=v,V.createDraggableData=C,V.getBoundPosition=a,V.getControlPosition=f,V.snapToGrid=l;var n=je(),o=Ee();function a(u,g,k){if(!u.props.bounds)return[g,k];let{bounds:m}=u.props;m=typeof m=="string"?m:S(m);const b=A(u);if(typeof m=="string"){const{ownerDocument:h}=b,i=h.defaultView;let p;if(m==="parent"?p=b.parentNode:p=b.getRootNode().querySelector(m),!(p instanceof i.HTMLElement))throw new Error('Bounds selector "'+m+'" could not find an element.');const y=p,d=i.getComputedStyle(b),_=i.getComputedStyle(y);m={left:-b.offsetLeft+(0,n.int)(_.paddingLeft)+(0,n.int)(d.marginLeft),top:-b.offsetTop+(0,n.int)(_.paddingTop)+(0,n.int)(d.marginTop),right:(0,o.innerWidth)(y)-(0,o.outerWidth)(b)-b.offsetLeft+(0,n.int)(_.paddingRight)-(0,n.int)(d.marginRight),bottom:(0,o.innerHeight)(y)-(0,o.outerHeight)(b)-b.offsetTop+(0,n.int)(_.paddingBottom)-(0,n.int)(d.marginBottom)}}return(0,n.isNum)(m.right)&&(g=Math.min(g,m.right)),(0,n.isNum)(m.bottom)&&(k=Math.min(k,m.bottom)),(0,n.isNum)(m.left)&&(g=Math.max(g,m.left)),(0,n.isNum)(m.top)&&(k=Math.max(k,m.top)),[g,k]}function l(u,g,k){const m=Math.round(g/u[0])*u[0],b=Math.round(k/u[1])*u[1];return[m,b]}function x(u){return u.props.axis==="both"||u.props.axis==="x"}function c(u){return u.props.axis==="both"||u.props.axis==="y"}function f(u,g,k){const m=typeof g=="number"?(0,o.getTouch)(u,g):null;if(typeof g=="number"&&!m)return null;const b=A(k),h=k.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,o.offsetXYFromParent)(m||u,h,k.props.scale)}function v(u,g,k){const m=!(0,n.isNum)(u.lastX),b=A(u);return m?{node:b,deltaX:0,deltaY:0,lastX:g,lastY:k,x:g,y:k}:{node:b,deltaX:g-u.lastX,deltaY:k-u.lastY,lastX:u.lastX,lastY:u.lastY,x:g,y:k}}function C(u,g){const k=u.props.scale;return{node:g.node,x:u.state.x+g.deltaX/k,y:u.state.y+g.deltaY/k,deltaX:g.deltaX/k,deltaY:g.deltaY/k,lastX:u.state.x,lastY:u.state.y}}function S(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}}function A(u){const g=u.findDOMNode();if(!g)throw new Error("<DraggableCore>: Unmounted during event!");return g}return V}var ie={},ue={},ze;function ct(){if(ze)return ue;ze=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=n;function n(){}return ue}var He;function fs(){if(He)return ie;He=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;var n=C(Ge()),o=v(nt()),a=v(Ke()),l=Ee(),x=lt(),c=je(),f=v(ct());function v(b){return b&&b.__esModule?b:{default:b}}function C(b,h){if(typeof WeakMap=="function")var i=new WeakMap,p=new WeakMap;return(C=function(y,d){if(!d&&y&&y.__esModule)return y;var _,j,r={__proto__:null,default:y};if(y===null||typeof y!="object"&&typeof y!="function")return r;if(_=d?p:i){if(_.has(y))return _.get(y);_.set(y,r)}for(const s in y)s!=="default"&&{}.hasOwnProperty.call(y,s)&&((j=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(y,s))&&(j.get||j.set)?_(r,s,j):r[s]=y[s]);return r})(b,h)}function S(b,h,i){return(h=A(h))in b?Object.defineProperty(b,h,{value:i,enumerable:!0,configurable:!0,writable:!0}):b[h]=i,b}function A(b){var h=u(b,"string");return typeof h=="symbol"?h:h+""}function u(b,h){if(typeof b!="object"||!b)return b;var i=b[Symbol.toPrimitive];if(i!==void 0){var p=i.call(b,h);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(b)}const g={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let k=g.mouse,m=class extends n.Component{constructor(){super(...arguments),S(this,"dragging",!1),S(this,"lastX",NaN),S(this,"lastY",NaN),S(this,"touchIdentifier",null),S(this,"mounted",!1),S(this,"handleDragStart",h=>{if(this.props.onMouseDown(h),!this.props.allowAnyClick&&typeof h.button=="number"&&h.button!==0)return!1;const i=this.findDOMNode();if(!i||!i.ownerDocument||!i.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:p}=i;if(this.props.disabled||!(h.target instanceof p.defaultView.Node)||this.props.handle&&!(0,l.matchesSelectorAndParentsTo)(h.target,this.props.handle,i)||this.props.cancel&&(0,l.matchesSelectorAndParentsTo)(h.target,this.props.cancel,i))return;h.type==="touchstart"&&!this.props.allowMobileScroll&&h.preventDefault();const y=(0,l.getTouchIdentifier)(h);this.touchIdentifier=y;const d=(0,x.getControlPosition)(h,y,this);if(d==null)return;const{x:_,y:j}=d,r=(0,x.createCoreData)(this,_,j);(0,f.default)("DraggableCore: handleDragStart: %j",r),(0,f.default)("calling",this.props.onStart),!(this.props.onStart(h,r)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(p),this.dragging=!0,this.lastX=_,this.lastY=j,(0,l.addEvent)(p,k.move,this.handleDrag),(0,l.addEvent)(p,k.stop,this.handleDragStop))}),S(this,"handleDrag",h=>{const i=(0,x.getControlPosition)(h,this.touchIdentifier,this);if(i==null)return;let{x:p,y}=i;if(Array.isArray(this.props.grid)){let j=p-this.lastX,r=y-this.lastY;if([j,r]=(0,x.snapToGrid)(this.props.grid,j,r),!j&&!r)return;p=this.lastX+j,y=this.lastY+r}const d=(0,x.createCoreData)(this,p,y);if((0,f.default)("DraggableCore: handleDrag: %j",d),this.props.onDrag(h,d)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const r=document.createEvent("MouseEvents");r.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(r)}return}this.lastX=p,this.lastY=y}),S(this,"handleDragStop",h=>{if(!this.dragging)return;const i=(0,x.getControlPosition)(h,this.touchIdentifier,this);if(i==null)return;let{x:p,y}=i;if(Array.isArray(this.props.grid)){let r=p-this.lastX||0,s=y-this.lastY||0;[r,s]=(0,x.snapToGrid)(this.props.grid,r,s),p=this.lastX+r,y=this.lastY+s}const d=(0,x.createCoreData)(this,p,y);if(this.props.onStop(h,d)===!1||this.mounted===!1)return!1;const j=this.findDOMNode();j&&this.props.enableUserSelectHack&&(0,l.scheduleRemoveUserSelectStyles)(j.ownerDocument),(0,f.default)("DraggableCore: handleDragStop: %j",d),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,j&&((0,f.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(j.ownerDocument,k.move,this.handleDrag),(0,l.removeEvent)(j.ownerDocument,k.stop,this.handleDragStop))}),S(this,"onMouseDown",h=>(k=g.mouse,this.handleDragStart(h))),S(this,"onMouseUp",h=>(k=g.mouse,this.handleDragStop(h))),S(this,"onTouchStart",h=>(k=g.touch,this.handleDragStart(h))),S(this,"onTouchEnd",h=>(k=g.touch,this.handleDragStop(h)))}componentDidMount(){this.mounted=!0;const h=this.findDOMNode();h&&(0,l.addEvent)(h,g.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const h=this.findDOMNode();if(h){const{ownerDocument:i}=h;(0,l.removeEvent)(i,g.mouse.move,this.handleDrag),(0,l.removeEvent)(i,g.touch.move,this.handleDrag),(0,l.removeEvent)(i,g.mouse.stop,this.handleDragStop),(0,l.removeEvent)(i,g.touch.stop,this.handleDragStop),(0,l.removeEvent)(h,g.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.scheduleRemoveUserSelectStyles)(i)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:a.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return ie.default=m,S(m,"displayName","DraggableCore"),S(m,"propTypes",{allowAnyClick:o.default.bool,allowMobileScroll:o.default.bool,children:o.default.node.isRequired,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(b,h){if(b[h]&&b[h].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),S(m,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),ie}var Ve;function bs(){return Ve||(Ve=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return C.default}}),n.default=void 0;var o=u(Ge()),a=A(nt()),l=A(Ke()),x=ps(),c=Ee(),f=lt(),v=je(),C=A(fs()),S=A(ct());function A(i){return i&&i.__esModule?i:{default:i}}function u(i,p){if(typeof WeakMap=="function")var y=new WeakMap,d=new WeakMap;return(u=function(_,j){if(!j&&_&&_.__esModule)return _;var r,s,t={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return t;if(r=j?d:y){if(r.has(_))return r.get(_);r.set(_,t)}for(const D in _)D!=="default"&&{}.hasOwnProperty.call(_,D)&&((s=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,D))&&(s.get||s.set)?r(t,D,s):t[D]=_[D]);return t})(i,p)}function g(){return g=Object.assign?Object.assign.bind():function(i){for(var p=1;p<arguments.length;p++){var y=arguments[p];for(var d in y)({}).hasOwnProperty.call(y,d)&&(i[d]=y[d])}return i},g.apply(null,arguments)}function k(i,p,y){return(p=m(p))in i?Object.defineProperty(i,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):i[p]=y,i}function m(i){var p=b(i,"string");return typeof p=="symbol"?p:p+""}function b(i,p){if(typeof i!="object"||!i)return i;var y=i[Symbol.toPrimitive];if(y!==void 0){var d=y.call(i,p);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(i)}class h extends o.Component{static getDerivedStateFromProps(p,y){let{position:d}=p,{prevPropsPosition:_}=y;return d&&(!_||d.x!==_.x||d.y!==_.y)?((0,S.default)("Draggable: getDerivedStateFromProps %j",{position:d,prevPropsPosition:_}),{x:d.x,y:d.y,prevPropsPosition:{...d}}):null}constructor(p){super(p),k(this,"onDragStart",(y,d)=>{if((0,S.default)("Draggable: onDragStart: %j",d),this.props.onStart(y,(0,f.createDraggableData)(this,d))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),k(this,"onDrag",(y,d)=>{if(!this.state.dragging)return!1;(0,S.default)("Draggable: onDrag: %j",d);const _=(0,f.createDraggableData)(this,d),j={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:s,y:t}=j;j.x+=this.state.slackX,j.y+=this.state.slackY;const[D,w]=(0,f.getBoundPosition)(this,j.x,j.y);j.x=D,j.y=w,j.slackX=this.state.slackX+(s-j.x),j.slackY=this.state.slackY+(t-j.y),_.x=j.x,_.y=j.y,_.deltaX=j.x-this.state.x,_.deltaY=j.y-this.state.y}if(this.props.onDrag(y,_)===!1)return!1;this.setState(j)}),k(this,"onDragStop",(y,d)=>{if(!this.state.dragging||this.props.onStop(y,(0,f.createDraggableData)(this,d))===!1)return!1;(0,S.default)("Draggable: onDragStop: %j",d);const j={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:s,y:t}=this.props.position;j.x=s,j.y=t}this.setState(j)}),this.state={dragging:!1,dragged:!1,x:p.position?p.position.x:p.defaultPosition.x,y:p.position?p.position.y:p.defaultPosition.y,prevPropsPosition:{...p.position},slackX:0,slackY:0,isElementSVG:!1},p.position&&!(p.onDrag||p.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??l.default.findDOMNode(this)}render(){const{axis:p,bounds:y,children:d,defaultPosition:_,defaultClassName:j,defaultClassNameDragging:r,defaultClassNameDragged:s,position:t,positionOffset:D,scale:w,...T}=this.props;let L={},I=null;const F=!!!t||this.state.dragging,M=t||_,P={x:(0,f.canDragX)(this)&&F?this.state.x:M.x,y:(0,f.canDragY)(this)&&F?this.state.y:M.y};this.state.isElementSVG?I=(0,c.createSVGTransform)(P,D):L=(0,c.createCSSTransform)(P,D);const O=(0,x.clsx)(d.props.className||"",j,{[r]:this.state.dragging,[s]:this.state.dragged});return o.createElement(C.default,g({},T,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(d),{className:O,style:{...d.props.style,...L},transform:I}))}}n.default=h,k(h,"displayName","Draggable"),k(h,"propTypes",{...C.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:v.dontSetMe,style:v.dontSetMe,transform:v.dontSetMe}),k(h,"defaultProps",{...C.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(we)),we}var Xe;function ys(){if(Xe)return ne.exports;Xe=1;const{default:n,DraggableCore:o}=bs();return ne.exports=n,ne.exports.default=n,ne.exports.DraggableCore=o,ne.exports}var vs=ys();const js=mt(vs),Ns=({auth:n,getProfilePicture:o,showProfile:a=!1})=>{const[l,x]=N.useState(!1),[c,f]=N.useState({x:0,y:0}),[v,C]=N.useState("top-right"),[S,A]=N.useState(!1),[u,g]=N.useState(!1),[k,m]=N.useState(!1),[b,h]=N.useState(0),[i,p]=N.useState(0),y=N.useRef(null),d=N.useRef(null),_=60,j=a?220:160,r=l||S,s=b>0||i>0,t=b+i;N.useEffect(()=>{(()=>{const M="ontouchstart"in window||navigator.maxTouchPoints>0;m(M),M&&x(!0)})()},[]);const D=N.useCallback((F,M=!1)=>{const P=window.innerWidth,O=window.innerHeight,q=16,Z=M?j:_;let W=0,Q=0;switch(F){case"top-right":W=P-q-Z,Q=q;break;case"top-left":W=q,Q=q;break;case"bottom-right":W=P-q-Z,Q=O-q-60;break;case"bottom-left":W=q,Q=O-q-60;break}f({x:W,y:Q})},[_,j]);N.useEffect(()=>{const M=localStorage.getItem("commsHubEdge")||"top-right";C(M),D(M)},[D]),N.useEffect(()=>{const F=()=>{D(v,r)};return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[v,r,D]),N.useEffect(()=>{u||D(v,r)},[r,v,u,D]);const w=(F,M)=>{localStorage.setItem("commsHubDragged","true"),g(!1);const P=window.innerWidth,O=window.innerHeight,q=M.x+(r?j:_)/2,Z=M.y+30,W=Z,Q=O-Z,$e=q,dt=P-q,Ne=Math.min(W,Q,$e,dt);let se;Ne===W?se=q<P/2?"top-left":"top-right":Ne===Q?se=q<P/2?"bottom-left":"bottom-right":Ne===$e?se=Z<O/2?"top-left":"bottom-left":se=Z<O/2?"top-right":"bottom-right",C(se),localStorage.setItem("commsHubEdge",se),D(se,r)},T=()=>v.includes("right")?"right":"left",L=()=>v.includes("bottom")?"up":"down",I=()=>{!u&&!k&&(d.current&&(clearTimeout(d.current),d.current=null),x(!0))},B=()=>{!u&&!S&&!k&&(d.current=setTimeout(()=>{x(!1)},200))};return N.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]),e.jsx(js,{nodeRef:y,position:c,onStart:()=>g(!0),onStop:w,onDrag:(F,M)=>f({x:M.x,y:M.y}),cancel:"button, a, img, .no-drag",bounds:"parent",scale:1,children:e.jsxs("div",{ref:y,onMouseEnter:I,onMouseLeave:B,className:`fixed z-50 ${u?"":"transition-all duration-300"} ${r?"opacity-100":"opacity-60"} ${u?"cursor-grabbing":"cursor-grab"} p-2 -m-2`,children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gray-400 rounded-full px-2 py-0.5 opacity-0 hover:opacity-100 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsx(zt,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 rounded-full shadow-lg border border-gray-200 dark:border-gray-700 ${u?"":"transition-all duration-300"} ${r?"scale-100":"scale-90"} relative`,children:[!r&&s&&e.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg animate-pulse z-10",children:t>9?"9+":t}),e.jsx("div",{className:"relative h-9 w-9 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors no-drag",children:e.jsx(Me,{dropdownAlign:T(),dropdownDirection:L(),onPanelToggle:A,onUnreadCountChange:h})}),r&&e.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-700"}),r&&e.jsx("div",{className:"relative h-9 w-9 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors no-drag",children:e.jsx(Pe,{dropdownAlign:T(),dropdownDirection:L(),onPanelToggle:A,onUnreadCountChange:p})}),a&&r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-700"}),e.jsxs(Y,{children:[e.jsx(Y.Trigger,{children:e.jsx("img",{src:o(n.user),alt:"Profile",className:"h-9 w-9 rounded-full object-cover cursor-pointer hover:ring-2 hover:ring-indigo-400 transition no-drag"})}),e.jsxs(Y.Content,{align:T(),width:"48",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-900 truncate",children:n.user.full_name}),e.jsx("span",{className:"block text-sm text-gray-500 truncate",children:n.user.email})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs(Y.Link,{href:route("profile.edit"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"General Account Setting"]}),e.jsxs(Y.Link,{href:route("role.edit"),children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Personal Information"]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs(Y.Link,{href:route("logout"),method:"post",as:"button",className:"w-full text-left text-red-600 hover:bg-red-50",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})]})]}),!localStorage.getItem("commsHubDragged")&&!k&&e.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-indigo-600 text-white text-xs px-2 py-1 rounded animate-pulse whitespace-nowrap pointer-events-none",children:"💡 Drag me to any edge!"}),!localStorage.getItem("commsHubDragged")&&k&&e.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-indigo-600 text-white text-xs px-2 py-1 rounded animate-pulse whitespace-nowrap pointer-events-none",children:"💡 Touch & drag to move!"})]})})},jr=({children:n,title:o,TopMenuOpen:a})=>{const[l,x]=N.useState(!1),[c,f]=N.useState(!1),[v,C]=N.useState("dashboard"),[S,A]=N.useState(!1),[u,g]=N.useState(!1),[k,m]=N.useState(!1),[b,h]=N.useState(!0),[i,p]=N.useState(!1),{url:y}=G(),{auth:d,preferences:_}=G().props,j=M=>{const P=M.academician||M.postgraduate||M.undergraduate;return P?.profile_picture?`/storage/${P.profile_picture}`:"/storage/profile_pictures/default.jpg"},r=M=>{const P=M.toLowerCase();return P.includes("/dashboard")?"dashboard":P.includes("/ai-matching")||P.includes("/postgraduate-recommendations")||P.includes("/bookmarks")||P.includes("/project-hub")||P.includes("/my-supervisor")||P.includes("/supervisor-dashboard")?"features":P.includes("/connections")||P.includes("/postgraduates")||P.includes("/undergraduates")||P.includes("/academicians")||P.includes("/universities")||P.includes("/messaging")?"networking":P.includes("/funding")||P.includes("/funding.admin")||P.includes("/projects")||P.includes("/post-projects")||P.includes("/events")||P.includes("/post-events")||P.includes("/posts")||P.includes("/create-posts")?"content":P.includes("/admin/roles")||P.includes("/admin/faculty-admins")||P.includes("/admin/profiles")||P.includes("/admin/data-management")||P.includes("/faculty-admin/")?"dashboard":P.includes("/profile")||P.includes("/role")?"settings":"dashboard"},s=()=>{const M=!l;x(M),localStorage.setItem("isSidebarOpen",M)},t=M=>{C(M),l||(x(!0),localStorage.setItem("isSidebarOpen","true"))};N.useEffect(()=>{const M=r(y);C(M)},[y]),N.useEffect(()=>{setTimeout(()=>{let M=o;if(M===void 0&&(M=document.title,M==="Nexscholar"||M.endsWith("- Nexscholar"))){const P=y.split("/").filter(Boolean);P.length>0&&(M=P[P.length-1].split("-").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" "))}ht(y,M)},250)},[y,o]),N.useEffect(()=>{const M=()=>{const P=window.innerWidth>=1024;if(f(P),P){const O=localStorage.getItem("isSidebarOpen");x(O!==null?O==="true":!0)}else x(!1)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),N.useEffect(()=>{const M=O=>{const q=window.innerWidth>=1024,W=(O.detail?.visit?.url?.href||"").toLowerCase().includes("/ai-matching");q?W&&(x(!1),localStorage.setItem("isSidebarOpen","false")):x(!1)};return Le.on("start",M)},[]),N.useEffect(()=>{d?.user&&d.user.agreed_to_terms===!1&&A(!0)},[d]),N.useEffect(()=>{if(d?.user&&d.user.agreed_to_terms===!0&&!d.user.has_seen_tutorial&&!y.includes("/role")){const P=setTimeout(()=>{g(!0)},500);return()=>clearTimeout(P)}},[d,y]),N.useEffect(()=>{const M=localStorage.getItem("feedbackBubbleDismissed"),P=_?.feedback_bubble_dismissed;(M==="true"||P===!0)&&h(!1)},[_]);const D=M=>{M.preventDefault(),M.stopPropagation(),p(!0)},w=()=>{h(!1),p(!1),localStorage.setItem("feedbackBubbleDismissed","true")},T=async()=>{h(!1),p(!1);try{await fetch(route("preferences.feedback.dismiss"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({type:"session"})}),Le.reload({only:["preferences"]})}catch(M){console.error("Failed to dismiss feedback bubble:",M)}},L=M=>y.startsWith(M),I={message:"Messaging features are now available! Feel free to try them out. Any feedback or bugs can be reported through the provided feedback form.",type:"info",dismissible:!0,persistKey:"messaging-launch-banner-2025",hideOnScroll:!1},B="https://docs.google.com/forms/d/e/1FAIpQLSdPX9CXPOAZLedNsqA9iyMs5ZkAOACol4_wBVN2LPdxbnsJeg/viewform",F=["AI Matching","Postgraduate Program Recommendations","My Supervisor","Supervisor Dashboard","NexLab","Messages"];return e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[e.jsx(pt,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#22c55e",color:"#fff"}},error:{duration:4e3,style:{background:"#ef4444",color:"#fff"}}}}),e.jsx(hs,{message:I.message,type:I.type,dismissible:I.dismissible,persistKey:I.persistKey,hideOnScroll:I.hideOnScroll}),c&&!o&&e.jsx(Ns,{auth:d,getProfilePicture:j,showProfile:!0}),c&&e.jsxs(e.Fragment,{children:[e.jsx(Qt,{activeSection:v,onSectionChange:t}),e.jsx(Jt,{activeSection:v,isOpen:l,onToggleSidebar:s})]}),!c&&e.jsx(es,{isOpen:l,toggleSidebar:s}),!c&&e.jsx("div",{className:"fixed top-20 right-4 z-40",children:e.jsxs("div",{className:"flex flex-col gap-2 p-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"h-6 w-6 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx(Me,{})}),e.jsx("div",{className:"h-px w-6 mx-auto bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"h-6 w-6 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx(Pe,{})})]})}),c?e.jsxs("div",{className:`flex-1 transition-all duration-300 ${l?"ml-80":"ml-16"}`,children:[a&&e.jsx(ts,{}),e.jsx(Re,{title:o}),e.jsxs("div",{className:`${o?"p-4":"px-4 py-2"} bg-white shadow min-h-screen`,children:[o&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsxs("div",{className:"flex flex-col xs:flex-row items-start xs:items-center gap-2 xs:gap-3",children:[e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold flex items-center gap-2",children:[o,F.includes(o)&&e.jsx(U,{variant:"inline"})]}),o==="My Supervisor"&&e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-3 py-1 sm:py-1.5 text-xs sm:text-sm text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors group","aria-label":"How supervisor selection works",children:[e.jsx(ut,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),e.jsx("span",{className:"font-medium whitespace-nowrap",children:"How supervisor selection works"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx(Me,{})}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx(Pe,{})}),e.jsxs(Y,{children:[e.jsx(Y.Trigger,{children:e.jsx("img",{src:j(d.user),alt:"Profile",className:"h-10 w-10 rounded-full object-cover cursor-pointer hover:ring-2 hover:ring-indigo-400 transition"})}),e.jsxs(Y.Content,{align:"right",width:"48",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-900 truncate",children:d.user.full_name}),e.jsx("span",{className:"block text-sm text-gray-500 truncate",children:d.user.email})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs(Y.Link,{href:route("profile.edit"),children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"General Account Setting"]}),e.jsxs(Y.Link,{href:route("role.edit"),children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Personal Information"]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs(Y.Link,{href:route("logout"),method:"post",as:"button",className:"w-full text-left text-red-600 hover:bg-red-50",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 -mx-4"})]}),n]})]}):e.jsxs("div",{className:"flex-1 min-h-screen bg-white",children:[e.jsx(Re,{title:o}),e.jsxs("div",{className:"pb-20",children:[e.jsx("button",{className:"fixed top-6 right-4 z-45 bg-indigo-600 text-white p-3 rounded-md shadow-md lg:hidden",onClick:s,children:l?"✕":"☰"}),n]}),e.jsx("div",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 rounded-t-3xl shadow-lg",children:e.jsxs("div",{className:"flex justify-around items-center relative py-3",children:[e.jsxs($,{href:"/events",className:`flex flex-col items-center ${L("/event")?"text-indigo-500":"text-gray-500"}`,children:[e.jsx(Yt,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Event"})]}),e.jsxs($,{href:"/projects",className:`flex flex-col items-center ${L("/project")?"text-indigo-500":"text-gray-500"}`,children:[e.jsx(Rt,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Project"})]}),e.jsx("div",{className:"absolute -top-6 w-14 h-14 flex items-center justify-center bg-indigo-500 rounded-full shadow-lg border-4 border-white",children:e.jsx($,{href:"/dashboard",children:e.jsx(oe,{className:"w-7 h-7 stroke-white stroke-[1.5]"})})}),e.jsxs($,{href:"/funding",className:`flex flex-col items-center ${L("/funding")?"text-indigo-500":"text-gray-500"}`,children:[e.jsx(ce,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Funding"})]}),e.jsxs($,{href:"/role",className:`flex flex-col items-center ${L("/role")?"text-indigo-500":"text-gray-500"}`,children:[e.jsx(Ft,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})})]}),b&&e.jsx("div",{className:"fixed z-40 right-4 bottom-24 md:bottom-10 md:right-8 group",children:e.jsxs("a",{href:B,target:"_blank",rel:"noopener noreferrer","aria-label":"Open feedback form",className:"flex items-center gap-3",children:[e.jsx("span",{className:"pointer-events-none rounded-full bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-lg opacity-0 translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 group-focus-within:opacity-100 group-focus-within:translate-x-0 transition-all duration-200",children:"Feedback Form"}),e.jsxs("div",{className:"relative flex h-12 w-12 items-center justify-center rounded-full bg-indigo-600 text-white shadow-lg opacity-70 group-hover:opacity-100 group-hover:scale-110 transition-all duration-200",children:[e.jsx(le,{className:"h-5 w-5"}),e.jsx("button",{onClick:D,className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center rounded-full bg-red-500 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-600","aria-label":"Dismiss feedback bubble",children:e.jsx(fe,{className:"h-3 w-3"})})]})]})}),e.jsx(Pt,{open:i,onOpenChange:p,children:e.jsxs(Mt,{className:"sm:max-w-lg",children:[e.jsx(Tt,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:e.jsx(le,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx(At,{className:"text-xl",children:"Hide Feedback Button?"}),e.jsx(Et,{className:"mt-1",children:"Choose your preference below"})]})]})}),e.jsxs("div",{className:"space-y-3 py-4",children:[e.jsx("button",{onClick:T,className:"w-full p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-200 dark:group-hover:bg-blue-900/50 transition-colors",children:e.jsx(de,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Hide until next login"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Button will reappear when you log in again. Perfect if you just need a break!"})]})]})}),e.jsx("button",{onClick:w,className:"w-full p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-red-500 dark:hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center flex-shrink-0 group-hover:bg-red-200 dark:group-hover:bg-red-900/50 transition-colors",children:e.jsx(fe,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Hide permanently"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Button won't appear again on this device. You can still access feedback via sidebar."})]})]})})]}),e.jsx($t,{className:"sm:justify-center",children:e.jsx(Lt,{variant:"ghost",onClick:()=>p(!1),className:"px-8",children:"Cancel"})})]})}),e.jsx(cs,{show:S}),e.jsx(us,{show:u,onClose:()=>g(!1)}),e.jsx(xs,{show:k,onClose:()=>m(!1)})]})};export{U as B,os as C,zt as G,jr as M,H as U,z as g};
