import{r as b,j as e}from"./app-C9aRItHR.js";import{P as s}from"./index-B8W8JpGp.js";function j({skills:r=[],showIcon:l=!0,iconEmoji:i="✨",className:u="",textClass:h="text-sm font-medium text-blue-900"}){const m=b.useMemo(()=>{if(!Array.isArray(r)||r.length===0)return{totalSkills:0,totalDomains:0,domainNames:[]};const g=new Set;return r.forEach(t=>{t?.subdomain?.domain?.name&&g.add(t.subdomain.domain.name)}),{totalSkills:r.length,totalDomains:g.size,domainNames:Array.from(g)}},[r]);if(m.totalSkills===0)return null;const{totalSkills:c,totalDomains:a}=m,d=`${c} skill${c!==1?"s":""} across ${a} domain${a!==1?"s":""}`;return e.jsx("div",{className:u,children:e.jsxs("span",{className:h,children:[l&&e.jsx("span",{className:"mr-1",role:"img","aria-label":"skills",children:i}),d]})})}j.propTypes={skills:s.arrayOf(s.shape({id:s.number,name:s.string,subdomain:s.shape({name:s.string,domain:s.shape({name:s.string})})})).isRequired,showIcon:s.bool,iconEmoji:s.string,className:s.string,textClass:s.string};j.defaultProps={skills:[],showIcon:!0,iconEmoji:"✨",className:"",textClass:"text-sm font-medium text-blue-900"};function v({skills:r=[],maxSkills:l=5,className:i="",onViewAll:u=null,showViewAllButton:h=!0}){if(!Array.isArray(r)||r.length===0)return null;const m=r.slice(0,l),c=r.length>l;return e.jsxs("div",{className:`space-y-2 ${i}`,children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.map(a=>{const d=a?.subdomain?.domain?.name&&a?.subdomain?.name?`${a.subdomain.domain.name} → ${a.subdomain.name} → ${a.name}`:a?.name||"Unknown Skill";return e.jsxs("div",{className:"group relative inline-flex items-center",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 hover:bg-indigo-200 transition-colors cursor-help",title:d,children:[e.jsx("span",{className:"mr-1",role:"img","aria-label":"skill",children:"🔧"}),e.jsx("span",{children:a.name})]}),e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap hidden md:block",children:[e.jsxs("div",{className:"space-y-1",children:[a?.subdomain?.domain?.name&&e.jsx("div",{className:"font-medium",children:a.subdomain.domain.name}),a?.subdomain?.name&&e.jsxs("div",{className:"text-gray-300",children:["→ ",a.subdomain.name]}),e.jsxs("div",{className:"text-gray-300",children:["→ ",a.name]}),a?.description&&e.jsx("div",{className:"text-gray-400 text-xs mt-1 max-w-xs",children:a.description})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]},a.id||a.name)}),c&&h&&u&&e.jsxs("button",{type:"button",onClick:u,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors border border-gray-300",children:[e.jsx("span",{className:"mr-1",role:"img","aria-label":"view all",children:"👁️"}),e.jsxs("span",{children:["View all (",r.length,") →"]})]})]}),e.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:"💡 Tap and hold skill badges to see full hierarchy"})]})}v.propTypes={skills:s.arrayOf(s.shape({id:s.number,name:s.string.isRequired,description:s.string,subdomain:s.shape({name:s.string,domain:s.shape({name:s.string})})})).isRequired,maxSkills:s.number,className:s.string,onViewAll:s.func,showViewAllButton:s.bool};v.defaultProps={skills:[],maxSkills:5,className:"",onViewAll:null,showViewAllButton:!0};function N({isOpen:r=!1,onClose:l,skills:i=[],profileName:u="Profile"}){const[h,m]=b.useState(new Set);b.useEffect(()=>{const t=n=>{n.key==="Escape"&&r&&l()};return r&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[r,l]),b.useEffect(()=>{if(i.length>0){const t=new Set;i.forEach(n=>{n?.subdomain?.domain?.name&&t.add(n.subdomain.domain.name)}),m(t)}},[i]);const c=b.useMemo(()=>{const t={};return i.forEach(n=>{if(!n||!n.subdomain?.domain)return;const o=n.subdomain.domain.name,x=n.subdomain.name;t[o]||(t[o]={domain:n.subdomain.domain,subdomains:{},totalSkills:0}),t[o].subdomains[x]||(t[o].subdomains[x]={subdomain:n.subdomain,skills:[]}),t[o].subdomains[x].skills.push(n),t[o].totalSkills++}),t},[i]),a=i.length,d=Object.keys(c).length,g=t=>{const n=new Set(h);n.has(t)?n.delete(t):n.add(t),m(n)};return r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:l,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-11/12 max-w-4xl max-h-[80vh] overflow-y-auto relative",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[u,"'s Skills"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["✨ ",a," skill",a!==1?"s":""," across ",d," domain",d!==1?"s":""]})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No skills listed"})}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-900",children:["✨ ",a," skill",a!==1?"s":""," across ",d," domain",d!==1?"s":""]}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-blue-700",children:e.jsx("span",{children:"💡 Click domains to expand/collapse"})})]})}),Object.entries(c).map(([t,n])=>{const o=h.has(t),x=Object.entries(n.subdomains);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>g(t),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 text-left flex items-center justify-between transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`transform transition-transform ${o?"rotate-0":"rotate-90"}`,children:e.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t}),e.jsxs("div",{className:"text-sm text-gray-500",children:[n.totalSkills," skill",n.totalSkills!==1?"s":""," • ",x.length," subdomain",x.length!==1?"s":""]})]})]}),e.jsx("div",{className:"text-xs text-gray-400",children:o?"Click to expand":"Click to collapse"})]}),!o&&e.jsx("div",{className:"border-t border-gray-200",children:x.map(([f,y])=>e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium text-gray-700 text-sm",children:["📁 ",f]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[y.skills.length," skill",y.skills.length!==1?"s":""]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.skills.map(p=>e.jsxs("div",{className:"group relative inline-flex items-center",children:[e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800 hover:bg-indigo-200 transition-colors cursor-help",title:`${t} → ${f} → ${p.name}`,children:[e.jsx("span",{className:"mr-1",children:"🔧"}),e.jsx("span",{className:"font-medium",children:p.name})]}),e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap hidden md:block",children:[e.jsx("div",{className:"font-medium",children:t}),e.jsxs("div",{className:"text-gray-300",children:["→ ",f]}),e.jsxs("div",{className:"text-gray-300",children:["→ ",p.name]}),p.description&&e.jsx("div",{className:"text-gray-400 text-xs mt-1 max-w-xs truncate",children:p.description}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]},p.id))})]},f))})]},t)}),e.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:"💡 Tap and hold skill badges to see full hierarchy"})]})]})}):null}N.propTypes={isOpen:s.bool.isRequired,onClose:s.func.isRequired,skills:s.arrayOf(s.shape({id:s.number,name:s.string,description:s.string,subdomain:s.shape({name:s.string,domain:s.shape({name:s.string})})})).isRequired,profileName:s.string};N.defaultProps={isOpen:!1,skills:[],profileName:"Profile"};export{j as S,v as T,N as a};
