import{R as N,r as s,j as E}from"./app-DlrLkdql.js";import{u as Q,c as q}from"./dialog-C4T7sENw.js";import{p as J,o as P,K as Z,y as ee,n as te,L as ne}from"./transition-CrpKBowS.js";import{C as re}from"./check-CFw64E0p.js";import{X as oe}from"./x-CaP1GlTY.js";import{c as ie}from"./createLucideIcon-DuVmJdM5.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ae=ie("Pencil",se),O=typeof document<"u"?N.useLayoutEffect:()=>{};function ue(e){const n=s.useRef(null);return O(()=>{n.current=e},[e]),s.useCallback((...t)=>{const r=n.current;return r?.(...t)},[])}const F=e=>{var n;return(n=e?.ownerDocument)!==null&&n!==void 0?n:document},T=e=>e&&"window"in e&&e.window===e?e:F(e).defaultView||window;function le(e){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function ce(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function R(e){let n=null;return()=>(n==null&&(n=e()),n)}const de=R(function(){return ce(/^Mac/i)}),fe=R(function(){return le(/Android/i)});function pe(e){return e.mozInputSource===0&&e.isTrusted?!0:fe()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class ve{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function V(e){let n=s.useRef({isFocused:!1,observer:null});O(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=ue(r=>{e?.(r)});return s.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,i=d=>{n.current.isFocused=!1,o.disabled&&t(new ve("blur",d)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var d;(d=n.current.observer)===null||d===void 0||d.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function be(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const i=s.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),o&&o(!1),!0},[r,o]),d=V(i),a=s.useCallback(l=>{const c=F(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(t&&t(l),o&&o(!0),d(l))},[o,t,d]);return{focusProps:{onFocus:!n&&(t||o||r)?a:void 0,onBlur:!n&&(r||o)?i:void 0}}}let C=null,I=new Set,x=new Map,L=!1,B=!1;const me={Tab:!0,Escape:!0};function A(e,n){for(let t of I)t(e,n)}function ge(e){return!(e.metaKey||!de()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function H(e){L=!0,ge(e)&&(C="keyboard",A("keyboard",e))}function g(e){C="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(L=!0,A("pointer",e))}function _(e){pe(e)&&(L=!0,C="virtual")}function U(e){e.target===window||e.target===document||(!L&&!B&&(C="virtual",A("virtual",e)),L=!1,B=!1)}function G(){L=!1,B=!0}function j(e){if(typeof window>"u"||x.get(T(e)))return;const n=T(e),t=F(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){L=!0,r.apply(this,arguments)},t.addEventListener("keydown",H,!0),t.addEventListener("keyup",H,!0),t.addEventListener("click",_,!0),n.addEventListener("focus",U,!0),n.addEventListener("blur",G,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",g,!0),t.addEventListener("pointermove",g,!0),t.addEventListener("pointerup",g,!0)):(t.addEventListener("mousedown",g,!0),t.addEventListener("mousemove",g,!0),t.addEventListener("mouseup",g,!0)),n.addEventListener("beforeunload",()=>{Y(e)},{once:!0}),x.set(n,{focus:r})}const Y=(e,n)=>{const t=T(e),r=F(e);n&&r.removeEventListener("DOMContentLoaded",n),x.has(t)&&(t.HTMLElement.prototype.focus=x.get(t).focus,r.removeEventListener("keydown",H,!0),r.removeEventListener("keyup",H,!0),r.removeEventListener("click",_,!0),t.removeEventListener("focus",U,!0),t.removeEventListener("blur",G,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",g,!0),r.removeEventListener("pointermove",g,!0),r.removeEventListener("pointerup",g,!0)):(r.removeEventListener("mousedown",g,!0),r.removeEventListener("mousemove",g,!0),r.removeEventListener("mouseup",g,!0)),x.delete(t))};function $e(e){const n=F(e);let t;return n.readyState!=="loading"?j(e):(t=()=>{j(e)},n.addEventListener("DOMContentLoaded",t)),()=>Y(e,t)}typeof document<"u"&&$e();function z(){return C!=="pointer"}const he=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ee(e,n,t){var r;const o=typeof window<"u"?T(t?.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?T(t?.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?T(t?.target).HTMLElement:HTMLElement,a=typeof window<"u"?T(t?.target).KeyboardEvent:KeyboardEvent;return e=e||t?.target instanceof o&&!he.has(t==null||(r=t.target)===null||r===void 0?void 0:r.type)||t?.target instanceof i||t?.target instanceof d&&t?.target.isContentEditable,!(e&&n==="keyboard"&&t instanceof a&&!me[t.key])}function ye(e,n,t){j(),s.useEffect(()=>{let r=(o,i)=>{Ee(!!t?.isTextInput,o,i)&&e(z())};return I.add(r),()=>{I.delete(r)}},n)}function we(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=e,i=s.useRef({isFocusWithin:!1}),d=s.useCallback(c=>{i.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(i.current.isFocusWithin=!1,t&&t(c),o&&o(!1))},[t,o,i]),a=V(d),l=s.useCallback(c=>{!i.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),o&&o(!0),i.current.isFocusWithin=!0,a(c))},[r,o,a]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:d}}}let M=!1,D=0;function W(){M=!0,setTimeout(()=>{M=!1},50)}function K(e){e.pointerType==="touch"&&W()}function Te(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",K):document.addEventListener("touchend",W),D++,()=>{D--,!(D>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",K):document.removeEventListener("touchend",W))}}function Ke(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[i,d]=s.useState(!1),a=s.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;s.useEffect(Te,[]);let{hoverProps:l,triggerHoverEnd:c}=s.useMemo(()=>{let f=(u,v)=>{if(a.pointerType=v,o||v==="touch"||a.isHovered||!u.currentTarget.contains(u.target))return;a.isHovered=!0;let $=u.currentTarget;a.target=$,n&&n({type:"hoverstart",target:$,pointerType:v}),t&&t(!0),d(!0)},p=(u,v)=>{if(a.pointerType="",a.target=null,v==="touch"||!a.isHovered)return;a.isHovered=!1;let $=u.currentTarget;r&&r({type:"hoverend",target:$,pointerType:v}),t&&t(!1),d(!1)},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=u=>{M&&u.pointerType==="mouse"||f(u,u.pointerType)},m.onPointerLeave=u=>{!o&&u.currentTarget.contains(u.target)&&p(u,u.pointerType)}):(m.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=u=>{!a.ignoreEmulatedMouseEvents&&!M&&f(u,"mouse"),a.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=u=>{!o&&u.currentTarget.contains(u.target)&&p(u,"mouse")}),{hoverProps:m,triggerHoverEnd:p}},[n,t,r,o,a]);return s.useEffect(()=>{o&&c({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:l,isHovered:i}}function Ne(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=s.useRef({isFocused:!1,isFocusVisible:n||z()}),[i,d]=s.useState(!1),[a,l]=s.useState(()=>o.current.isFocused&&o.current.isFocusVisible),c=s.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),f=s.useCallback(u=>{o.current.isFocused=u,d(u),c()},[c]);ye(u=>{o.current.isFocusVisible=u,c()},[],{isTextInput:t});let{focusProps:p}=be({isDisabled:r,onFocusChange:f}),{focusWithinProps:m}=we({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:a,focusProps:r?m:p}}function Le(e){let n=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+n,bottom:e.clientY+t,left:e.clientX-n}}function xe(e,n){return!(!e||!n||e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)}function Oe({disabled:e=!1}={}){let n=s.useRef(null),[t,r]=s.useState(!1),o=J(),i=P(()=>{n.current=null,r(!1),o.dispose()}),d=P(a=>{if(o.dispose(),n.current===null){n.current=a.currentTarget,r(!0);{let l=Q(a.currentTarget);o.addEventListener(l,"pointerup",i,!1),o.addEventListener(l,"pointermove",c=>{if(n.current){let f=Le(c);r(xe(f,n.current.getBoundingClientRect()))}},!1),o.addEventListener(l,"pointercancel",i,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:d,onPointerUp:i,onClick:i}}}let Fe=s.createContext(void 0);function Ce(){return s.useContext(Fe)}function Re(e){let n=e.parentElement,t=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(t=n),n=n.parentElement;let r=n?.getAttribute("disabled")==="";return r&&ke(t)?!1:r}function ke(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}let S=s.createContext(null);S.displayName="LabelContext";function X(){let e=s.useContext(S);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,X),n}return e}function Pe(e){var n,t,r;let o=(t=(n=s.useContext(S))==null?void 0:n.value)!=null?t:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function Ve({inherit:e=!1}={}){let n=Pe(),[t,r]=s.useState([]),o=e?[n,...t].filter(Boolean):t;return[o.length>0?o.join(" "):void 0,s.useMemo(()=>function(i){let d=P(l=>(r(c=>[...c,l]),()=>r(c=>{let f=c.slice(),p=f.indexOf(l);return p!==-1&&f.splice(p,1),f}))),a=s.useMemo(()=>({register:d,slot:i.slot,name:i.name,props:i.props,value:i.value}),[d,i.slot,i.name,i.props,i.value]);return N.createElement(S.Provider,{value:a},i.children)},[r])]}let He="label";function Me(e,n){var t;let r=s.useId(),o=X(),i=Ce(),d=q(),{id:a=`headlessui-label-${r}`,htmlFor:l=i??((t=o.props)==null?void 0:t.htmlFor),passive:c=!1,...f}=e,p=ee(n);te(()=>o.register(a),[a,o.register]);let m=P(y=>{let w=y.currentTarget;if(w instanceof HTMLLabelElement&&y.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(y),w instanceof HTMLLabelElement){let b=document.getElementById(w.htmlFor);if(b){let k=b.getAttribute("disabled");if(k==="true"||k==="")return;let h=b.getAttribute("aria-disabled");if(h==="true"||h==="")return;(b instanceof HTMLInputElement&&(b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),u=d||!1,v=s.useMemo(()=>({...o.slot,disabled:u}),[o.slot,u]),$={ref:p,...o.props,id:a,htmlFor:l,onClick:m};return c&&("onClick"in $&&(delete $.htmlFor,delete $.onClick),"onClick"in f&&delete f.onClick),ne()({ourProps:$,theirProps:f,slot:v,defaultTag:l?He:"div",name:o.name||"Label"})}let Se=Z(Me),_e=Object.assign(Se,{});function Ue(e,n){return s.useMemo(()=>{var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||n?.tagName==="BUTTON"&&!n.hasAttribute("type"))return"button"},[e.type,e.as,n])}function Ge({value:e,onSave:n,className:t="",placeholder:r="Enter title...",canEdit:o=!0,disabled:i=!1,showPencilOnHover:d=!0,inputClassName:a="border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"}){const[l,c]=s.useState(!1),[f,p]=s.useState(e),[m,u]=s.useState(!1),v=s.useRef(null);s.useEffect(()=>{p(e)},[e]),s.useEffect(()=>{l&&v.current&&(v.current.focus(),v.current.select())},[l]);const $=()=>{!o||i||c(!0)},y=async()=>{if(f.trim()===e){c(!1);return}if(f.trim()===""){p(e),c(!1);return}try{await n(f.trim()),c(!1)}catch(h){p(e),c(!1),console.error("Failed to save:",h)}},w=()=>{p(e),c(!1)},b=h=>{h.key==="Enter"?(h.preventDefault(),y()):h.key==="Escape"&&(h.preventDefault(),w())},k=()=>{f.trim()!==e&&f.trim()!==""?y():w()};return l?E.jsxs("div",{className:"flex items-center space-x-2 w-full",children:[E.jsx("input",{ref:v,type:"text",value:f,onChange:h=>p(h.target.value),onBlur:k,onKeyDown:b,className:`${a} ${t} w-full min-w-0`,placeholder:r,disabled:i}),E.jsx("button",{type:"button",onClick:y,className:"p-1 text-green-600 hover:text-green-800 transition-colors",title:"Save",children:E.jsx(re,{className:"w-4 h-4"})}),E.jsx("button",{type:"button",onClick:w,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Cancel",children:E.jsx(oe,{className:"w-4 h-4"})})]}):E.jsxs("div",{className:"group flex items-center cursor-pointer max-w-full w-full",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:$,children:[E.jsx("span",{className:`${t} w-full break-words`,children:e}),o&&d&&m&&E.jsx(ae,{className:"w-4 h-4 ml-2 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]})}export{Ne as $,Ge as I,Ve as K,X as P,_e as Q,Ke as a,Pe as b,Ue as e,Re as r,Ce as u,Oe as w};
