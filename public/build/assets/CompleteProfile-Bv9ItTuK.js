import{W as f,r as _,j as e,Y as N}from"./app-CMy8VBjM.js";import{G as b}from"./GuestLayout-NpAgLbOa.js";import{I as d,T as h}from"./TextInput-5RuJ0x16.js";import{I as n}from"./InputLabel-B2EzjuRM.js";import{P as F}from"./PrimaryButton-D5-mTGQ4.js";function k({universities:o,faculties:x}){const{data:s,setData:a,post:j,processing:v,errors:l,reset:y}=f({full_name:"",university:"",role:"",industry:"",faculty:"",current_postgraduate_status:"",current_undergraduate_status:""}),[i,c]=_.useState(s.university),m=x.filter(t=>t.university_id===parseInt(i)),g=t=>{const r=t.target.value;a(u=>({...u,current_postgraduate_status:u.role==="Postgraduate"?r:u.current_postgraduate_status,current_undergraduate_status:u.role==="Undergraduate"?r:u.current_undergraduate_status,university:r==="Registered"?u.university:"",faculty:r==="Registered"?u.faculty:""}))},p=t=>{t.preventDefault(),j(route("profile.complete"),{onFinish:()=>y("full_name","university","role","industry","faculty")})};return e.jsxs(b,{children:[e.jsx(N,{title:"Register"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"role",value:"Role"}),e.jsxs("select",{id:"role",name:"role",className:"mt-1 w-full border rounded-md p-2",value:s.role,onChange:t=>a("role",t.target.value),required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select your Role"}),e.jsx("option",{value:"Academician",children:"Academician"}),e.jsx("option",{value:"Postgraduate",children:"Postgraduate"}),e.jsx("option",{value:"Undergraduate",children:"Undergraduate"})]}),e.jsx(d,{message:l.role,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"full_name",value:"Full Name"}),e.jsx(h,{id:"full_name",name:"full_name",value:s.full_name,className:"mt-1 block w-full",autoComplete:"full_name",isFocused:!0,onChange:t=>a("full_name",t.target.value),required:!0}),e.jsx(d,{message:l.full_name,className:"mt-2"})]}),s.role!=="Industry"?e.jsxs(e.Fragment,{children:[s.role==="Postgraduate"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"current_postgraduate_status",className:"mt-1 block text-sm font-medium text-gray-700",children:"Current Postgraduate Status"}),e.jsxs("select",{id:"current_postgraduate_status",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:s.current_postgraduate_status,onChange:g,children:[e.jsx("option",{value:"",hidden:!0,children:"Select your current postgraduate status"}),e.jsx("option",{value:"Not registered yet",children:"Not registered yet"}),e.jsx("option",{value:"Registered",children:"Registered"})]})]})}),s.role==="Undergraduate"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"current_undergraduate_status",className:"mt-1 block text-sm font-medium text-gray-700",children:"Current Undergraduate Status"}),e.jsxs("select",{id:"current_undergraduate_status",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:s.current_undergraduate_status,onChange:g,children:[e.jsx("option",{value:"",hidden:!0,children:"Select your current undergraduate status"}),e.jsx("option",{value:"Not registered yet",children:"Not registered yet"}),e.jsx("option",{value:"Registered",children:"Registered"})]})]})}),(s.role==="Postgraduate"||s.role==="Undergraduate")&&(s.current_postgraduate_status==="Registered"||s.current_undergraduate_status==="Registered")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"university",value:"University",required:!0}),e.jsxs("select",{id:"university",className:"mt-1 block w-full border rounded-md p-2",value:i||"",onChange:t=>{const r=t.target.value;c(r),a("university",r)},children:[e.jsx("option",{value:"",hidden:!0,children:"Select your University"}),o.map(t=>e.jsx("option",{value:t.id,children:t.full_name},t.id))]}),e.jsx(d,{className:"mt-2",message:l.university})]}),i&&e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"faculty",value:"Faculty",required:!0}),e.jsxs("select",{id:"faculty",className:"mt-1 block w-full border rounded-md p-2",value:s.faculty||"",onChange:t=>a("faculty",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select your Faculty"}),m.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(d,{className:"mt-2",message:l.faculty})]})]}),s.role==="Academician"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"university",value:"University",required:!0}),e.jsxs("select",{id:"university",className:"mt-1 block w-full border rounded-md p-2",value:i||"",onChange:t=>{const r=t.target.value;c(r),a("university",r)},children:[e.jsx("option",{value:"",hidden:!0,children:"Select your University"}),o.map(t=>e.jsx("option",{value:t.id,children:t.full_name},t.id))]}),e.jsx(d,{className:"mt-2",message:l.university})]}),i&&e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{htmlFor:"faculty",value:"Faculty",required:!0}),e.jsxs("select",{id:"faculty",className:"mt-1 block w-full border rounded-md p-2",value:s.faculty||"",onChange:t=>a("faculty",t.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select your Faculty"}),m.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),s.role==="Academician"&&e.jsx("p",{className:"mt-2 text-red-500 text-sm",children:"*Select carefully as it is not allowed to change after this"}),e.jsx(d,{className:"mt-2",message:l.faculty})]})]})]}):e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx(n,{htmlFor:"industry",value:"Industry"}),e.jsx(h,{id:"industry",type:"text",name:"industry",value:s.industry,className:"mt-1 block w-full",autoComplete:"industry",onChange:t=>a("industry",t.target.value),required:!0}),e.jsx(d,{message:l.industry,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(F,{className:"ms-4",disabled:v,children:"Complete Profile"})})]})]})}export{k as default};
