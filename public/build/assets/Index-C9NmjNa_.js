import{W as g,j as e,r as x,b as f,y as N}from"./app-CFe6YF8m.js";import{c as b,M as y}from"./MainLayout-BbF54fhh.js";import{T as v,I as u}from"./TextInput-3rjsgQK_.js";import{I as h}from"./InputLabel-CRyW8GhE.js";import{P as m}from"./PrimaryButton-iSogxTTj.js";import{S as w}from"./SecondaryButton-rABxCiHx.js";import{P as p,T as k,C}from"./ConfirmationModal-B46nD_Xi.js";import{C as D}from"./clock-hYPqNk0F.js";import"./index-PS_vVtmW.js";import"./useRoles-NsC1w0jO.js";import"./analytics-BQ374C1C.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],j=b("Users",W);function M({isOpen:a,onClose:i}){const{data:r,setData:t,post:l,processing:n,errors:d,reset:s}=g({name:"",description:""}),o=c=>{c.preventDefault(),l(route("project-hub.workspaces.store"),{onSuccess:()=>{s(),i()}})};return a?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:i}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative z-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Workspace"}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(h,{htmlFor:"name",value:"Workspace Name"}),e.jsx(v,{id:"name",type:"text",className:"mt-1 block w-full",value:r.name,onChange:c=>t("name",c.target.value),required:!0}),e.jsx(u,{message:d.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(h,{htmlFor:"description",value:"Description (Optional)"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:r.description,onChange:c=>t("description",c.target.value),rows:"3"}),e.jsx(u,{message:d.description,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(w,{onClick:i,disabled:n,children:"Cancel"}),e.jsx(m,{type:"submit",disabled:n,children:n?"Creating...":"Create Workspace"})]})]})]})]}):null}function S({workspaces:a}){const[i,r]=x.useState(!1),[t,l]=x.useState(null),n=(s,o)=>{s.preventDefault(),s.stopPropagation(),l(o)},d=()=>{t&&N.delete(route("workspaces.destroy",t.id),{onSuccess:()=>{l(null)}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 pl-2",children:"Your Workspaces"}),e.jsxs(m,{onClick:()=>r(!0),children:[e.jsx(p,{className:"w-4 h-4 mr-2"})," New Workspace"]})]}),a.data.length===0?e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"mx-auto bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center",children:e.jsx(j,{className:"w-8 h-8 text-gray-500"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workspaces yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first workspace to start organizing your projects."}),e.jsxs(m,{onClick:()=>r(!0),children:[e.jsx(p,{className:"w-4 h-4 mr-2"})," Create Workspace"]})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.data.map(s=>e.jsxs("div",{className:"relative bg-white shadow rounded-lg hover:shadow-md transition-shadow duration-200",children:[e.jsxs(f,{href:route("project-hub.workspaces.show",s.id),className:"block p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.name}),s.description&&e.jsx("p",{className:"text-gray-500 text-sm mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-3",children:[e.jsxs("div",{className:"flex items-center mr-4",children:[e.jsx(j,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Owner: ",s.owner.name]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString()})]})]})]}),e.jsx("button",{onClick:o=>n(o,s),className:"absolute top-2 right-2 p-1.5 text-gray-400 hover:text-red-500 hover:bg-gray-100 rounded-full",title:"Delete workspace",children:e.jsx(k,{className:"w-4 h-4"})})]},s.id))}),e.jsx(M,{isOpen:i,onClose:()=>r(!1)}),e.jsx(C,{show:!!t,onClose:()=>l(null),onConfirm:d,title:"Delete Workspace",message:t?`Are you sure you want to delete the workspace "${t.name}"? This action cannot be undone and will delete all boards and tasks within this workspace.`:""})]})}S.layout=a=>e.jsx(y,{title:"Project Hub",children:a,TopMenuOpen:!1});export{S as default};
