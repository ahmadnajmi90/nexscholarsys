import{j as e,r as o,q as E,b as i,y as ie,Y as q}from"./app-CyHn8jz7.js";import{c as M}from"./createLucideIcon-CJlhkAPh.js";import{U as $}from"./users-C3swvLZ9.js";import{F as L}from"./folder-open-DT3EfcHC.js";import{u as X}from"./useRoles-opXSyXzY.js";import{C as K}from"./chevron-left-BPhMUtDd.js";import{M as le,i as ce,u as Q,P as de,a as he,b as ue,L as xe,m as u,G as T,B as Y}from"./proxy-D8q2-Yul.js";import{D,U as me}from"./user-Db3WYfMi.js";import{C as V}from"./calendar-COAxaN6F.js";import{F as O}from"./file-text-CUi7A64s.js";import{B as J}from"./building-GFsNsSds.js";import{S as U}from"./sparkles-CTuwfR9U.js";import{S as ee}from"./shield-DAdOLPT8.js";import{z as ge}from"./transition-CfYqco4O.js";import{t as fe}from"./analytics-BQ374C1C.js";import{O as pe}from"./index-BA_LhuNS.js";import{M as be}from"./Modal-yEy44lhL.js";import{B as ye}from"./briefcase-fdwN5xF9.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]],te=M("BookUser",ve);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],re=M("Bookmark",je);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ne=M("Bot",we);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Ce=M("Calendar1",ke);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W=M("ClipboardList",Me);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],se=M("Database",Se);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],I=M("House",Pe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ae=M("LayoutGrid",Ae);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],ne=M("Library",_e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],B=M("LogOut",$e);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F=M("Settings",Fe);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],H=M("UserRound",Le);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ee=M("Zap",ze),De=({activeSection:n,onSectionChange:l})=>{const r=[{id:"dashboard",icon:I,label:"Dashboard"},{id:"features",icon:Ee,label:"Features"},{id:"networking",icon:$,label:"Networking"},{id:"content",icon:L,label:"Content"},{id:"settings",icon:F,label:"Settings"}];return e.jsx("div",{className:"fixed left-0 top-0 h-full w-16 bg-indigo-700 z-20",children:e.jsxs("div",{className:"flex flex-col items-center py-4 space-y-4",children:[e.jsx("a",{href:route("welcome"),className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mb-4",children:e.jsx("img",{src:"/images/logo.png",alt:"Nexscholar Logo",className:"w-10 h-10 bg-white rounded-lg object-contain shadow-lg p-1"})}),r.map(a=>{const m=a.icon,x=n===a.id;return e.jsxs("button",{onClick:()=>l(a.id),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 group relative ${x?"bg-white bg-opacity-20 text-white":"text-white hover:bg-white hover:bg-opacity-20"}`,title:a.label,children:[e.jsx(m,{className:"w-5 h-5"}),e.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:a.label})]},a.id)})]})})};class Ie extends o.Component{getSnapshotBeforeUpdate(l){const r=this.props.childRef.current;if(r&&l.isPresent&&!this.props.isPresent){const a=r.offsetParent,m=ce(a)&&a.offsetWidth||0,x=this.props.sizeRef.current;x.height=r.offsetHeight||0,x.width=r.offsetWidth||0,x.top=r.offsetTop,x.left=r.offsetLeft,x.right=m-x.width-x.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Re({children:n,isPresent:l,anchorX:r}){const a=o.useId(),m=o.useRef(null),x=o.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=o.useContext(le);return o.useInsertionEffect(()=>{const{width:N,height:f,top:k,left:p,right:b}=x.current;if(l||!m.current||!N||!f)return;const y=r==="left"?`left: ${p}`:`right: ${b}`;m.current.dataset.motionPopId=a;const j=document.createElement("style");return g&&(j.nonce=g),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${N}px !important;
            height: ${f}px !important;
            ${y}px !important;
            top: ${k}px !important;
          }
        `),()=>{document.head.contains(j)&&document.head.removeChild(j)}},[l]),e.jsx(Ie,{isPresent:l,childRef:m,sizeRef:x,children:o.cloneElement(n,{ref:m})})}const Ve=({children:n,initial:l,isPresent:r,onExitComplete:a,custom:m,presenceAffectsLayout:x,mode:g,anchorX:N})=>{const f=Q(Oe),k=o.useId();let p=!0,b=o.useMemo(()=>(p=!1,{id:k,initial:l,isPresent:r,custom:m,onExitComplete:y=>{f.set(y,!0);for(const j of f.values())if(!j)return;a&&a()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[r,f,a]);return x&&p&&(b={...b}),o.useMemo(()=>{f.forEach((y,j)=>f.set(j,!1))},[r]),o.useEffect(()=>{!r&&!f.size&&a&&a()},[r]),g==="popLayout"&&(n=e.jsx(Re,{isPresent:r,anchorX:N,children:n})),e.jsx(de.Provider,{value:b,children:n})};function Oe(){return new Map}const R=n=>n.key||"";function Z(n){const l=[];return o.Children.forEach(n,r=>{o.isValidElement(r)&&l.push(r)}),l}const Te=({children:n,custom:l,initial:r=!0,onExitComplete:a,presenceAffectsLayout:m=!0,mode:x="sync",propagate:g=!1,anchorX:N="left"})=>{const[f,k]=he(g),p=o.useMemo(()=>Z(n),[n]),b=g&&!f?[]:p.map(R),y=o.useRef(!0),j=o.useRef(p),v=Q(()=>new Map),[c,w]=o.useState(p),[t,d]=o.useState(p);ue(()=>{y.current=!1,j.current=p;for(let C=0;C<t.length;C++){const h=R(t[C]);b.includes(h)?v.delete(h):v.get(h)!==!0&&v.set(h,!1)}},[t,b.length,b.join("-")]);const s=[];if(p!==c){let C=[...p];for(let h=0;h<t.length;h++){const P=t[h],_=R(P);b.includes(_)||(C.splice(h,0,P),s.push(P))}return x==="wait"&&s.length&&(C=s),d(Z(C)),w(p),null}const{forceRender:S}=o.useContext(xe);return e.jsx(e.Fragment,{children:t.map(C=>{const h=R(C),P=g&&!f?!1:p===t||b.includes(h),_=()=>{if(v.has(h))v.set(h,!0);else return;let z=!0;v.forEach(oe=>{oe||(z=!1)}),z&&(S==null||S(),d(j.current),g&&(k==null||k()),a&&a())};return e.jsx(Ve,{isPresent:P,initial:!y.current||r?void 0:!1,custom:l,presenceAffectsLayout:m,mode:x,onExitComplete:P?void 0:_,anchorX:N,children:C},h)})})},Ue=({activeSection:n,isOpen:l,onToggleSidebar:r})=>{const{isAdmin:a,isPostgraduate:m,isUndergraduate:x,isFacultyAdmin:g,isAcademician:N,canPostEvents:f,canPostProjects:k,canPostGrants:p,canCreateFacultyAdmin:b,canAssignAbilities:y}=X(),{auth:j,pendingRequestCount:v}=E().props,c=j.user,w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},d=()=>{switch(n){case"dashboard":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("dashboard"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(I,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Dashboard"})]})}),a&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("roles.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(F,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Roles & Permissions"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("faculty-admins.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(Y,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Faculty Admin"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("admin.profiles.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx($,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Profile Management"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("admin.data-management.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(se,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Data Management"})]})})]}),g&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("faculty-admin.academicians"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(ee,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Verify Academicians"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("faculty-admin.directory"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx($,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Academicians Directory"})]})})]})]});case"features":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("ai.matching.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(Ne,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"AI Matching"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("postgraduate-recommendations.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(U,{className:"w-5 h-5 text-gray-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Postgraduate Recommendations"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("bookmarks.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(re,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"My Bookmarks"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("project-hub.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(ae,{className:"w-5 h-5 text-gray-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Scholar Lab"})]})})]});case"networking":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("connections.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center relative",children:[e.jsx($,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"My Network"}),v>0&&e.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:v})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/postgraduates",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(T,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Postgraduate"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/undergraduates",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(te,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Undergraduate"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/academicians",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(ne,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Academician"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/universities",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(J,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"University"})]})})]});case"content":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/funding",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(D,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Funding"})]})}),p&&e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("funding.admin.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(D,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Funding"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/projects",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(L,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Project"})]})}),k&&e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("post-projects.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(L,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Projects"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/events",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(V,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Event"})]})}),f&&e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("post-events.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(V,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Event"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:"/posts",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(O,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"View Post"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("create-posts.index"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(O,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Manage Post"})]})})]});case"settings":return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("profile.edit"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(F,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"General Account Setting"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("role.edit"),className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center",children:[e.jsx(H,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Personal Information"})]})}),e.jsx(u.div,{variants:t,children:e.jsxs(i,{href:route("logout"),method:"post",as:"button",className:"bg-white bg-opacity-80 backdrop-blur-sm border border-white border-opacity-50 shadow-lg p-3 rounded-lg cursor-pointer hover:bg-opacity-90 transition-all duration-300 hover:scale-110 hover:shadow-xl hover:rotate-1 flex flex-col items-center justify-center text-center w-full",children:[e.jsx(B,{className:"text-gray-600 mb-2 w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate w-full",children:"Log Out"})]})})]});default:return null}},s=()=>{switch(n){case"dashboard":return"Dashboard";case"features":return"Features";case"networking":return"Networking";case"content":return"Content";case"settings":return"Settings";default:return"Navigation"}},S=()=>{switch(n){case"dashboard":return"Access your main dashboard and administrative tools.";case"features":return"Explore AI-powered features and academic tools.";case"networking":return"Connect with other academics and researchers.";case"content":return"Manage your content, grants, projects, and events.";case"settings":return"Update your profile and account settings.";default:return"Navigate through different sections of the platform."}};return l?e.jsx("div",{className:"fixed left-16 top-0 h-full w-64 bg-gray-100 z-10",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 bg-gray-100",children:[e.jsx("a",{href:route("welcome"),className:"text-lg font-semibold text-indigo-700",children:"Nexscholar"}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(K,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"p-4 bg-gray-100 border-b border-gray-200",children:c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-1 border-white shadow-lg",children:e.jsx("img",{src:c.academician?c.academician.profile_picture?`/storage/${c.academician.profile_picture}`:"/storage/profile_pictures/default.jpg":c.postgraduate?c.postgraduate.profile_picture?`/storage/${c.postgraduate.profile_picture}`:"/storage/profile_pictures/default.jpg":c.undergraduate&&c.undergraduate.profile_picture?`/storage/${c.undergraduate.profile_picture}`:"/storage/profile_pictures/default.jpg",alt:"Profile",className:"w-full h-full object-cover rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:c.academician?c.academician.full_name:c.postgraduate?c.postgraduate.full_name:c.undergraduate?c.undergraduate.full_name:a?"Admin":g?c.full_name:"User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:c.email}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:a?"Administrator":g?"Faculty Admin":N?"Academician":m?"Postgraduate":x?"Undergraduate":"User"})]})]}),N&&c.academician&&c.academician.total_publications!==0&&c.academician.scholar_profile!==null&&e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg py-2 pr-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:c.academician.total_publications}),e.jsx("div",{className:"text-xs text-gray-500",children:"Publications"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:c.academician.scholar_profile.total_citations}),e.jsx("div",{className:"text-xs text-gray-500",children:"Citations"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:c.academician.scholar_profile.h_index}),e.jsx("div",{className:"text-xs text-gray-500",children:"h-index"})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx(u.h3,{className:"text-sm font-medium text-gray-700 mb-4",variants:t,children:s()}),e.jsx(u.div,{className:"grid grid-cols-2 gap-3",variants:w,initial:"hidden",animate:"visible",children:d()},n)]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx("div",{className:"bg-white bg-opacity-60 backdrop-blur-sm rounded-lg p-3 border border-white border-opacity-50",children:e.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:S()})})})]})}):null},Be=({isOpen:n,toggleSidebar:l})=>{const{isAdmin:r,isPostgraduate:a,isUndergraduate:m,isFacultyAdmin:x,isAcademician:g,canPostEvents:N,canPostProjects:f,canPostGrants:k,canCreateFacultyAdmin:p,canAssignAbilities:b}=X(),{auth:y,pendingRequestCount:j}=E().props,[v,c]=o.useState(["main"]),w=v[v.length-1],t={main:{title:"NexScholar",items:[{id:"dashboard",label:"Dashboard",icon:I},{id:"features",label:"Features",icon:U},{id:"networking",label:"Networking",icon:$},{id:"manage",label:"Manage",icon:L},{id:"survey",label:"Survey",icon:W},{id:"settings",label:"Settings",icon:F}]},dashboard:{title:"Dashboard",items:[{label:"Dashboard Overview",href:route("dashboard"),icon:I},...x?[{label:"Verify Academicians",href:route("faculty-admin.academicians"),icon:ee},{label:"Academicians Directory",href:route("faculty-admin.directory"),icon:$}]:[],...r?[{label:"Faculty Admin",href:route("faculty-admins.index"),icon:Y},{label:"Roles & Permissions",href:route("roles.index"),icon:F},{label:"Profile Management",href:route("admin.profiles.index"),icon:$},{label:"Data Management",href:route("admin.data-management.index"),icon:se}]:[]]},features:{title:"Features",items:[{label:"AI Matching",href:route("ai.matching.index"),icon:U},{label:"Postgraduate Recommendations",href:route("postgraduate-recommendations.index"),icon:T},{label:"My Bookmarks",href:route("bookmarks.index"),icon:re},{label:"Scholar Lab",href:route("project-hub.index"),icon:ae}]},networking:{title:"Networking",items:[{label:"My Network",href:route("connections.index"),icon:$,badge:j},{label:"Postgraduate",href:"/postgraduates",icon:T},{label:"Undergraduate",href:"/undergraduates",icon:te},{label:"Academician",href:"/academicians",icon:ne},{label:"University",href:"/universities",icon:J}]},manage:{title:"Manage",items:[{label:"View Funding",href:"/funding",icon:D},...k?[{label:"Manage Funding",href:route("funding.admin.index"),icon:D}]:[],{label:"View Project",href:"/projects",icon:L},...f?[{label:"Manage Project",href:route("post-projects.index"),icon:L}]:[],{label:"View Event",href:"/events",icon:V},...N?[{label:"Manage Event",href:route("post-events.index"),icon:V}]:[],{label:"View Post",href:"/posts",icon:O},{label:"Manage Post",href:route("create-posts.index"),icon:O}]},survey:{title:"Survey",items:[{label:"Free Survey",href:"https://docs.google.com/forms/d/e/1FAIpQLSdPX9CXPOAZLedNsqA9iyMs5ZkAOACol4_wBVN2LPdxbnsJeg/viewform",icon:W,external:!0}]},settings:{title:"Settings",items:[{label:"General Account Setting",href:route("profile.edit"),icon:F},{label:"Personal Information",href:route("role.edit"),icon:H},{label:"Log Out",href:route("logout"),method:"post",as:"button",icon:B}]}},d=h=>{c([...v,h])},s=()=>{c(v.slice(0,-1))},S={enter:h=>({x:h>0?"100%":"-100%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:h=>({zIndex:0,x:h<0?"100%":"-100%",opacity:0})},C=t[w];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed top-0 left-0 h-full w-64 shadow-lg z-50 transform transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full"} ${w==="main"?"bg-indigo-700":"bg-white"}`,children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:`flex items-center p-4 border-b ${w==="main"?"bg-indigo-800 border-indigo-600":"bg-gray-50 border-gray-200"}`,children:[w!=="main"&&e.jsx("button",{onClick:s,className:`p-2 mr-2 rounded-md transition-colors ${w==="main"?"hover:bg-indigo-600 text-white":"hover:bg-gray-200 text-gray-700"}`,children:e.jsx(K,{className:"w-5 h-5"})}),e.jsx("h3",{className:`text-lg font-semibold ${w==="main"?"text-white ml-2":"text-gray-800"}`,children:C.title})]}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:e.jsx(Te,{initial:!1,children:e.jsx(u.div,{custom:1,variants:S,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute inset-0",children:e.jsx("nav",{className:"h-full overflow-y-auto p-4 space-y-1",children:C.items.map((h,P)=>{const _=h.icon;if(h.href){const z=e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors ${w==="main"?"hover:bg-indigo-600":"hover:bg-gray-100"}`,children:[e.jsxs("span",{className:`flex items-center ${w==="main"?"text-white":"text-gray-700"}`,children:[_&&e.jsx(_,{className:`w-5 h-5 mr-3 ${w==="main"?"text-indigo-200":"text-gray-600"}`}),h.label]}),h.badge>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:h.badge})]});return h.external?e.jsx("a",{href:h.href,target:"_blank",rel:"noopener noreferrer",className:"block",children:z},P):e.jsx(i,{href:h.href,method:h.method,as:h.as||"a",className:"block",children:z},P)}else return e.jsxs("button",{onClick:()=>d(h.id),className:`w-full flex items-center p-3 rounded-lg transition-colors text-left ${w==="main"?"hover:bg-indigo-600":"hover:bg-gray-100"}`,children:[_&&e.jsx(_,{className:`w-5 h-5 mr-3 ${w==="main"?"text-indigo-200":"text-gray-600"}`}),e.jsx("span",{className:w==="main"?"text-white":"text-gray-700",children:h.label})]},P)})})},w)})})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:l})]})},He=({profilePicture:n})=>e.jsx("nav",{className:"border-b border-gray-200 px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between mx-auto",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(i,{href:route("profile.edit"),className:"text-gray-700 hover:text-blue-600 font-medium",children:"My Account"}),e.jsx(i,{href:route("role.edit"),className:"text-gray-700 hover:text-blue-600 font-medium",children:"Profile"})]}),e.jsx("div",{className:"flex items-center space-x-4"})]})}),G=o.createContext(),A=({children:n})=>{const[l,r]=o.useState(!1),a=()=>{r(m=>!m)};return e.jsx(G.Provider,{value:{open:l,setOpen:r,toggleOpen:a},children:e.jsx("div",{className:"relative",children:n})})},Ge=({children:n})=>{const{open:l,setOpen:r,toggleOpen:a}=o.useContext(G);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,children:n}),l&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})},qe=({align:n="right",width:l="48",contentClasses:r="py-1 bg-white",children:a})=>{const{open:m,setOpen:x}=o.useContext(G);let g="origin-top";n==="left"?g="ltr:origin-top-left rtl:origin-top-right start-0":n==="right"&&(g="ltr:origin-top-right rtl:origin-top-left end-0");let N="";return l==="48"&&(N="w-48"),e.jsx(e.Fragment,{children:e.jsx(ge,{show:m,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${g} ${N}`,onClick:()=>x(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+r,children:a})})})})},We=({className:n="",children:l,...r})=>e.jsx(i,{...r,className:"flex items-center w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+n,children:l});A.Trigger=Ge;A.Content=qe;A.Link=We;function Ze({show:n,onClose:l}){E().props;const[r,a]=o.useState("terms"),[m,x]=o.useState(""),[g,N]=o.useState(""),[f,k]=o.useState(!1),[p,b]=o.useState(!1);o.useEffect(()=>{if(n){const v=r==="terms"?m:g,c=r==="terms"?"api.legal.terms":"api.legal.privacy",w=r==="terms"?x:N;v||(k(!0),window.axios.get(route(c)).then(t=>{w(t.data.content)}).catch(t=>console.error(`Failed to fetch ${r} content`,t)).finally(()=>k(!1)))}},[n,r]);const y=v=>v?v.replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">$1</h1>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold text-gray-900 mt-4 mb-4">$1</h2>').replace(/^### (.*$)/gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">$1</h3>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-indigo-600 hover:text-indigo-800 underline">$1</a>').replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="italic">$1</em>').replace(/(<h[1-3][^>]*>.*?<\/h[1-3]>)\s*\n/g,"$1").replace(/\n(?=## )/g,"").replace(/\n(?=### )/g,"").replace(/\n(?=# )/g,"").replace(/\n/g,"<br />"):"",j=async()=>{b(!0);try{await window.axios.post(route("user.agree-to-terms")),window.location.reload()}catch(v){console.error("Failed to agree to terms:",v),b(!1)}};return e.jsx(be,{show:n,maxWidth:"2xl",children:e.jsxs("div",{className:"p-6 flex flex-col h-full",children:[e.jsx("div",{className:"flex justify-between items-center pb-3 flex-shrink-0",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Terms Agreement Required"})}),e.jsx("div",{className:"flex justify-center flex-shrink-0 mb-4",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm text-amber-800",children:"You must agree to our updated terms to continue using the platform"})]})}),e.jsx("div",{className:"prose max-w-none flex-grow overflow-y-auto max-h-[50vh]",children:f?e.jsx("p",{children:"Loading..."}):e.jsx("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:y(r==="terms"?m:g)}})}),e.jsx("div",{className:"mt-6 flex justify-center flex-shrink-0",children:e.jsxs("nav",{className:"flex space-x-2 bg-gray-50 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>a("terms"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${r==="terms"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Terms of Use"}),e.jsx("button",{onClick:()=>a("privacy"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${r==="privacy"?"bg-white text-gray-900 shadow":"text-gray-600 hover:bg-white"}`,children:"Privacy Policy"})]})}),e.jsx("div",{className:"mt-6 flex justify-center flex-shrink-0",children:e.jsx("button",{onClick:j,disabled:p,className:`px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200 ${p?"opacity-50 cursor-not-allowed":""}`,children:p?"Agreeing...":"I Have Read and Agree"})})]})})}const xt=({children:n,title:l,TopMenuOpen:r})=>{const[a,m]=o.useState(!1),[x,g]=o.useState(!1),[N,f]=o.useState("dashboard"),[k,p]=o.useState(!1),{url:b}=E(),{auth:y}=E().props,j=d=>{const s=d.academician||d.postgraduate||d.undergraduate;return s!=null&&s.profile_picture?`/storage/${s.profile_picture}`:"/storage/profile_pictures/default.jpg"},v=d=>{const s=d.toLowerCase();return s.includes("/dashboard")?"dashboard":s.includes("/ai-matching")||s.includes("/postgraduate-recommendations")||s.includes("/bookmarks")||s.includes("/project-hub")?"features":s.includes("/connections")||s.includes("/postgraduates")||s.includes("/undergraduates")||s.includes("/academicians")||s.includes("/universities")?"networking":s.includes("/funding")||s.includes("/funding.admin")||s.includes("/projects")||s.includes("/post-projects")||s.includes("/events")||s.includes("/post-events")||s.includes("/posts")||s.includes("/create-posts")?"content":s.includes("/admin/roles")||s.includes("/admin/faculty-admins")||s.includes("/admin/profiles")||s.includes("/admin/data-management")||s.includes("/faculty-admin/")?"dashboard":s.includes("/profile")||s.includes("/role")?"settings":"dashboard"},c=()=>{const d=!a;m(d),localStorage.setItem("isSidebarOpen",d)},w=d=>{f(d),a||(m(!0),localStorage.setItem("isSidebarOpen","true"))};o.useEffect(()=>{const d=v(b);f(d)},[b]),o.useEffect(()=>{setTimeout(()=>{let d=l;if(d===void 0&&(d=document.title,d==="Nexscholar"||d.endsWith("- Nexscholar"))){const s=b.split("/").filter(Boolean);s.length>0&&(d=s[s.length-1].split("-").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "))}fe(b,d)},250)},[b,l]),o.useEffect(()=>{const d=()=>{const s=window.innerWidth>=1024;if(g(s),s){const S=localStorage.getItem("isSidebarOpen");m(S!==null?S==="true":!0)}else m(!1)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),o.useEffect(()=>{const d=()=>{window.innerWidth>=1024||m(!1)};return ie.on("start",d)},[]),o.useEffect(()=>{y!=null&&y.user&&y.user.agreed_to_terms===!1&&p(!0)},[y]);const t=d=>b.startsWith(d);return e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[e.jsx(pe,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#22c55e",color:"#fff"}},error:{duration:4e3,style:{background:"#ef4444",color:"#fff"}}}}),x&&e.jsxs(e.Fragment,{children:[e.jsx(De,{activeSection:N,onSectionChange:w}),e.jsx(Ue,{activeSection:N,isOpen:a,onToggleSidebar:c})]}),!x&&e.jsx(Be,{isOpen:a,toggleSidebar:c}),x?e.jsxs("div",{className:`flex-1 transition-all duration-300 ${a?"ml-80":"ml-16"}`,children:[r&&e.jsx(He,{}),e.jsx(q,{title:l}),e.jsxs("div",{className:`${l?"p-4":"px-4 py-2"} bg-white shadow min-h-screen`,children:[l&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:l}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(A,{children:[e.jsx(A.Trigger,{children:e.jsx("img",{src:j(y.user),alt:"Profile",className:"h-10 w-10 rounded-full object-cover cursor-pointer hover:ring-2 hover:ring-indigo-400 transition"})}),e.jsxs(A.Content,{align:"right",width:"48",children:[e.jsxs("div",{className:"px-4 py-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-900 truncate",children:y.user.full_name}),e.jsx("span",{className:"block text-sm text-gray-500 truncate",children:y.user.email})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs(A.Link,{href:route("profile.edit"),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"General Account Setting"]}),e.jsxs(A.Link,{href:route("role.edit"),children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Personal Information"]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs(A.Link,{href:route("logout"),method:"post",as:"button",className:"w-full text-left text-red-600 hover:bg-red-50",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})})]}),e.jsx("div",{className:"border-b border-gray-200 -mx-4"})]}),n]})]}):e.jsxs("div",{children:[e.jsx(q,{title:l}),e.jsxs("div",{className:"pb-20",children:[e.jsx("button",{className:"fixed top-4 right-4 z-50 bg-blue-600 text-white p-3 rounded-md shadow-md lg:hidden",onClick:c,children:a?"✕":"☰"}),n]}),e.jsx("div",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 rounded-t-3xl shadow-lg",children:e.jsxs("div",{className:"flex justify-around items-center relative py-3",children:[e.jsxs(i,{href:"/events",className:`flex flex-col items-center ${t("/event")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(Ce,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Event"})]}),e.jsxs(i,{href:"/projects",className:`flex flex-col items-center ${t("/project")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(ye,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Project"})]}),e.jsx("div",{className:"absolute -top-6 w-14 h-14 flex items-center justify-center bg-blue-500 rounded-full shadow-lg border-4 border-white",children:e.jsx(i,{href:"/dashboard",children:e.jsx(I,{className:"w-7 h-7 stroke-white stroke-[1.5]"})})}),e.jsxs(i,{href:"/funding",className:`flex flex-col items-center ${t("/funding")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(D,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Funding"})]}),e.jsxs(i,{href:"/role",className:`flex flex-col items-center ${t("/role")?"text-blue-500":"text-gray-500"}`,children:[e.jsx(me,{className:"w-6 h-6 stroke-current"}),e.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})})]}),e.jsx(Ze,{show:k})]})};export{W as C,ae as L,xt as M};
