import{q as j,r as h,j as e,Y as y,a as g}from"./app-rYbU358d.js";import{M as v}from"./MainLayout-BNmRX-8r.js";import R from"./AcademicianTable-BpoIiwsy.js";import N from"./PostgraduateTable-ClK6ozuQ.js";import S from"./UndergraduateTable-DaTqtLGE.js";import"./createLucideIcon-CM0hSFdW.js";import"./users-BuJjez-k.js";import"./folder-open-CyoBANYE.js";import"./useRoles-Y6rBB0LM.js";import"./chevron-left-T1e-ldnD.js";import"./proxy-DSN9Mm5G.js";import"./user-BzdKyGbP.js";import"./calendar-CECQpE5j.js";import"./file-text-DoMWmR31.js";import"./building-D8-EkRDn.js";import"./sparkles-DvBlgA-V.js";import"./shield-BSA4YE5o.js";import"./transition-B_nYpjLS.js";import"./analytics-BQ374C1C.js";import"./index-BKxsboN1.js";import"./Modal-lm5BdYHy.js";import"./dialog-CaSIdBKT.js";import"./briefcase-FLWxRI-E.js";import"./index-C0FhJrPG.js";import"./iconBase-BUZ6SdHx.js";const X=({academicians:s,postgraduates:o,undergraduates:i,universities:d,faculties:m,researchOptions:c})=>{const{url:b}=j(),u=()=>{const r=new URLSearchParams(window.location.search);return r.has("academicians_page")?"academicians":r.has("postgraduates_page")?"postgraduates":r.has("undergraduates_page")?"undergraduates":"academicians"},[n,x]=h.useState(u);h.useEffect(()=>{x(u())},[b]);const l=async(r,t)=>{try{return(await g.post(route("admin.profiles.reminder"),{userId:r,role:t})).data}catch(a){throw console.error("Error sending reminder:",a),a}},p=async(r,t)=>{try{return(await g.post(route("admin.profiles.batch-reminder"),{userIds:r,role:t})).data}catch(a){throw console.error("Error sending batch reminder:",a),a}},f=[{id:"academicians",label:"Academicians",count:s.total},{id:"postgraduates",label:"Postgraduates",count:o.total},{id:"undergraduates",label:"Undergraduates",count:i.total}],w=r=>{x(r);const t=new URLSearchParams(window.location.search);t.delete("academicians_page"),t.delete("postgraduates_page"),t.delete("undergraduates_page"),t.set("tab",r);const a=`${window.location.pathname}?${t.toString()}`;window.history.replaceState({},"",a)};return e.jsxs(v,{title:"",children:[e.jsx(y,{title:"Profile Management"}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"md:flex md:items-center md:justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"User Profile Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Send reminders to users to complete or update their profiles. Review users by role and take action individually or in batches."})]})}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px",children:f.map(r=>e.jsxs("button",{onClick:()=>w(r.id),className:`py-4 px-6 text-center border-b-2 font-medium text-sm sm:text-base ${n===r.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap flex items-center space-x-2`,children:[e.jsx("span",{children:r.label}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n===r.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:r.count})]},r.id))})}),e.jsxs("div",{className:"p-6",children:[n==="academicians"&&e.jsx(R,{academics:s.data,universities:d,faculties:m,researchOptions:c,onSendReminder:l,onSendBatchReminder:p,pagination:s,currentTab:n}),n==="postgraduates"&&e.jsx(N,{postgraduates:o.data,universities:d,faculties:m,researchOptions:c,onSendReminder:l,onSendBatchReminder:p,pagination:o,currentTab:n}),n==="undergraduates"&&e.jsx(S,{undergraduates:i.data,universities:d,faculties:m,researchOptions:c,onSendReminder:l,onSendBatchReminder:p,pagination:i,currentTab:n})]})]})]})})]})};export{X as default};
