import{r as f,q as be,W as _e,a as A,j as e,R as ve}from"./app-aam1Q33N.js";import{I as d}from"./InputError-CbNQ4k7J.js";import{I as n}from"./InputLabel-CAFKhheo.js";import{P as I}from"./PrimaryButton-DMhVuL0o.js";import{T as p}from"./TextInput-CYbhZrNg.js";import je from"./NationalityForm-DK5wwEXv.js";import{S as H}from"./react-select.esm-C00FPJcO.js";import{z as Q}from"./transition-FB5bKEkB.js";function Ve({universities:Z,faculties:D,className:ee="",researchOptions:U,skills:se,aiGenerationInProgress:k,aiGenerationMethod:ae,generatedProfileData:w}){var q,L;const v=f.useRef(!1),a=be().props.undergraduate,{data:t,setData:o,post:S,errors:c,processing:le,recentlySuccessful:re}=_e({phone_number:(a==null?void 0:a.phone_number)||"",full_name:(a==null?void 0:a.full_name)||"",bio:(a==null?void 0:a.bio)||"",bachelor:(a==null?void 0:a.bachelor)||"",CGPA_bachelor:(a==null?void 0:a.CGPA_bachelor)||"",nationality:(a==null?void 0:a.nationality)||"",english_proficiency_level:(a==null?void 0:a.english_proficiency_level)||"",current_undergraduate_status:(a==null?void 0:a.current_undergraduate_status)||"",university:(a==null?void 0:a.university)||"",faculty:(a==null?void 0:a.faculty)||"",matric_no:(a==null?void 0:a.matric_no)||"",skills:(a==null?void 0:a.skills)||[],interested_do_research:(a==null?void 0:a.interested_do_research)||!1,expected_graduate:(a==null?void 0:a.expected_graduate)||"",research_preference:typeof(a==null?void 0:a.research_preference)=="string"?JSON.parse(a==null?void 0:a.research_preference):a==null?void 0:a.research_preference,CV_file:(a==null?void 0:a.CV_file)||"",profile_picture:(a==null?void 0:a.profile_picture)||"",background_image:(a==null?void 0:a.background_image)||"",website:(a==null?void 0:a.website)||"",linkedin:(a==null?void 0:a.linkedin)||"",google_scholar:(a==null?void 0:a.google_scholar)||"",researchgate:(a==null?void 0:a.researchgate)||""}),[N,b]=f.useState(!1),[te,u]=f.useState(""),[x,F]=f.useState(null),[oe,P]=f.useState(!1),[V,E]=f.useState(!1);f.useEffect(()=>{const l=new URLSearchParams(window.location.search).get("generation_initiated")==="true";console.log("Checking if automatic generation should be triggered:",{aiGenerationInProgress:k,aiGenerationMethod:ae,generationTriggeredRef:v.current,isGenerating:N,generatedProfileData:!!w,generationInitiated:l,location:window.location.href}),w&&!v.current?(console.log("Applying directly available generated profile data:",w),C(w),v.current=!0,window._profileSuccessShown||(window._profileSuccessShown=!0,alert("Profile successfully generated! Please review and save the changes."))):(k||l)&&!v.current&&!N&&(console.log("Generation in progress or initiated, checking status"),T())},[k,N,w]);const T=()=>{var s;v.current||(b(!0),u("Checking generation status..."),console.log("Checking generation status"),A.get(route("ai.status"),{headers:{"X-CSRF-TOKEN":(s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content")}}).then(l=>{console.log("Status check response:",l.data),l.data.status==="in_progress"?(u("Generation in progress, please wait..."),setTimeout(T,3e3)):l.data.status==="error"?(b(!1),u(""),alert("Profile generation failed: "+(l.data.message||"Unknown error"))):l.data.status==="completed"?(b(!1),u("Profile generated successfully!"),l.data.data&&(C(l.data.data),v.current=!0,window._profileSuccessShown||(window._profileSuccessShown=!0,alert("Profile successfully generated! Please review and save the changes.")))):(b(!1),u(""),console.log("Unexpected status:",l.data.status))}).catch(l=>{console.error("Error checking generation status:",l),b(!1),u("")}))},C=s=>{console.log("Updating form with data:",s),o(l=>({...l,full_name:s.full_name||l.full_name,phone_number:s.phone_number||l.phone_number,bio:s.bio||l.bio,nationality:s.nationality||l.nationality,english_proficiency_level:s.english_proficiency_level||l.english_proficiency_level,bachelor:s.bachelor||l.bachelor,CGPA_bachelor:s.CGPA_bachelor||l.CGPA_bachelor,skills:s.skills||l.skills,expected_graduate:s.expected_graduate||l.expected_graduate,research_preference:s.research_preference&&s.research_preference.length>0?s.research_preference:l.research_preference,current_undergraduate_status:s.current_undergraduate_status||l.current_undergraduate_status,interested_do_research:s.interested_do_research||l.interested_do_research}))},$=async()=>{var s,l,r,m,h,g;if(t.CV_file&&typeof t.CV_file=="string"){b(!0),u("Generating profile from existing CV...");try{const i=(s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"),j=new FormData;console.log("Attempting CV generation with existing CV file"),console.log("CSRF Token:",i),console.log("Using existing CV:",t.CV_file);const _={"X-CSRF-TOKEN":i,Accept:"application/json"},y=await A.post(route("ai.generate.cv"),j,{headers:_});console.log("CV generation successful:",y.data),y.data&&(C(y.data),u("Profile generated successfully!"),b(!1))}catch(i){console.error("Error generating profile from CV:",i),console.log("Error details:",{message:i.message,response:(l=i.response)==null?void 0:l.data,status:(r=i.response)==null?void 0:r.status,statusText:(m=i.response)==null?void 0:m.statusText,headers:(h=i.response)==null?void 0:h.headers}),u(`Error (${((g=i.response)==null?void 0:g.status)||"unknown"}): ${i.message}`),b(!1)}}else P(!0)},ie=s=>{F(s.target.files[0])},ne=async()=>{var s,l,r,m,h,g;if(x){E(!0),u("Uploading CV and generating profile...");try{const i=(s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"),j=new FormData;if(j.append("CV_file",x,x.name),console.log("CV File details:",{name:x.name,size:x.size,type:x.type,lastModified:new Date(x.lastModified).toISOString()}),x.size>5*1024*1024)throw new Error("File size exceeds 5MB. Please upload a smaller file.");const _=await A.post(route("ai.generate.cv"),j,{headers:{"X-CSRF-TOKEN":i,Accept:"application/json"},responseType:"json",timeout:6e4});console.log("CV generation successful:",_.data),_.data&&(P(!1),F(null),C(_.data),u("Profile generated successfully!"),E(!1))}catch(i){console.error("Error uploading CV:",i),console.log("Error details:",{message:i.message,response:(l=i.response)==null?void 0:l.data,status:(r=i.response)==null?void 0:r.status,statusText:(m=i.response)==null?void 0:m.statusText,headers:(h=i.response)==null?void 0:h.headers}),u(`Error (${((g=i.response)==null?void 0:g.status)||"unknown"}): ${i.message}`),E(!1)}}},ce=s=>{const l=s.target.value;l!=="Registered"?(o(r=>({...r,current_undergraduate_status:l,matric_no:"",university:"",faculty:""})),O("")):o(r=>({...r,current_undergraduate_status:l}))},[M,O]=f.useState(t.university),de=D.filter(s=>s.university_id===parseInt(M)),B=se.map(s=>({value:s.id,label:s.name})),ue=s=>{const l=s.map(r=>r.value);o("research_preference",l)},me=s=>{s.preventDefault();const l=new FormData;Object.keys(t).forEach(r=>{r!=="profile_picture"&&(Array.isArray(t[r])?l.append(r,JSON.stringify(t[r])):r==="interested_do_research"?l.append(r,t[r]===!0?1:0):l.append(r,t[r]))});for(let[r,m]of l.entries())console.log(`${r}: ${m}`);S(route("role.update"),{data:l,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{alert("Profile updated successfully.")},onError:r=>{console.error("Error updating profile:",r),alert("Failed to update the profile. Please try again.")}})},[he,R]=f.useState(!1),ge=()=>R(!0),z=()=>R(!1),[fe,G]=f.useState(!1),pe=s=>{if(s.preventDefault(),!t.profile_picture){alert("Please select a profile picture.");return}const l=new FormData;l.append("profile_picture",t.profile_picture),S(route("role.updateProfilePicture"),{data:l,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{alert("Profile picture updated successfully."),z(),window.location.reload()},onError:r=>{console.error("Error updating profile picture:",r),alert("Failed to update the profile picture. Please try again.")}})},xe=s=>{if(s.preventDefault(),!t.background_image){alert("Please select a background image.");return}const l=new FormData;l.append("background_image",t.background_image),S(route("role.updateBackgroundImage"),{data:l,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{alert("Background image updated successfully."),G(!1),window.location.reload()},onError:r=>{console.error("Error updating background image:",r),alert("Failed to update the background image. Please try again.")}})};return e.jsxs("div",{className:"max-w-8xl mx-auto px-4 pb-8",children:[e.jsxs("div",{className:"w-full bg-white pb-12 shadow-md relative mb-4",children:[e.jsxs("div",{className:"relative w-full h-48 overflow-hidden",children:[e.jsx("img",{src:`/storage/${t.background_image||"default-background.jpg"}`,alt:"Background",className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>G(!0),className:"absolute top-4 right-4 bg-blue-500 p-2 rounded-full shadow-lg text-white hover:bg-blue-600","aria-label":"Edit Background Image",children:"✏️"})]}),e.jsxs("div",{className:"relative flex flex-col items-center -mt-16 z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`/storage/${t.profile_picture||"default-profile.jpg"}`,alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover"}),e.jsx("button",{onClick:ge,className:"absolute bottom-0 right-0 bg-blue-500 p-2 rounded-full shadow-lg text-white hover:bg-blue-600","aria-label":"Edit Profile Picture",children:"✏️"})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:t.full_name})})]})]}),fe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-lg",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Update Background Image"}),e.jsxs("form",{onSubmit:xe,children:[e.jsx("input",{type:"file",accept:"image/*",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",onChange:s=>o("background_image",s.target.files[0])}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx(I,{type:"submit",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>G(!1),className:"ml-2 px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})}),he&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-lg",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Update Profile Picture"}),e.jsxs("form",{onSubmit:pe,children:[e.jsx("input",{type:"file",accept:"image/*",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",onChange:s=>o("profile_picture",s.target.files[0])}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[e.jsx(I,{type:"submit",children:"Save"}),e.jsx("button",{type:"button",onClick:z,className:"ml-2 px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})}),e.jsxs("section",{className:ee,children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your personal information."})]}),e.jsx("div",{className:"hidden sm:flex space-x-2 absolute top-0 right-0 mt-2 mr-2",children:e.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-800",children:"AI Generate Profile From CV"})}),e.jsx("div",{className:"sm:hidden mt-4",children:e.jsx("button",{type:"button",onClick:$,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-800",children:"AI Generate Profile From CV"})})]}),e.jsxs("form",{onSubmit:me,className:"mt-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"full_name",value:"Full Name",required:!0}),e.jsx(p,{id:"full_name",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.full_name,onChange:s=>o("full_name",s.target.value),required:!0,autoComplete:"full_name"}),e.jsx(d,{className:"mt-2",message:c.full_name})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6 w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"bio",value:"Short Bio"}),e.jsx("textarea",{id:"bio",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm p-4",value:t.bio,onChange:s=>o("bio",s.target.value),rows:4}),e.jsx(d,{className:"mt-2",message:c.bio})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"bachelor",value:"Name of Bachelor Degree"}),e.jsx(p,{id:"bachelor",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.bachelor,onChange:s=>o("bachelor",s.target.value)}),e.jsx(d,{className:"mt-2",message:c.bachelor})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"CGPA_bachelor",value:"CGPA Bachelor"}),e.jsx(p,{id:"CGPA_bachelor",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.CGPA_bachelor,onChange:s=>o("CGPA_bachelor",s.target.value)}),e.jsx(d,{className:"mt-2",message:c.CGPA_bachelor})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone_number",value:"Phone Number",required:!0}),e.jsx(p,{id:"phone_number",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.phone_number,onChange:s=>o("phone_number",s.target.value),autoComplete:"tel"}),e.jsx(d,{className:"mt-2",message:c.phone_number})]}),e.jsx("div",{children:e.jsx(je,{title:"Nationality",value:t.nationality,onChange:s=>o("nationality",s)})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"english_proficiency_level",value:"English Proficiency Level"}),e.jsxs("select",{id:"english_proficiency_level",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.english_proficiency_level,onChange:s=>o("english_proficiency_level",s.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select English Proficiency Level"}),e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Elementary",children:"Elementary"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Upper Intermediate",children:"Upper Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"})]}),e.jsx(d,{className:"mt-2",message:c.english_proficiency_level})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"current_undergraduate_status",value:"Current Undergraduate Status"}),e.jsxs("select",{id:"current_undergraduate_status",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.current_undergraduate_status,onChange:ce,children:[e.jsx("option",{value:"",hidden:!0,children:"Select your status"}),e.jsx("option",{value:"Not registered yet",children:"Not registered yet"}),e.jsx("option",{value:"Registered",children:"Registered"})]})]})]}),t.current_undergraduate_status==="Registered"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"university",value:"University",required:!0}),e.jsxs("select",{id:"university",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:M||"",onChange:s=>{const l=parseInt(s.target.value);O(l),o("university",l)},children:[e.jsx("option",{value:"",hidden:!0,children:"Select your University"}),Z.map(s=>e.jsx("option",{value:s.id,children:s.full_name},s.id))]}),e.jsx(d,{className:"mt-2",message:c.university})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"faculty",value:"Faculty",required:!0}),e.jsxs("select",{id:"faculty",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.faculty,onChange:s=>o("faculty",s.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Select your Faculty"}),de.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(d,{className:"mt-2",message:c.faculty})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full",children:[t.current_undergraduate_status==="Registered"&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"matric_no",value:"Matric No.",required:!0}),e.jsx(p,{id:"matric_no",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.matric_no,onChange:s=>o("matric_no",s.target.value),required:!0,autoComplete:"matric_no"}),e.jsx(d,{className:"mt-2",message:c.matric_no})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"skills",value:"Skills"}),e.jsx(H,{id:"skills",isMulti:!0,options:B,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",classNamePrefix:"select",value:(q=t.skills)==null?void 0:q.map(s=>B.find(r=>r.value===s)||{value:s,label:s}),onChange:s=>{const l=s.map(r=>r.value);o("skills",l)},placeholder:"Select your skills..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"interested_do_research",value:"Interested to do research after bachelor degree?"}),e.jsxs("select",{id:"interested_do_research",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.interested_do_research?"true":"false",onChange:s=>o("interested_do_research",s.target.value==="true"),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"expected_graduate",value:"Expected Graduate (Month/Year)",required:!0}),e.jsx(p,{id:"expected_graduate",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.expected_graduate,onChange:s=>o("expected_graduate",s.target.value),required:!0,autoComplete:"expected_graduate"}),e.jsx(d,{className:"mt-2",message:c.expected_graduate})]})]}),t.interested_do_research===!0&&e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"research_preference",value:"Preferred Field of Research"}),e.jsx(H,{id:"research_preference",isMulti:!0,options:U.map(s=>({value:`${s.field_of_research_id}-${s.research_area_id}-${s.niche_domain_id}`,label:`${s.field_of_research_name} - ${s.research_area_name} - ${s.niche_domain_name}`})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",classNamePrefix:"select",hideSelectedOptions:!1,closeMenuOnSelect:!1,value:(L=t.research_preference)==null?void 0:L.map(s=>{const l=U.find(r=>`${r.field_of_research_id}-${r.research_area_id}-${r.niche_domain_id}`===s);return{value:s,label:l?`${l.field_of_research_name} - ${l.research_area_name} - ${l.niche_domain_name}`:s}}),styles:{valueContainer:s=>({...s,maxWidth:"100%"}),multiValueLabel:s=>({...s,maxWidth:250,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),menuPortal:s=>({...s,zIndex:9999}),option:(s,{data:l,isSelected:r,isFocused:m,isDisabled:h})=>({...s,backgroundColor:r?"#2563EB":m?"#F3F4F6":"white",color:r?"white":"#374151",paddingLeft:r?"25px":s.paddingLeft,position:"relative",":before":r?{content:'"✓"',position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"white"}:void 0})},onChange:ue,placeholder:"Select preferred field of research...",filterOption:(s,l)=>l?s.label.toLowerCase().includes(l.toLowerCase()):!0,components:{MenuList:s=>{const l=ve.Children.toArray(s.children),r=t.research_preference||[],m=l.sort((h,g)=>{var W,X,Y,K,J;if(!h||!g||!h.props||!g.props)return 0;const i=(W=h.props.data)==null?void 0:W.value,j=(X=g.props.data)==null?void 0:X.value,_=r.includes(i),y=r.includes(j);return _&&!y?-1:!_&&y?1:((J=(Y=h.props.data)==null?void 0:Y.label)==null?void 0:J.localeCompare((K=g.props.data)==null?void 0:K.label))||0});return e.jsx("div",{className:"react-select__menu-list",...s.innerProps,style:{maxHeight:"215px",overflowY:"auto",padding:"5px 0"},children:m})}}})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"CV_file",value:"Upload CV (Max 5MB)"}),e.jsx("input",{type:"file",id:"CV_file",accept:".pdf,.doc,.docx",className:"mt-1 block w-full border-gray-300 rounded-md py-2",onChange:s=>{const l=s.target.files[0];l&&(l.size<=5*1024*1024?o("CV_file",l):alert("File size exceeds 5MB. Please upload a smaller file."))}}),t.CV_file&&e.jsx("div",{className:"mt-2",children:typeof t.CV_file=="string"?e.jsxs("a",{href:`/storage/${t.CV_file}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline",children:["View Current File: ",t.CV_file.split("/").pop()]}):e.jsxs("p",{className:"text-sm text-gray-500",children:["File Selected: ",t.CV_file.name]})}),e.jsx(d,{className:"mt-2",message:c.CV_file})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"website",value:"Website"}),e.jsx(p,{id:"website",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.website,onChange:s=>o("website",s.target.value),autoComplete:"url"}),e.jsx(d,{className:"mt-2",message:c.website})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"linkedin",value:"LinkedIn"}),e.jsx(p,{id:"linkedin",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.linkedin,onChange:s=>o("linkedin",s.target.value),autoComplete:"url"}),e.jsx(d,{className:"mt-2",message:c.linkedin})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"google_scholar",value:"Google Scholar"}),e.jsx(p,{id:"google_scholar",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.google_scholar,onChange:s=>o("google_scholar",s.target.value),autoComplete:"url"}),e.jsx(d,{className:"mt-2",message:c.google_scholar})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:"researchgate",value:"ResearchGate"}),e.jsx(p,{id:"researchgate",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:t.researchgate,onChange:s=>o("researchgate",s.target.value),autoComplete:"url"}),e.jsx(d,{className:"mt-2",message:c.researchgate})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{disabled:le,children:"Save"}),e.jsx(Q,{show:re,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]}),N&&e.jsx(Q,{show:N,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("p",{className:"text-lg font-medium",children:te||"Generating profile..."}),e.jsxs("svg",{className:"animate-spin h-8 w-8 mt-4 text-blue-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})]})})}),oe&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-x-hidden overflow-y-auto outline-none focus:outline-none",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50"}),e.jsx("div",{className:"relative w-auto my-6 mx-auto max-w-3xl z-50",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Upload CV for Profile Generation"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Upload your CV to generate your profile. We support PDF, DOCX, DOC, and image formats."}),e.jsx("input",{type:"file",className:"mb-4 p-2 border rounded w-full",onChange:ie,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.tiff"}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",onClick:()=>{P(!1),F(null)},disabled:V,children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:ne,disabled:!x||V,children:V?"Uploading...":"Upload & Generate Profile"})]})]})})]})]})}export{Ve as default};
