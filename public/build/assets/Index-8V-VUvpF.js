import{W as G,j as e,b as _,r as h,q as Z,y}from"./app-C9aRItHR.js";import{G as Ne,M as ve}from"./MainLayout-Bl5NjS0P.js";import{T as ke}from"./TextInput-CTYtc7ad.js";import{I as W,a as E}from"./InputError-CzvYwQ6D.js";import{P as k}from"./PrimaryButton-DJiSt9ES.js";import{S as J}from"./SecondaryButton-DlgSMzLL.js";import{V as g,c as j}from"./index-XngfYQdO.js";import{M as Ce}from"./Modal-Du6oGZ4g.js";import{S as De}from"./react-select.esm-CO7JC_zk.js";import{M as Se}from"./ManageCollaboratorsModal-Dc3Z0hAr.js";import{C as Y}from"./ConfirmationModal-SAlKtSv2.js";import"./purify.es-9JUW7zMc.js";import{C as Pe,a as Ge,b as Ae}from"./collapsible-DSNv84Ti.js";import{B as w}from"./button-CSPEol7l.js";import{c as Me,d as Oe,D as We,j as Ee,k as Fe}from"./core.esm-Mir_2TVh.js";import{S as _e,a as Ie,b as Te,c as $e,d as q}from"./select-BZ_YVDv9.js";import{C as Le}from"./chevron-down-CZ68gouy.js";import{C as ze}from"./chevron-right-D08KHBfF.js";import{F}from"./folder-open-BMedN5wh.js";import{c as K}from"./createLucideIcon-BKESxhZR.js";import{T as Q}from"./trash-2-BfSX7cDD.js";import{D as X,a as ee,b as se,c as re,e as te}from"./dialog-D6CAw3_0.js";import{I as ae}from"./input-BRl5cfeF.js";import{L as oe}from"./label-BDDULwdX.js";import{A as Be,a as Ve,b as Ye,c as qe,d as Re,e as He,f as Ue,g as Ze}from"./alert-dialog-BNctTg-f.js";import{P as R}from"./plus-sqvzTBRi.js";import{U as H}from"./users-7wE4kwZt.js";import{B as O}from"./briefcase-Drgw6UyA.js";import{C as Je}from"./clock-BxTGdTU_.js";import"./house-iIzYry7D.js";import"./zap-BO9SNPWd.js";import"./settings-CD-0zKD9.js";import"./useRoles-BMgrdTWk.js";import"./chevron-left-CXvSSDf-.js";import"./proxy-oGTuy5le.js";import"./user-round-B6zt5dYE.js";import"./clipboard-list-D9RZIGl3.js";import"./dollar-sign-CTMVi4zP.js";import"./calendar-DOmFwYBu.js";import"./file-text-Dda2OPaZ.js";import"./message-square-s9PQcdgL.js";import"./graduation-cap-CUV5l_Ya.js";import"./building-BKwJ3Rui.js";import"./Dropdown-DGvLC90N.js";import"./transition-BcdIoExo.js";import"./sparkles-DW7Sg1pI.js";import"./bookmark-ZSjg04_i.js";import"./folder-kanban-CYtcX4dA.js";import"./building-2-leVI2yfI.js";import"./database-DSHZfPnC.js";import"./shield-BFWgtyat.js";import"./index-BXuOt4X-.js";import"./analytics-BQ374C1C.js";import"./iconBase-BnDH7fxV.js";import"./index-DWLkSDCh.js";import"./supervisionConstants-BuM5-H5X.js";import"./utils-CBfrqCZ4.js";import"./ThreadPane-DwcafS7d.js";import"./scroll-area-BASTW5Mn.js";import"./index-CC4PcrzS.js";import"./index-CCAZcmHJ.js";import"./index-CrClJLlY.js";import"./index-D5McE1bZ.js";import"./index-DQC-i451.js";import"./index-BdQq_4o_.js";import"./format-BOijCLBA.js";import"./en-US-DIdCsyf3.js";import"./dialog-vzj-go99.js";import"./download-DQFhyGLE.js";import"./x-CwXSr9E4.js";import"./isSameDay-BHs4V-zU.js";import"./constructNow-6bIQB1GK.js";import"./addDays-KHeCUDUr.js";import"./search-4BAlCTpi.js";import"./circle-check-big-D9q7hdhw.js";import"./tooltip-Bumx2StD.js";import"./index-DFuKqaZl.js";import"./index-COgthb8O.js";import"./index-KT7cPyEo.js";import"./floating-ui.dom-D5EC_49c.js";import"./index-0pjh7AqE.js";import"./index-eZvGyRKK.js";import"./index-DJhbDaIo.js";import"./index-Chjiymov.js";import"./user-gcgZPnph.js";import"./info-7VMuITo2.js";import"./triangle-alert-CHajfL9r.js";import"./index-bGCi_HXo.js";import"./index-BqNwAq_Q.js";import"./index-CPPgYV_S.js";import"./index-Ty945MNA.js";import"./check-CeJ8h2aY.js";import"./chevron-up-CqJJqoMZ.js";import"./index-hob4XtTs.js";import"./index-CdJFUDDL.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Qe=K("FolderPlus",Ke);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],es=K("Pen",Xe);function ss({isOpen:r,onClose:a}){const{data:s,setData:l,post:x,processing:d,errors:i,reset:c}=G({name:"",description:""}),u=n=>{n.preventDefault(),x(route("project-hub.workspaces.store"),{onSuccess:()=>{g.success(`Workspace "${s.name}" created successfully.`),c(),a()},onError:o=>{console.error("Error creating workspace:",o),g.error("Failed to create workspace. Please check the form for errors.")}})};return r?e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:a}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative z-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Workspace"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(W,{htmlFor:"name",value:"Workspace Name"}),e.jsx(ke,{id:"name",type:"text",className:"mt-1 block w-full",value:s.name,onChange:n=>l("name",n.target.value),required:!0}),e.jsx(E,{message:i.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(W,{htmlFor:"description",value:"Description (Optional)"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.description,onChange:n=>l("description",n.target.value),rows:"3"}),e.jsx(E,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(J,{onClick:a,disabled:d,children:"Cancel"}),e.jsx(k,{type:"submit",disabled:d,children:d?"Creating...":"Create Workspace"})]})]})]})]}):null}function rs({show:r,onClose:a,linkableProjects:s=[]}){const{data:l,setData:x,post:d,processing:i,errors:c,reset:u}=G({post_project_id:""}),n=o=>{o.preventDefault(),d(route("project-hub.projects.store"),{preserveScroll:!0,onSuccess:p=>{const f=s.find(m=>m.id===l.post_project_id),N=f?f.title:"Project";g.success(`Project "${N}" created successfully.`),u(),a()},onError:p=>{console.error("Error creating project:",p),g.error("Failed to create project. Please check the form for errors.")}})};return e.jsx(Ce,{show:r,onClose:a,maxWidth:"md",children:e.jsxs("form",{onSubmit:n,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create Workspace from Project"}),e.jsxs("div",{className:"mb-6",children:[e.jsx(W,{htmlFor:"post_project_id",value:"Select a Project to Create a Workspace For",className:"mb-2"}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsx(De,{id:"post_project_id",options:s.map(o=>({value:o.id,label:o.title})),onChange:o=>x("post_project_id",o?o.value:""),className:"w-full",classNamePrefix:"select",placeholder:"Select a project...",required:!0}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"The workspace will inherit the title and description from the selected project."})]}):e.jsxs("div",{className:"text-amber-600 py-4 px-3 bg-amber-50 border border-amber-200 rounded-md",children:[e.jsx("p",{className:"mb-3",children:"You don't have any projects available for linking. Please create a project first."}),e.jsx(_,{href:route("post-projects.create"),className:"inline-flex items-center px-4 py-2 bg-amber-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-amber-700 focus:bg-amber-700 active:bg-amber-900 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition ease-in-out duration-150",children:"Create Project"})]}),e.jsx(E,{message:c.post_project_id,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(J,{onClick:a,className:"mr-2",children:"Cancel"}),e.jsx(k,{type:"submit",disabled:i||s.length===0,children:"Create Workspace"})]})]})})}function U({group:r,workspaces:a=[],isUngrouped:s=!1,allGroups:l=[],onEdit:x,onDelete:d}){const[i,c]=h.useState(!0),u=Array.isArray(a)?a:a?.data||[],{setNodeRef:n,isOver:o}=Me({id:s?"ungrouped":`group-${r?.id}`,data:{type:"group",groupId:s?null:r?.id,isUngrouped:s}});return e.jsxs(Pe,{open:i,onOpenChange:c,className:"border rounded-lg bg-white shadow-sm",children:[e.jsxs(Ge,{className:"flex items-center justify-between w-full p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i?e.jsx(Le,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):e.jsx(ze,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e.jsx(F,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s?"Ungrouped":r.name}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",u.length,")"]})]}),!s&&e.jsxs("div",{className:"flex items-center gap-2",onClick:p=>p.stopPropagation(),children:[e.jsx(w,{variant:"ghost",size:"sm",onClick:()=>x(r),className:"h-8 w-8 p-0",children:e.jsx(es,{className:"w-4 h-4"})}),e.jsx(w,{variant:"ghost",size:"sm",onClick:()=>d(r),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Q,{className:"w-4 h-4"})})]})]}),e.jsx(Ae,{children:e.jsx("div",{ref:n,className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 transition-colors ${o?"bg-blue-50 dark:bg-blue-900/20":""}`,children:u.length===0?e.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:o?"Drop workspace here":"No workspaces in this group"}):u.map(p=>e.jsx(ts,{workspace:p,allGroups:l,currentGroupId:s?null:r?.id},p.id))})})]})}function ts({workspace:r,allGroups:a,currentGroupId:s}){const{auth:l}=Z().props,{attributes:x,listeners:d,setNodeRef:i,transform:c,isDragging:u}=Oe({id:`workspace-${r.id}`,data:{type:"workspace",workspace:r}}),n=c?{transform:`translate3d(${c.x}px, ${c.y}px, 0)`}:void 0,p=(r.owner?.academician||r.owner?.postgraduate||r.owner?.undergraduate)?.full_name||r.owner?.name||"Unknown",f=l.user.id===r.owner_id?"You":p,N=m=>{const v=m==="ungrouped"?null:m;v===null?y.post(route("project-hub.workspaces.unassign",r.id),{},{preserveScroll:!0,onSuccess:()=>j.success("Workspace moved to ungrouped"),onError:()=>j.error("Failed to move workspace")}):y.post(route("project-hub.workspace-groups.assign",{workspaceGroup:v,workspace:r.id}),{},{preserveScroll:!0,onSuccess:()=>j.success("Workspace moved to group"),onError:()=>j.error("Failed to move workspace")})};return e.jsxs("div",{ref:i,style:n,className:`relative border rounded-lg bg-white dark:bg-gray-800 hover:shadow-md transition-shadow ${u?"opacity-50 shadow-xl":""}`,children:[e.jsx("div",{...d,...x,className:"absolute top-2 left-2 p-1 cursor-move hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Drag to move",children:e.jsx(Ne,{className:"w-4 h-4 text-gray-400"})}),e.jsxs(_,{href:route("project-hub.workspaces.show",r.id),className:"block p-4 pl-10",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:r.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:[e.jsxs("span",{children:["Owner: ",f]}),e.jsxs("span",{children:[r.members_count||0," members"]})]})]}),e.jsx("div",{className:"px-4 pb-3",onClick:m=>m.stopPropagation(),children:e.jsxs(_e,{value:s?.toString()||"ungrouped",onValueChange:N,children:[e.jsx(Ie,{className:"w-full h-8 text-xs",children:e.jsx(Te,{placeholder:"Move to..."})}),e.jsxs($e,{children:[e.jsx(q,{value:"ungrouped",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-3 h-3"}),"Ungrouped"]})}),a.map(m=>e.jsx(q,{value:m.id.toString(),children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-3 h-3"}),m.name]})},m.id))]})]})})]})}function as({isOpen:r,onClose:a}){const{data:s,setData:l,post:x,processing:d,errors:i,reset:c}=G({name:""}),u=n=>{n.preventDefault(),x(route("project-hub.workspace-groups.store"),{onSuccess:()=>{c(),a(),j.success("Group created successfully")},onError:o=>{o.name?j.error(o.name):j.error("Failed to create group")}})};return e.jsx(X,{open:r,onOpenChange:a,children:e.jsxs(ee,{className:"sm:max-w-[425px]",children:[e.jsx(se,{children:e.jsx(re,{children:"Create Workspace Group"})}),e.jsxs("form",{onSubmit:u,children:[e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"name",children:"Group Name"}),e.jsx(ae,{id:"name",value:s.name,onChange:n=>l("name",n.target.value),placeholder:"e.g., DSPD1573 Student Groups",className:"w-full",autoFocus:!0}),i.name&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.name})]})}),e.jsxs(te,{children:[e.jsx(w,{type:"button",variant:"outline",onClick:a,disabled:d,children:"Cancel"}),e.jsx(w,{type:"submit",disabled:d||!s.name.trim(),children:d?"Creating...":"Create Group"})]})]})]})})}function os({isOpen:r,onClose:a,group:s}){const{data:l,setData:x,put:d,processing:i,errors:c,reset:u}=G({name:s?.name||""});h.useEffect(()=>{s&&x("name",s.name)},[s]);const n=o=>{o.preventDefault(),s&&d(route("project-hub.workspace-groups.update",s.id),{preserveScroll:!0,onSuccess:()=>{u(),a(),j.success("Group updated successfully")},onError:p=>{p.name?j.error(p.name):j.error("Failed to update group")}})};return e.jsx(X,{open:r,onOpenChange:a,children:e.jsxs(ee,{className:"sm:max-w-[425px]",children:[e.jsx(se,{children:e.jsx(re,{children:"Edit Workspace Group"})}),e.jsxs("form",{onSubmit:n,children:[e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{htmlFor:"name",children:"Group Name"}),e.jsx(ae,{id:"name",value:l.name,onChange:o=>x("name",o.target.value),placeholder:"e.g., DSPD1573 Student Groups",className:"w-full",autoFocus:!0}),c.name&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c.name})]})}),e.jsxs(te,{children:[e.jsx(w,{type:"button",variant:"outline",onClick:a,disabled:i,children:"Cancel"}),e.jsx(w,{type:"submit",disabled:i||!l.name.trim(),children:i?"Updating...":"Update Group"})]})]})]})})}function ns({isOpen:r,onClose:a,group:s}){const l=()=>{s&&y.delete(route("project-hub.workspace-groups.destroy",s.id),{preserveScroll:!0,onSuccess:()=>{a(),j.success("Group deleted successfully. Workspaces moved to ungrouped.")},onError:()=>{j.error("Failed to delete group")}})};return e.jsx(Be,{open:r,onOpenChange:a,children:e.jsxs(Ve,{children:[e.jsxs(Ye,{children:[e.jsx(qe,{children:"Delete Workspace Group"}),e.jsxs(Re,{children:['Are you sure you want to delete "',s?.name,'"? All workspaces in this group will be moved to ungrouped. This action cannot be undone.']})]}),e.jsxs(He,{children:[e.jsx(Ue,{children:"Cancel"}),e.jsx(Ze,{onClick:l,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Delete"})]})]})})}function ls({workspaceGroups:r=[],ungroupedWorkspaces:a=[],workspaces:s,projects:l,linkableProjects:x,connections:d}){Array.isArray(s)||s?.data;const i=Array.isArray(l)?l:l?.data||[],{auth:c}=Z().props,[u,n]=h.useState(!1),[o,p]=h.useState(!1),[f,N]=h.useState(null),[m,v]=h.useState(null),[ne,le]=h.useState(!1),[ie,ce]=h.useState(null),[de,me]=h.useState(null),[pe,I]=h.useState(!1),[ue,T]=h.useState(!1),[xe,$]=h.useState(!1),[L,D]=h.useState(null),S=Array.isArray(r)?r:[],A=Array.isArray(a)?a:a?.data||[],z=c.user.academician!==null,he=()=>{f&&y.delete(route("project-hub.workspaces.destroy",f.id),{onSuccess:()=>{g.success(`Workspace "${f.name}" deleted successfully.`),N(null)},onError:t=>{console.error("Error deleting workspace:",t),g.error("Failed to delete workspace. Please try again.")}})},ge=(t,b)=>{t.preventDefault(),t.stopPropagation(),v(b)},je=()=>{m&&y.delete(route("project-hub.projects.destroy",m.id),{onSuccess:()=>{g.success(`Project "${m.name}" deleted successfully.`),v(null)},onError:t=>{console.error("Error deleting project:",t),g.error("Failed to delete project. Please try again.")}})},fe=t=>{D(t),T(!0)},be=t=>{D(t),$(!0)},[B,M]=h.useState(null),ye=t=>{const{active:b}=t;b.data.current?.type==="workspace"&&M(b.data.current.workspace)},we=t=>{const{active:b,over:C}=t;if(!C){M(null);return}if(C.data.current?.type==="group"){const P=b.data.current.workspace.id,V=C.data.current.groupId;V===null?y.post(route("project-hub.workspaces.unassign",P),{},{preserveScroll:!0,onSuccess:()=>g.success("Workspace moved to ungrouped"),onError:()=>g.error("Failed to move workspace")}):y.post(route("project-hub.workspace-groups.assign",{workspaceGroup:V,workspace:P}),{},{preserveScroll:!0,onSuccess:()=>g.success("Workspace moved to group"),onError:()=>g.error("Failed to move workspace")})}M(null)};return e.jsxs("div",{className:"space-y-8 lg:mt-2 mt-20",children:[e.jsxs("div",{className:"space-y-6 lg:mx-0 mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 pl-2",children:"Your Workspaces"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{variant:"outline",onClick:()=>I(!0),children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"})," New Group"]}),e.jsxs(k,{onClick:()=>n(!0),children:[e.jsx(R,{className:"w-4 h-4 mr-2"})," New Workspace"]})]})]}),S.length===0&&A.length===0?e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"mx-auto bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center",children:e.jsx(H,{className:"w-8 h-8 text-gray-500"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workspaces yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first workspace to start organizing your projects."}),e.jsxs(k,{onClick:()=>n(!0),children:[e.jsx(R,{className:"w-4 h-4 mr-2"})," Create Workspace"]})]}):e.jsxs(We,{collisionDetection:Ee,onDragStart:ye,onDragEnd:we,children:[e.jsxs("div",{className:"space-y-4",children:[S.map(t=>e.jsx(U,{group:t,workspaces:t.workspaces,allGroups:S,onEdit:fe,onDelete:be},t.id)),A.length>0&&e.jsx(U,{isUngrouped:!0,workspaces:A,allGroups:S})]}),e.jsx(Fe,{children:B?e.jsx("div",{className:"p-4 border rounded-lg bg-white shadow-xl opacity-90",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:B.name})}):null})]})]}),e.jsxs("div",{className:"space-y-6 lg:mx-0 mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 pl-2",children:"Your Projects"}),e.jsx("div",{className:"space-x-2",children:z&&e.jsxs(k,{onClick:()=>p(!0),children:[e.jsx(O,{className:"w-4 h-4 mr-2"})," New Project"]})})]}),i.length===0?e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"mx-auto bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center",children:e.jsx(O,{className:"w-8 h-8 text-gray-500"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first project to start organizing your research."}),e.jsx("div",{className:"space-x-2",children:z&&e.jsxs(k,{onClick:()=>p(!0),children:[e.jsx(O,{className:"w-4 h-4 mr-2"})," Create Project"]})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(t=>{const C=(t.owner.academician||t.owner.postgraduate||t.owner.undergraduate)?.full_name||t.owner.name;return e.jsxs("div",{className:"relative bg-blue-50 shadow rounded-lg hover:shadow-md transition-shadow duration-200",children:[e.jsxs(_,{href:route("project-hub.projects.show",t.id),className:"block p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 truncate pr-24",children:t.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-3",children:[e.jsxs("div",{className:"flex items-center mr-4 truncate",children:[e.jsx(H,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Owner: ",c.user.id===t.owner_id?"You":C]})]}),e.jsxs("div",{className:"flex items-center ml-auto",children:[e.jsx(Je,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString("en-GB")})]})]})]}),e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[c.user.id===t.owner_id&&e.jsxs("div",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full flex items-center",children:[e.jsx("span",{className:"mr-1",children:"👑"}),e.jsx("span",{children:"Owner"})]}),c.user.id===t.owner_id&&e.jsx("button",{onClick:P=>ge(P,t),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-blue-100 rounded-full",title:"Delete project",children:e.jsx(Q,{className:"w-4 h-4"})})]})]},t.id)})})]}),e.jsx(ss,{isOpen:u,onClose:()=>n(!1)}),e.jsx(rs,{show:o,onClose:()=>p(!1),linkableProjects:x||[]}),e.jsx(Se,{show:ne,onClose:()=>{le(!1),ce(null),me(null)},context:ie,contextType:de,connections:d||[]}),e.jsx(Y,{show:!!f,onClose:()=>N(null),onConfirm:he,title:"Delete Workspace",message:f?`Are you sure you want to delete the workspace "${f.name}"? This action cannot be undone and will delete all boards and tasks within this workspace.`:""}),e.jsx(Y,{show:!!m,onClose:()=>v(null),onConfirm:je,title:"Delete Project",message:m?`Are you sure you want to delete the project "${m.name}"? This action cannot be undone and will delete all boards and tasks within this project.`:""}),e.jsx(as,{isOpen:pe,onClose:()=>I(!1)}),e.jsx(os,{isOpen:ue,onClose:()=>{T(!1),D(null)},group:L}),e.jsx(ns,{isOpen:xe,onClose:()=>{$(!1),D(null)},group:L})]})}ls.layout=r=>e.jsx(ve,{title:"NexLab",children:r,TopMenuOpen:!1});export{ls as default};
