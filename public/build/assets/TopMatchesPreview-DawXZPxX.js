import{r as o,j as e,b as k,a as te}from"./app-D_isCBrZ.js";import{i as se,j as ae,k as ie,l as re}from"./index-Dje2_Jfs.js";import oe from"./ProfileCard-DXH13qD3.js";import ne from"./RecommendationModal--DjB2gsp.js";import le from"./RecommendationDisplay-B1YY2O5X.js";import{S}from"./sparkles-DBHFI2EX.js";import{c as C}from"./createReactComponent-bQoN2w6L.js";import{m as y}from"./proxy-hyWpbevY.js";import"./iconBase-Ky0bhwWY.js";import"./BookmarkButton-9N9CPcqc.js";import"./index-S2oVNL1R.js";import"./BookmarkHandler-DWB5z49p.js";import"./tooltip-CQVkmZ9i.js";import"./index-CL6H2niU.js";import"./index-BxE-5CCQ.js";import"./index-BG6TJDBP.js";import"./index-CoKnqvF_.js";import"./index--9W6mpJI.js";import"./index-BSdNhmJ5.js";import"./index-8kpB6Eh5.js";import"./floating-ui.dom-D5EC_49c.js";import"./index-lKKoak1a.js";import"./index-Be7aubF8.js";import"./index-DKcCfogn.js";import"./utils-CBfrqCZ4.js";import"./ConnectionButton-BA9SfYC2.js";import"./ProposalModal-B3tbGLJL.js";import"./dialog-D0uO8m2L.js";import"./index-BsmCtA5d.js";import"./index-BlbDubjO.js";import"./x-DHPN06jQ.js";import"./createLucideIcon-BT85Csak.js";import"./button-CvkXbyNI.js";import"./input-D-699YHd.js";import"./textarea-BHHa1WcU.js";import"./label-BCqeSoMm.js";import"./index-CdJFUDDL.js";import"./alert-D0_wd7P2.js";import"./checkbox-zZ-V3_T6.js";import"./index-DQXIHc7t.js";import"./check-Cn-yF-8e.js";import"./logError-BloCzXDJ.js";import"./user-round-DHB2rLfi.js";import"./graduation-cap-BDaXx5-Y.js";import"./building-2-BotSZuIB.js";import"./lightbulb-CMZ5CblB.js";import"./cloud-upload-CjjNQUPB.js";import"./paperclip-BD64GBV6.js";import"./loader-circle-CUkwbdmU.js";import"./useRoles-Bqwai8Sw.js";import"./dropdown-menu-DVqPq_ka.js";import"./index-4DfuBNxG.js";import"./index-DEX240OH.js";import"./index-DD7f-jjb.js";import"./chevron-right-Be2Bs3JC.js";import"./circle-oANRF4u5.js";import"./mail-BWUDoef7.js";import"./star-CklMYdQU.js";import"./bookmark-IOsNloOG.js";import"./bookmark-plus-omjHFws2.js";import"./circle-check-DHGBAWKG.js";import"./chevron-down-Ccqnoyn8.js";import"./user-B_P0OToR.js";import"./eye-6RvFiSEB.js";import"./send-BrMxNhUT.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l4 4",key:"svg-1"}],["path",{d:"M5 12l4 -4",key:"svg-2"}]],de=C("outline","arrow-narrow-left","ArrowNarrowLeft",ce);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M15 16l4 -4",key:"svg-1"}],["path",{d:"M15 8l4 4",key:"svg-2"}]],he=C("outline","arrow-narrow-right","ArrowNarrowRight",me);function Ct({searchResults:d,universitiesList:P,researchOptions:j,users:I,searchType:M,supervisionRequests:R=[],activeRelationship:A=null,onRequestSubmitted:L,onViewAllResults:$,onQuickInfoClick:xe,onRecommendClick:pe,onShowInsight:W}){const n=o.useRef(null),[F,B]=o.useState(!1),[E,T]=o.useState(!0),[D,m]=o.useState(!1),[G,g]=o.useState(!1),[s,N]=o.useState(null),[V,w]=o.useState(!1),[ue,z]=o.useState(""),[O,f]=o.useState(!1),[_,Q]=o.useState(null),v=d?.matches?.slice(0,5)||[];if(!v||v.length===0)return null;o.useEffect(()=>{b()},[]);const b=()=>{if(n.current){const{scrollLeft:t,scrollWidth:a,clientWidth:i}=n.current;B(t>0),T(t<a-i)}},H=()=>{if(n.current){const t=window.innerWidth<640?280:window.innerWidth<1024?300:320;n.current.scrollBy({left:-t,behavior:"smooth"}),setTimeout(b,300)}},q=()=>{if(n.current){const t=window.innerWidth<640?280:window.innerWidth<1024?300:320;n.current.scrollBy({left:t,behavior:"smooth"}),setTimeout(b,300)}},U=t=>{g(!0),f(!0);let a=t.ai_insights||"";a||(a=d.matches.find(x=>{const c=x.academician||x.student||{};return(c.id||c.academician_id||c.postgraduate_id||c.undergraduate_id)===(t.academician_id||t.postgraduate_id||t.undergraduate_id||t.id)})?.ai_insights||"");let i=a;if(a){const r=/\b(\d+-\d+-\d+)\b/g;(a.match(r)||[]).forEach(c=>{const p=j.find(u=>`${u.field_of_research_id}-${u.research_area_id}-${u.niche_domain_id}`===c);if(p){const u=`${p.field_of_research_name} - ${p.research_area_name} - ${p.niche_domain_name}`;i=i.replace(new RegExp(c,"g"),u)}})}const l={...t,ai_insights:a,processedInsights:i};N(l),z(i);const h=t.academician_id||t.result_type==="academician",ee=t.academician_id||t.postgraduate_id||t.undergraduate_id||t.id;h?te.get(route("academicians.quick-info",ee)).then(r=>{if(r.data&&r.data.academician){const x={...l,...r.data.academician,ai_insights:a,processedInsights:i,projects_count:r.data.projects_count||0,grants_count:r.data.grants_count||0,publications_count:r.data.publications_count||0};N(x)}m(!0),g(!1),f(!1)}).catch(r=>{console.error("Error fetching academician detail:",r),m(!0),g(!1),f(!1)}):(m(!0),g(!1),f(!1))},J=(t,a)=>{a.preventDefault(),Q(t),w(!0)},K=()=>{w(!1)},X=()=>s?.projects_count||0,Y=()=>s?.grants_count||0,Z=()=>s?.publications_count||0;return e.jsxs("div",{className:"w-full py-4 overflow-hidden max-w-sm sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-7xl mx-auto",children:[e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 sm:mb-12 px-4 sm:px-0 md:px-4 lg:px-2 xl:px-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Top 5 Matches"}),e.jsx("div",{className:"h-1 w-16 sm:w-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"})]}),e.jsx("div",{className:"relative w-full overflow-hidden px-4 sm:px-0 md:px-4 lg:px-2 xl:px-0",children:e.jsx("div",{ref:n,onScroll:b,className:"flex overflow-x-auto overscroll-x-none scroll-smooth gap-4 sm:gap-6 lg:gap-8 pb-6 sm:pb-8 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:v.map((t,a)=>e.jsx(y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1*a},className:"flex-shrink-0 w-[280px] sm:w-[300px] lg:w-[320px]",children:e.jsx(oe,{match:t,universitiesList:P,researchOptions:j,users:I,searchType:M,supervisionRequests:R,activeRelationship:A,onRequestSubmitted:L,onQuickInfoClick:U,onRecommendClick:J,onShowInsight:W,isCompactView:!0})},a))})}),e.jsx("div",{className:"px-4 sm:px-0 md:px-4 lg:px-2 xl:px-0",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6 sm:mt-8 lg:mt-10",children:[d.matches.length>5&&e.jsxs(y.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},onClick:$,className:"group inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-6 lg:px-8 py-3 sm:py-3.5 lg:py-4 text-sm sm:text-base font-semibold text-white bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg sm:rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-1 w-full sm:w-auto",children:[e.jsx(S,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsxs("span",{className:"truncate",children:["View All ",d.total_count||d.total||d.matches.length," Results"]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:translate-x-1 transition-transform flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 sm:ml-auto",children:[e.jsx("button",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-white hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg hover:-translate-y-0.5 border border-gray-200",onClick:H,disabled:!F,children:e.jsx(de,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-700"})}),e.jsx("button",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-white hover:bg-gray-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg hover:-translate-y-0.5 border border-gray-200",onClick:q,disabled:!E,children:e.jsx(he,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-700"})})]})]})}),D&&s&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>m(!1)}),e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-lg max-h-[80vh] overflow-y-auto z-10",onClick:t=>t.stopPropagation(),children:[G?e.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e.jsx("p",{className:"text-gray-600",children:"Loading profile information..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:s.full_name}),e.jsx("hr",{className:"border-t border-gray-800 mb-4"}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"AI Match Insights"]}),O?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e.jsx("p",{className:"text-gray-600",children:"Generating detailed insights..."})]}):e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s.processedInsights||s.ai_insights||"No insights available for this profile."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Short Bio"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:s.bio||"Not Provided"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.academician_id?"Research Expertise":"Research Interests"}),e.jsx("div",{className:"",children:(()=>{let t=[];return s.academician_id?t=s.research_expertise||[]:s.postgraduate_id||s.student_type==="postgraduate"?t=s.field_of_research||[]:t=s.research_preference||[],Array.isArray(t)&&t.length>0?e.jsx("div",{className:"space-y-2",children:t.map((a,i)=>{const l=j.find(h=>`${h.field_of_research_id}-${h.research_area_id}-${h.niche_domain_id}`===a);return l?e.jsxs("p",{className:"text-gray-600",children:[i+1,". ",l.field_of_research_name," - ",l.research_area_name," - ",l.niche_domain_name]},i):e.jsxs("p",{className:"text-gray-600",children:[i+1,". ",a]},i)})}):e.jsx("p",{className:"text-gray-600",children:"Not Provided"})})()})]}),s.academician_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Style of Supervision"}),e.jsx("div",{className:"space-y-2",children:Array.isArray(s.style_of_supervision)&&s.style_of_supervision.length>0?e.jsx("div",{className:"mt-2 text-normal text-gray-600",children:s.style_of_supervision.map((t,a)=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("span",{className:"font-medium",children:[a+1,". ",t]}),e.jsxs("div",{className:"ml-4 text-sm",children:[t==="Directive Supervision"&&"Structured approach with active guidance and regular monitoring",t==="Facilitative Supervision"&&"Supportive approach encouraging student independence",t==="Coaching Supervision"&&"Focuses on personal development and academic growth",t==="Adaptive Supervision"&&"Flexible support based on student's changing needs",t==="Participatory Supervision"&&"Collaborative approach with shared decision-making"]})]},a))}):e.jsx("p",{className:"text-gray-600",children:"Not Specified"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Supervised Student"}),e.jsx("p",{className:"text-gray-600",children:s.supervised_students_count||"Not Provided"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Available Grant and Project"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"text-gray-600",children:[Y()+X()," Projects/Grants"]}),e.jsxs(k,{href:route("academicians.projects",s.url||s.academician_id),className:"mt-2 self-start text-xs px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition duration-200 flex items-center",children:[e.jsx("span",{children:"View Projects"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Publication"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"text-gray-600",children:[Z()," Publications"]}),e.jsxs(k,{href:route("academicians.publications",s.url||s.academician_id),className:"mt-2 self-start text-xs px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition duration-200 flex items-center",children:[e.jsx("span",{children:"View Publications"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Recommendation by Others"}),e.jsx(le,{academicianId:s.academician_id||s.id})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Skills"}),Array.isArray(s.skills)&&s.skills.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((t,a)=>{let i=t.name;return t.subdomain&&t.subdomain.domain?i=`${t.subdomain.domain.name} - ${t.subdomain.name} - ${t.name}`:t.full_name?i=t.full_name:i=t.name||`Skill #${a+1}`,e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:i},t.id||a)})}):e.jsx("p",{className:"text-gray-600",children:"No skills listed"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Connect via"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[s.google_scholar&&e.jsx("a",{href:s.google_scholar,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-red-700",title:"Google Scholar",children:e.jsx(se,{})}),s.personal_website&&e.jsx("a",{href:s.personal_website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-green-700",title:"Personal Website",children:e.jsx(ae,{})}),s.institution_website&&e.jsx("a",{href:s.institution_website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-blue-700",title:"Institutional Website",children:e.jsx(ie,{})}),s.linkedin&&e.jsx("a",{href:s.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-blue-800",title:"LinkedIn",children:e.jsx(re,{})})]})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>m(!1),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200",children:"Close"})})]})})]}),V&&_&&e.jsx(ne,{academician:_,onClose:()=>w(!1),onSuccess:K})]})}export{Ct as default};
