import{j as e,r as o,a as E}from"./app-B8n35xiE.js";import{M as C}from"./MainLayout-GlWdUAz-.js";import{P as F}from"./ProfileCard-DeROqWuP.js";import{u as G}from"./useRoles-CXfoVYoI.js";import{d as R,e as M,f as I,g as X,a as S,h as B,b as U,c as T}from"./index-BHg7XsTJ.js";import{z}from"./transition-CkskrAXX.js";import"./analytics-18rYXD_U.js";import"./FilterDropdown-BuR1ayv6.js";import"./react-select.esm-CcvLYqnl.js";const L=()=>{const l=[{label:"Give Feedback",icon:e.jsx("img",{src:"/images/feedback.png",alt:"Feedback",style:{width:"30px",height:"30px"}}),link:"https://forms.gle/CQnJJxd8tfSrL2RE7"},{label:"Find Academician",icon:e.jsx("img",{src:"/images/academician.png",alt:"Academician",style:{width:"30px",height:"30px"}}),link:"/academicians"},{label:"Find Postgraduate",icon:e.jsx("img",{src:"/images/postgraduate.png",alt:"Postgraduate",style:{width:"30px",height:"30px"}}),link:"/postgraduates"},{label:"ChatGPT",icon:e.jsx("img",{src:"/images/chatgpt.png",alt:"ChatGPT",style:{width:"30px",height:"30px"}}),link:"https://chatgpt.com/"},{label:"Scispaces",icon:e.jsx("img",{src:"/images/scispaces.png",alt:"Scispaces",style:{width:"30px",height:"30px"}}),link:"https://typeset.io/"},{label:"Canva",icon:e.jsx("img",{src:"/images/canva.png",alt:"Canva",style:{width:"30px",height:"30px"}}),link:"https://www.canva.com/"},{label:"Mendeley",icon:e.jsx("img",{src:"/images/mendeley.png",alt:"Mendeley",style:{width:"30px",height:"30px"}}),link:"https://www.mendeley.com/"},{label:"Zotero",icon:e.jsx("img",{src:"/images/zotero.png",alt:"Zotero",style:{width:"30px",height:"30px"}}),link:"https://www.zotero.org/"},{label:"Scimago",icon:e.jsx("img",{src:"/images/scimago.png",alt:"Scimago",style:{width:"30px",height:"30px"}}),link:"https://www.scimagojr.com/"},{label:"Scopus",icon:e.jsx("img",{src:"/images/scopus.png",alt:"Scopus",style:{width:"30px",height:"30px"}}),link:"https://www.scopus.com/sources.uri?zone=TopNavBar&origin=searchbasic"}];return e.jsxs("div",{className:"md:mx-0 md:auto",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 mt-4",children:"QuickLinks"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-9 gap-4",children:l.map((t,c)=>e.jsx("div",{className:"flex flex-col items-center justify-center bg-white shadow-md rounded-lg hover:bg-gray-100 transition p-4",style:{width:"100%",height:"137px"},children:t.link?e.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-2",children:t.icon}),e.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:t.label})]}):e.jsxs("button",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-2",children:t.icon}),e.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:t.label})]})},c))})]})},W=({events:l=[]})=>{const[t,c]=o.useState(1),r=5,i=Math.ceil(l.length/r),u=l.slice((t-1)*r,t*r),g=()=>{t>1&&c(t-1)},j=()=>{t<i&&c(t+1)};return e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4 h-full",children:[e.jsx("h2",{className:"text-base font-bold mb-3",children:"Upcoming Events"}),e.jsx("ul",{className:"space-y-2",children:u.map((d,x)=>e.jsxs("li",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 shadow hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("img",{src:"https://flagcdn.com/w40/my.png",alt:"Malaysia Flag",className:"w-6 h-4 mt-1 ml-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 truncate pr-2 w-32",title:d.event_name,children:d.event_name}),e.jsx("p",{className:"text-xs text-gray-600",children:new Date(d.start_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),e.jsx(E,{href:route("events.show",d.url),className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-blue-700 text-xs",children:"→"})]},x))}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsx("button",{onClick:g,disabled:t===1,className:`px-3 py-1 text-xs font-medium rounded-lg ${t===1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Prev"}),e.jsxs("p",{className:"text-xs",children:["Page ",t," of ",i]}),e.jsx("button",{onClick:j,disabled:t===i,className:`px-3 py-1 text-xs font-medium rounded-lg ${t===i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Next"})]})]})},N=({items:l=[],timer:t=7e3,renderItem:c,fadeDuration:r=300,className:i="",label:u,seoPrefix:g="/events/",label_color:j})=>{const[d,x]=o.useState(0),[f,s]=o.useState(!0),b=o.useRef(null),p=o.useRef(null);o.useEffect(()=>{if(!l.length)return;const n=setInterval(()=>{s(!1),setTimeout(()=>{x(v=>(v+1)%l.length),s(!0)},r)},t);return()=>clearInterval(n)},[l,t,r]);const m=n=>{s(!1),setTimeout(()=>{x(n),s(!0)},r)},h=n=>{b.current=n},y=n=>{if(p.current=n,b.current===null||p.current===null)return;const v=b.current-p.current;v>50?(s(!1),setTimeout(()=>{x(k=>(k+1)%l.length),s(!0)},r)):v<-50&&(s(!1),setTimeout(()=>{x(k=>k===0?l.length-1:k-1),s(!0)},r)),b.current=null,p.current=null},_=n=>{h(n.touches[0].clientX)},D=n=>{},w=n=>{y(n.changedTouches[0].clientX)},P=n=>{h(n.clientX)},a=n=>{y(n.clientX)},$=()=>{const n=l[d];n&&n.url&&(window.location.href=`${g}${n.url}`)};return e.jsxs("div",{className:`relative h-full ${i}`,onTouchStart:_,onTouchMove:D,onTouchEnd:w,onTouchCancel:w,onMouseDown:P,onMouseUp:a,children:[u&&e.jsx("div",{className:`absolute top-2 left-3 ${j} text-white px-2 py-1 text-xs font-bold rounded z-10`,children:u}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:$,className:`cursor-pointer transform h-full transition-opacity duration-${r} ${f?"opacity-100":"opacity-0"}`,children:c(l[d],d)},l[d].id),e.jsx("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:l.map((n,v)=>e.jsx("button",{onClick:()=>m(v),className:`w-2 h-2 rounded-full ${v===d?"bg-indigo-500":"bg-gray-300"}`},v))})]})]})},O=({totalUsers:l,topViewedAcademicians:t})=>{const[c,r]=o.useState(!1),[i,u]=o.useState(0),[g,j]=o.useState(0),[d,x]=o.useState(!1),f=()=>{if(window.gapi){s();return}const m=document.createElement("script");m.src="https://apis.google.com/js/platform.js",m.async=!0,m.onload=s,m.onerror=()=>x(!0),document.head.appendChild(m)},s=()=>{try{window.gapi.load("analytics",()=>{const m="G-XXXXXXXXXX";window.gapi.analytics.ready(()=>{try{u(Math.floor(Math.random()*15)+5),j(Math.floor(Math.random()*120)+60),r(!0)}catch(h){console.error("GA initialization error:",h),x(!0)}})})}catch(m){console.error("GA loading error:",m),x(!0)}};o.useEffect(()=>{f()},[]);const b=()=>d?e.jsx("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg",children:e.jsx("p",{children:"Unable to load Google Analytics data. Please check your configuration."})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500",children:"ACTIVE USERS NOW"}),e.jsx("p",{className:"text-3xl font-bold",children:i})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(M,{className:"text-blue-500 text-xl"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500",children:"AVG. SESSION"}),e.jsxs("p",{className:"text-3xl font-bold",children:[g,"s"]})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(I,{className:"text-green-500 text-xl"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500",children:"REGISTERED USERS"}),e.jsx("p",{className:"text-3xl font-bold",children:l})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:e.jsx(X,{className:"text-purple-500 text-xl"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500",children:"TOP PROFILE VIEWS"}),e.jsx("p",{className:"text-3xl font-bold",children:t&&t.length>0?t[0].total_views:0})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:e.jsx(S,{className:"text-yellow-500 text-xl"})})]})]}),p=({academicians:m})=>e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Top Viewed Academicians"}),e.jsx(B,{className:"text-indigo-500"})]}),e.jsx("div",{className:"space-y-3 max-h-[350px] overflow-y-auto",children:m&&m.length>0?m.map((h,y)=>e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-indigo-500 font-bold",children:y+1})}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-cover bg-center mr-2",style:{backgroundImage:`url(${encodeURI(h.profile_picture?`/storage/${h.profile_picture}`:"/storage/profile_pictures/default.jpg")})`}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm truncate max-w-[150px]",title:h.full_name||"Unknown",children:h.full_name||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[150px]",title:h.current_position||"No position",children:h.current_position||"No position"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-3 h-3 text-indigo-500 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:h.total_views})]})]},h.id)):e.jsx("p",{className:"text-sm text-gray-500",children:"No view data available"})})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),e.jsx("div",{className:"text-sm text-gray-500",children:c?e.jsx("span",{className:"text-green-500",children:"✓ Google Analytics connected"}):e.jsx("span",{className:"text-yellow-500",children:"⟳ Loading analytics..."})})]}),b(),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mt-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(p,{academicians:t})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Content Performance"}),e.jsx(R,{className:"text-indigo-500"})]}),e.jsx("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center p-4",children:[e.jsx("p",{className:"text-gray-500 mb-2",children:"Google Analytics chart will be displayed here"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Configure your Google Analytics account to show content performance metrics"})]})})]})})]})]})},H=({totalUsers:l,onlineUsers:t,posts:c,events:r,projects:i,grants:u,academicians:g,universities:j,faculties:d,users:x,researchOptions:f,profileIncompleteAlert:s,topViewedAcademicians:b})=>{const{isAdmin:p,isFacultyAdmin:m}=G(),[h,y]=o.useState(!1);o.useEffect(()=>{s!=null&&s.show&&y(!0)},[s]);const _=a=>e.jsxs("div",{className:"block relative p-5 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(a.featured_image?`/storage/${a.featured_image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white pr-10",children:[e.jsx("h2",{className:"text-4xl font-bold truncate",title:a.title,children:a.title||"Untitled Post"}),a.content&&e.jsx("div",{className:"text-sm line-clamp-2 mb-2",dangerouslySetInnerHTML:{__html:a.content}}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("p",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:a.total_views})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(U,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"ml-1",children:a.total_likes})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:a.total_shares})]})]})]})]})]}),D=a=>e.jsxs("div",{className:"block relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(a.image?`/storage/${a.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:a.event_name,children:a.event_name||"Untitled Event"}),e.jsx("p",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),w=a=>e.jsxs("div",{className:"block relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(a.image?`/storage/${a.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:a.title,children:a.title||"Untitled Project"}),e.jsx("p",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),P=a=>e.jsxs("div",{className:"relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(a.image?`/storage/${a.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:a.title,children:a.title||"Untitled Grant"}),e.jsx("p",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]});return e.jsxs("div",{className:"p-6 md:py-0 md:px-2 min-h-screen",children:[e.jsx(z,{show:h&&(s==null?void 0:s.show),enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsxs("div",{className:"p-4 mb-4 text-sm text-yellow-800 bg-yellow-100 rounded-lg flex items-center justify-between",role:"alert",children:[e.jsx("div",{className:"flex items-center",children:s==null?void 0:s.message}),e.jsxs(E,{href:route("role.edit"),className:"ml-4 px-4 py-2 bg-white text-yellow-800 border border-yellow-800 rounded-md hover:bg-yellow-50 transition-colors duration-200 flex items-center",children:["Update Now",e.jsx("span",{className:"ml-2 w-2 h-2 bg-red-500 rounded-full"})]})]})}),p&&e.jsx("div",{className:"mb-8",children:e.jsx(O,{totalUsers:l,topViewedAcademicians:b})}),m&&e.jsx(F,{profilesData:g,supervisorAvailabilityKey:"availability_as_supervisor",universitiesList:j,faculties:d,isPostgraduateList:!1,isFacultyAdminDashboard:!0,users:x,researchOptions:f}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-10 gap-6 mb-[10rem] h-[300px]",children:[e.jsx("div",{className:"md:col-span-4 h-full",children:e.jsx(N,{items:c.slice(0,5),timer:7e3,fadeDuration:300,renderItem:_,label:"Post",seoPrefix:"/posts/",label_color:"bg-blue-500"})}),e.jsxs("div",{className:"md:col-span-3 h-full flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 h-1/2",children:[e.jsx(N,{items:r.slice(0,5),timer:8e3,fadeDuration:300,renderItem:D,label:"Event",seoPrefix:"/events/",label_color:"bg-red-500"}),e.jsx(N,{items:i.slice(0,5),timer:9e3,fadeDuration:300,renderItem:w,label:"Project",seoPrefix:"/projects/",label_color:"bg-orange-500"})]}),e.jsx("div",{className:"h-1/2",children:e.jsx(N,{items:u.slice(0,5),timer:1e4,fadeDuration:300,renderItem:P,label:"Grant",seoPrefix:"/grants/",label_color:"bg-green-700"})})]}),e.jsx("div",{className:"md:col-span-3 h-full",children:e.jsx(W,{events:r})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsx(L,{})})]})},Q=({posts:l,events:t,grants:c,users:r,profileIncompleteAlert:i})=>{const u=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),[g,j]=o.useState(!1);o.useEffect(()=>{i!=null&&i.show&&j(!0)},[i]);const d=s=>e.jsxs("div",{className:"block relative p-5 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(s.featured_image?`/storage/${s.featured_image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white pr-10",children:[e.jsx("h2",{className:"text-4xl font-bold truncate",title:s.title,children:s.title||"Untitled Post"}),s.content&&e.jsx("div",{className:"text-sm line-clamp-2 mb-2",dangerouslySetInnerHTML:{__html:s.content}}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("p",{className:"text-xs",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:s.total_views})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(U,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"ml-1",children:s.total_likes})]}),e.jsxs("div",{className:"flex items-center text-xs",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:s.total_shares})]})]})]})]})]}),x=s=>e.jsxs("div",{className:"block relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(s.image?`/storage/${s.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:s.event_name,children:s.event_name||"Untitled Event"}),e.jsx("p",{className:"text-xs",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),f=s=>e.jsxs("div",{className:"relative p-3 transform transition-opacity duration-500 rounded-2xl overflow-hidden h-full flex flex-col justify-end",style:{backgroundImage:`url(${encodeURI(s.image?`/storage/${s.image}`:"/storage/default.jpg")})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsx("h3",{className:"text-lg font-bold truncate",title:s.title,children:s.title||"Untitled Grant"}),e.jsx("p",{className:"text-xs",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]});return e.jsx("div",{className:"w-screen bg-gray-200 flex items-center justify-center",children:e.jsx("div",{className:"bg-white text-gray-800 shadow-lg overflow-hidden relative flex flex-col",style:{width:"500px",maxWidth:"100%"},children:e.jsxs("div",{className:"bg-white w-full px-5 pt-6 pb-4 overflow-y-auto",children:[e.jsx(z,{show:g&&(i==null?void 0:i.show),enter:"transition-all duration-300 ease-in-out",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4",children:e.jsxs("div",{className:"p-4 mb-4 text-sm text-yellow-800 bg-yellow-100 rounded-lg",role:"alert",children:[e.jsx("div",{className:"flex items-center mb-2",children:i==null?void 0:i.message}),e.jsxs(E,{href:route("role.edit"),className:"mt-2 inline-flex items-center px-4 py-2 bg-white text-yellow-800 border border-yellow-800 rounded-md hover:bg-yellow-50 transition-colors duration-200",children:["Update Now",e.jsx("span",{className:"ml-2 w-2 h-2 bg-red-500 rounded-full"})]})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Today"}),e.jsx("p",{className:"text-sm text-gray-500 uppercase font-bold",children:u})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("div",{className:"mb-4 h-[280px]",children:e.jsx(N,{items:l.slice(0,5),timer:7e3,fadeDuration:300,renderItem:d,label:"Post",seoPrefix:"/posts/",label_color:"bg-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-[160px]",children:e.jsx(N,{items:t.slice(0,5),timer:8e3,fadeDuration:300,renderItem:x,label:"Event",seoPrefix:"/events/",label_color:"bg-red-500"})}),e.jsx("div",{className:"h-[160px]",children:e.jsx(N,{items:c.slice(0,5),timer:9e3,fadeDuration:300,renderItem:f,label:"Grant",seoPrefix:"/grants/",label_color:"bg-green-700"})})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx(L,{})})]})})})},J=()=>{const[l,t]=o.useState(!1);return o.useEffect(()=>{const c=()=>{t(window.innerWidth>=1024)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),l},ae=({totalUsers:l,onlineUsers:t,clicksByType:c,events:r,posts:i,projects:u,grants:g,academicians:j,universities:d,faculties:x,users:f,researchOptions:s,profileIncompleteAlert:b})=>{G();const p=J();return e.jsx(C,{title:"Dashboard",children:p?e.jsx(H,{totalUsers:l,onlineUsers:t,clicksByType:c,events:r,posts:i,projects:u,grants:g,academicians:j,universities:d,faculties:x,users:f,researchOptions:s,profileIncompleteAlert:b}):e.jsx(Q,{events:r,users:f,grants:g,profileIncompleteAlert:b,posts:i})})};export{ae as default};
