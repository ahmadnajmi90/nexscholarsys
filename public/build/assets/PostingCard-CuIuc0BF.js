import{r as u,j as t}from"./app-BGc2srbb.js";const p=({label:a,options:d,selectedValues:s,setSelectedValues:l})=>{const[r,i]=u.useState(!1),m=n=>{const h=s.includes(n)?s.filter(c=>c!==n):[...s,n];l(h)};return t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-700 font-medium",children:a}),t.jsx("div",{className:`relative mt-1 w-full rounded-lg border border-gray-200 p-4 text-sm cursor-pointer bg-white ${r?"shadow-lg":""}`,onClick:()=>i(!r),children:s&&s.length>0?s.join(", "):`Select ${a}`}),r&&t.jsx("div",{className:"absolute z-10 mt-2 bg-white border border-gray-200 rounded shadow-lg",children:t.jsx("div",{className:"p-2 space-y-2",children:d.map((n,h)=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",value:n,checked:s.includes(n),onChange:c=>m(c.target.value),className:"mr-2"}),n]},h))})})]})},M=({data:a,title:d,isProject:s,isEvent:l,isGrant:r})=>{const[i,m]=u.useState([]),[n,h]=u.useState([]),[c,f]=u.useState([]),[x,v]=u.useState([]),w=[...new Set(a.map(e=>s?e.category:l?e.event_type:r?e.grant_type:null))].filter(Boolean),N=[...new Set(a.map(e=>s?e.origin_country:l||r?e.country:null))].filter(Boolean),_=[...new Set(a.flatMap(e=>s?e.project_theme||[]:l?e.event_theme||[]:r?e.grant_theme||[]:[]))].filter(Boolean),S=[...new Set(l?a.map(e=>e.event_mode).filter(Boolean):[])],T=a.filter(e=>{const g=i.length===0||i.some(o=>s?e.category===o:l?e.event_type===o:r?e.grant_type===o:!0),C=n.length===0||n.some(o=>s?e.origin_country===o:l||r?e.country===o:!0),F=c.length===0||c.some(o=>{var y,b,j;return s?(y=e.project_theme)==null?void 0:y.includes(o):l?(b=e.event_theme)==null?void 0:b.includes(o):r?(j=e.grant_theme)==null?void 0:j.includes(o):!0}),k=x.length===0||l&&x.includes(e.event_mode);return g&&C&&F&&k});return t.jsxs("div",{className:"min-h-screen flex",children:[t.jsxs("div",{className:"w-1/4 p-4 bg-gray-100 border-r",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(p,{label:s?"Purpose":l?"Event Type":"Grant Type",options:w,selectedValues:i,setSelectedValues:m}),l&&t.jsx(p,{label:"Event Mode",options:S,selectedValues:x,setSelectedValues:v}),t.jsx(p,{label:s?"Project Theme":l?"Event Theme":"Grant Theme",options:_,selectedValues:c,setSelectedValues:f}),t.jsx(p,{label:"Country",options:N,selectedValues:n,setSelectedValues:h})]})]}),t.jsx("div",{className:"flex-1 px-8",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map((e,g)=>t.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden text-center pb-8",children:[t.jsx("img",{src:e.image!==null?`/storage/${e.image}`:"/storage/default.jpg",alt:e[d],className:"w-full h-48 object-cover"}),t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800 text-center truncate",style:{maxWidth:"100%"},title:e[d],children:e[d]}),t.jsx("p",{className:"text-gray-600 mt-4 text-center",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},dangerouslySetInnerHTML:{__html:e.description||"No description available."}})]})]},g))})})]})};export{M as P};
