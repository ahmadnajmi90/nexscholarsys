import{q as j,r as h,j as e,Y as y,a as g}from"./app-Bwr2CKZi.js";import{M as v}from"./MainLayout-Cv-GvNeD.js";import R from"./AcademicianTable-MKzDKxlv.js";import N from"./PostgraduateTable-CY50_Fw4.js";import S from"./UndergraduateTable-C3rN32HZ.js";import"./createLucideIcon-DqLomzjB.js";import"./users-DLaMKZVg.js";import"./folder-open-DuR2F0jh.js";import"./useRoles-BD4cs5s9.js";import"./proxy-Dm9xoqWM.js";import"./sparkles-CpJzB128.js";import"./transition-9cvcfNnw.js";import"./analytics-BQ374C1C.js";import"./index-B2ZAyTNk.js";import"./index-BPjNngwm.js";import"./iconBase-DJuI3nm0.js";const F=({academicians:s,postgraduates:o,undergraduates:i,universities:d,faculties:c,researchOptions:m})=>{const{url:b}=j(),u=()=>{const a=new URLSearchParams(window.location.search);return a.has("academicians_page")?"academicians":a.has("postgraduates_page")?"postgraduates":a.has("undergraduates_page")?"undergraduates":"academicians"},[n,x]=h.useState(u);h.useEffect(()=>{x(u())},[b]);const l=async(a,r)=>{try{return(await g.post(route("admin.profiles.reminder"),{userId:a,role:r})).data}catch(t){throw console.error("Error sending reminder:",t),t}},p=async(a,r)=>{try{return(await g.post(route("admin.profiles.batch-reminder"),{userIds:a,role:r})).data}catch(t){throw console.error("Error sending batch reminder:",t),t}},f=[{id:"academicians",label:"Academicians",count:s.total},{id:"postgraduates",label:"Postgraduates",count:o.total},{id:"undergraduates",label:"Undergraduates",count:i.total}],w=a=>{x(a);const r=new URLSearchParams(window.location.search);r.delete("academicians_page"),r.delete("postgraduates_page"),r.delete("undergraduates_page"),r.set("tab",a);const t=`${window.location.pathname}?${r.toString()}`;window.history.replaceState({},"",t)};return e.jsxs(v,{title:"",children:[e.jsx(y,{title:"Profile Management"}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"md:flex md:items-center md:justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"User Profile Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Send reminders to users to complete or update their profiles. Review users by role and take action individually or in batches."})]})}),e.jsxs("div",{className:"mt-6 bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px",children:f.map(a=>e.jsxs("button",{onClick:()=>w(a.id),className:`py-4 px-6 text-center border-b-2 font-medium text-sm sm:text-base ${n===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap flex items-center space-x-2`,children:[e.jsx("span",{children:a.label}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n===a.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.count})]},a.id))})}),e.jsxs("div",{className:"p-6",children:[n==="academicians"&&e.jsx(R,{academics:s.data,universities:d,faculties:c,researchOptions:m,onSendReminder:l,onSendBatchReminder:p,pagination:s,currentTab:n}),n==="postgraduates"&&e.jsx(N,{postgraduates:o.data,universities:d,faculties:c,researchOptions:m,onSendReminder:l,onSendBatchReminder:p,pagination:o,currentTab:n}),n==="undergraduates"&&e.jsx(S,{undergraduates:i.data,universities:d,faculties:c,researchOptions:m,onSendReminder:l,onSendBatchReminder:p,pagination:i,currentTab:n})]})]})]})})]})};export{F as default};
