import{j as e,r as o,b as D,a as oe}from"./app-DDFhkcsa.js";import{F as X,j as ce,k as de,l as me,m as he,n as xe,o as ue}from"./index-DitOE0TF.js";import{C as ge,R as fe}from"./ConnectionButton-BdWH_g-P.js";import{R as pe}from"./RecommendationDisplay-AbZZVfWr.js";import{B as je}from"./BookmarkButton-DHVSYt9s.js";import{c as be}from"./createLucideIcon-DxkVkVmH.js";const ve=({score:n,showDetails:i=!1})=>{const x=parseFloat(n),g=!isNaN(x)&&x>=0&&x<=1?x:.5,u=Math.round(g*100),w=c=>c<.3?"bg-red-500":c<.5?"bg-orange-500":c<.7?"bg-yellow-500":c<.9?"bg-green-500":"bg-emerald-500",k=c=>c<.3?"Poor Match":c<.5?"Fair Match":c<.7?"Good Match":c<.9?"Great Match":"Excellent Match";return e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1 text-xs",children:[e.jsx("span",{className:"font-medium text-gray-700",children:k(g)}),e.jsxs("span",{className:"font-bold",children:[u,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-1",children:e.jsx("div",{className:`h-2.5 rounded-full ${w(g)}`,style:{width:`${u}%`}})}),i&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Query match:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(g*.6*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Profile match:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(g*.4*100),"%"]})]})]})]})},J=({searchResults:n,universitiesList:i,faculties:x,users:g,researchOptions:u,searchQuery:w,isSearching:k,isLoadingMore:c=!1,onLoadMore:v=()=>{},showHeader:B=!0,visibleCount:L=6})=>{const[S,M]=o.useState([]),[W,_]=o.useState(!1),y=o.useRef(null);o.useEffect(()=>{if(n&&n.matches){M([]);const a=n.matches.slice(0,6);if(M(a),n.matches.slice(6).length>0){const A=setTimeout(()=>{M(n.matches)},300);return()=>clearTimeout(A)}}},[n]),o.useEffect(()=>{const a=new IntersectionObserver(([P])=>{_(P.isIntersecting)},{threshold:.1});return y.current&&a.observe(y.current),()=>{y.current&&a.unobserve(y.current)}},[y]),o.useEffect(()=>{W&&!c&&n&&n.has_more&&S.length>0&&v()},[W,c,n,v]);const I=a=>Array(a).fill(null).map((P,A)=>e.jsx(ye,{},`skeleton-${A}`));return k&&(!n||!n.matches)?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:I(L)}):n&&n.matches?e.jsxs("div",{children:[B&&e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:['Supervisor Matches for "',n.query,'"']}),e.jsxs("span",{className:"text-gray-500",children:[n.total," match",n.total!==1?"es":""," found"]})]}),e.jsx(Y,{searchType:"supervisor",searchResults:{...n,matches:S},universitiesList:i,faculties:x,users:g,researchOptions:u,onLoadMore:v,isLoadingMore:c}),n.has_more&&e.jsx("div",{ref:y,className:"mt-8 text-center py-4",children:c?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading more results..."]}):e.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md",onClick:v,children:"Load more results"})}),n.total===0&&e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(X,{className:"text-gray-400 text-5xl mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No matching supervisors found"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Try broadening your search terms or exploring different research areas."})]})]}):null},ye=()=>e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden relative animate-pulse",children:[e.jsx("div",{className:"h-32 bg-gray-200"}),e.jsx("div",{className:"flex justify-center -mt-12",children:e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-300 border-4 border-white"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mx-auto mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6 mx-auto mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6 mx-auto mb-4"}),e.jsxs("div",{className:"mt-3 bg-gray-100 p-3 rounded-md",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]}),e.jsxs("div",{className:"mt-4 border-t border-gray-100 p-4 flex justify-around",children:[e.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded-full"}),e.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded-full"}),e.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded-full"})]})]});/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],K=be("Sparkles",_e);function Y({searchType:n,searchResults:i,universitiesList:x,faculties:g,researchOptions:u,users:w,skills:k,selectedArea:c,selectedUniversity:v,selectedAvailability:B,onLoadMore:L,isLoadingMore:S,onShowInsight:M}){const[W,_]=o.useState(!1),[y,I]=o.useState(!1),[a,P]=o.useState(null),[A,O]=o.useState(!1),[Ne,Z]=o.useState(""),[R,z]=o.useState(!1),[V,ee]=o.useState(null),[Q,q]=o.useState([]),[H,se]=o.useState(!1),[G,U]=o.useState(!1),C=o.useRef(null);if(o.useEffect(()=>{U(!i)},[i]),o.useEffect(()=>{if(i&&i.matches){q([]);const t=i.matches.slice(0,6);if(q(t),i.matches.slice(6).length>0){const s=setTimeout(()=>{q(i.matches)},300);return()=>clearTimeout(s)}}},[i]),o.useEffect(()=>{const t=new IntersectionObserver(([r])=>{se(r.isIntersecting)},{threshold:.1});return C.current&&t.observe(C.current),()=>{C.current&&t.unobserve(C.current)}},[C]),o.useEffect(()=>{H&&!S&&i&&i.has_more&&N.length>0&&L()},[H,S,i]),!i||!i.matches||i.matches.length===0)return null;const N=i.matches.filter(t=>{const r=t.academician||t.student||{};if(c&&c.length>0){const s=n==="supervisor"||n==="collaborators"&&t.result_type==="academician"?r.research_expertise:r.student_type==="postgraduate"?r.field_of_research:r.research_preference;if(!s||!Array.isArray(s)||!s.some(d=>c.includes(d)))return!1}if(v&&v.length>0&&(!r.university||!v.includes(r.university.toString())))return!1;if(B){let s;n==="supervisor"?s="availability_as_supervisor":n==="students"?s="supervisorAvailability":n==="collaborators"&&(s=t.result_type==="academician"?"availability_as_supervisor":"supervisorAvailability");const d=r[s];if(d===void 0||d.toString()!==B)return!1}return!0}),te=t=>{I(!0),z(!0);let r=t.ai_insights||"";if(!r){const m=i.matches.find(b=>{const f=b.academician||b.student||{};return(f.id||f.academician_id||f.postgraduate_id||f.undergraduate_id)===(t.academician_id||t.postgraduate_id||t.undergraduate_id||t.id)});r=(m==null?void 0:m.ai_insights)||""}let s=r;if(r){const m=/\b(\d+-\d+-\d+)\b/g;(r.match(m)||[]).forEach(f=>{const l=u.find(p=>`${p.field_of_research_id}-${p.research_area_id}-${p.niche_domain_id}`===f);if(l){const p=`${l.field_of_research_name} - ${l.research_area_name} - ${l.niche_domain_name}`;s=s.replace(new RegExp(f,"g"),p)}})}const d={...t,ai_insights:r,processedInsights:s};console.log("Enhanced profile with insights:",d),P(d),Z(s);const h=t.academician_id||t.result_type==="academician",j=t.academician_id||t.postgraduate_id||t.undergraduate_id||t.id;h?oe.get(route("academicians.quick-info",j)).then(m=>{if(m.data&&m.data.academician){const b={...d,...m.data.academician,ai_insights:r,processedInsights:s,projects_count:m.data.projects_count||0,grants_count:m.data.grants_count||0,publications_count:m.data.publications_count||0};console.log("Final updatedProfile with insights preserved:",b),P(b)}_(!0),I(!1),z(!1)}).catch(m=>{console.error("Error fetching academician detail:",m),_(!0),I(!1),z(!1)}):(_(!0),I(!1),z(!1))},ae=(t,r)=>{r.preventDefault(),ee(t),O(!0)},re=()=>{O(!1)},ie=()=>(a==null?void 0:a.grants_count)||0,ne=()=>(a==null?void 0:a.projects_count)||0,le=()=>(a==null?void 0:a.publications_count)||0;return e.jsxs("div",{className:"space-y-8",children:[G&&e.jsx(J,{isSearching:!0,searchQuery:(i==null?void 0:i.query)||"",showHeader:!0,visibleCount:6,universitiesList:x,faculties:g,users:w,researchOptions:u}),!G&&i&&i.matches&&N.length===0&&e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No results match your filters. Try adjusting your filter criteria."})}),!G&&i&&i.matches&&N.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-semibold",children:["Found ",N.length,' matching results for "',i.query,'"']})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[N.slice(0,Q.length).map((t,r)=>{var m,b,f;const s=t.academician||t.student||{},d=s.id||s.academician_id||s.postgraduate_id||s.undergraduate_id||r,h=!!t.academician||t.result_type==="academician",j=t.ai_insights||"";return s.ai_insights=j,console.log(`Match ${r} structure:`,t),console.log(`Match ${r} ai_insights:`,t.ai_insights),console.log("Profile with ai_insights added:",s),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-[10px] font-semibold px-2.5 py-0.5 rounded-full",children:((m=x.find(l=>l.id===s.university))==null?void 0:m.short_name)||s.university_name||s.university_short_name||"Unknown University"}),t.score&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsxs("div",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-bold",children:[Math.round(t.score*100),"% Match"]})}),e.jsx("div",{className:"h-32",children:e.jsx("img",{src:s.background_image!==null?`/storage/${s.background_image}`:"/storage/profile_background_images/default.jpg",alt:"Banner",className:"object-cover w-full h-full"})}),e.jsx("div",{className:"flex justify-center -mt-12",children:e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-white shadow-lg",children:e.jsx("img",{src:s.profile_picture!==null?`/storage/${s.profile_picture}`:"/storage/profile_pictures/default.jpg",alt:"Profile",className:"w-full h-full object-cover"})}),s.verified===1&&e.jsxs("div",{className:"absolute bottom-1 right-1 bg-white p-1 rounded-full group cursor-pointer shadow-md",children:[e.jsx("div",{className:"flex items-center justify-center w-7 h-7 bg-blue-500 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"absolute bottom-8 right-0 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-3 py-2 shadow-lg z-10 w-48",children:["This account is verified by ",((b=x.find(l=>l.id===s.university))==null?void 0:b.full_name)||"their institution"]})]})]})}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("h2",{className:"text-lg font-semibold truncate px-6",children:s.full_name}),e.jsx("p",{className:"text-gray-500 text-sm px-6",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:"2.5rem"},children:(()=>{let l=[];if(h?l=s.research_expertise||[]:t.result_type==="postgraduate"||s.student_type==="postgraduate"?l=s.field_of_research||[]:l=s.research_preference||[],Array.isArray(l)&&l.length>0){const p=l[0],F=u.find($=>`${$.field_of_research_id}-${$.research_area_id}-${$.niche_domain_id}`===p);return F?`${F.field_of_research_name} - ${F.research_area_name} - ${F.niche_domain_name}`:p}return s.current_position||"No Field of Research or Expertise"})()}),e.jsx("p",{className:"text-gray-500 text-sm",children:h?s.current_position||"No Position":t.result_type==="postgraduate"||s.student_type==="postgraduate"?"Postgraduate":"Undergraduate"}),t.score&&e.jsx("div",{className:"mt-3 px-4",children:e.jsx(ve,{score:t.score,showDetails:!1})}),j&&e.jsxs("div",{className:"mt-3 px-4 py-2 bg-blue-50 mx-4 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs font-semibold text-blue-700 flex items-center",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"AI Match Insights"]}),e.jsxs("button",{onClick:()=>{let l=j;const p=/\b(\d+-\d+-\d+)\b/g;(j.match(p)||[]).forEach($=>{const T=u.find(E=>`${E.field_of_research_id}-${E.research_area_id}-${E.niche_domain_id}`===$);if(T){const E=`${T.field_of_research_name} - ${T.research_area_name} - ${T.niche_domain_name}`;l=l.replace(new RegExp($,"g"),E)}}),M(l)},className:"text-blue-600 text-xs hover:underline flex items-center",children:[e.jsx("span",{children:"Show Insight"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("p",{className:"text-xs text-gray-700 text-left h-16 overflow-hidden pr-1 mt-1",children:[j.substring(0,210),"..."]})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>{console.log("Quick Info clicked for profile:",s),console.log("Profile has ai_insights:",s.ai_insights),te(s)},className:"bg-blue-500 text-white text-[10px] px-2 font-semibold py-1 rounded-full hover:bg-blue-600",children:"Quick Info"}),e.jsx(D,{href:h?route("academicians.show",s.url||s.academician_id||s.id):t.result_type==="postgraduate"||s.student_type==="postgraduate"?route("postgraduates.show",s.url||s.postgraduate_id||s.id):route("undergraduates.show",s.url||s.undergraduate_id||s.id),className:"bg-green-500 text-white text-[10px] px-2 font-semibold py-1 rounded-full hover:bg-green-600",children:"Full Profile"})]})]}),e.jsxs("div",{className:"flex justify-around items-center mt-6 py-4 border-t px-10",children:[e.jsx(ge,{user:s.user}),e.jsx(D,{href:route("email.compose",{to:((f=w.find(l=>l.unique_id===(h?s.academician_id||s.id:s.postgraduate_id||s.undergraduate_id||s.id)))==null?void 0:f.email)||s.email||""}),className:"text-gray-500 text-lg cursor-pointer hover:text-blue-700",title:"Send Email",children:e.jsx(ce,{className:"text-lg"})}),e.jsx("a",{href:"#",onClick:l=>ae(s,l),className:"text-gray-500 text-lg hover:text-yellow-500",title:"Recommend",children:e.jsx(de,{className:"text-lg"})}),e.jsx(je,{bookmarkableType:h?"academician":t.result_type,bookmarkableId:d,category:h?"Academicians":"Students"})]})]},`${t.result_type}-${d}`)}),N.length>Q.length&&e.jsx("div",{className:"col-span-full",children:e.jsx(J,{isSearching:!0,showHeader:!1,visibleCount:Math.min(3,N.length-Q.length),universitiesList:x,faculties:g,users:w,researchOptions:u,searchQuery:"Loading more profiles..."})})]}),i.has_more&&e.jsx("div",{ref:C,className:"mt-8 text-center py-4",children:S?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading more results..."]}):e.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md",onClick:L,children:"Load more results"})})]}),!G&&i&&i.matches&&i.matches.length===0&&e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(X,{className:"text-gray-400 text-5xl mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No matching results found"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Try broadening your search terms or exploring different research areas."})]}),W&&a&&e.jsxs(e.Fragment,{children:[console.log("Modal opening with selectedProfile:",a),console.log("AI insights available:",a.ai_insights),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:()=>_(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-lg relative max-h-[80vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[y?e.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e.jsx("p",{className:"text-gray-600",children:"Loading profile information..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:a.full_name}),e.jsx("hr",{className:"border-t border-gray-800 mb-4"}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-2 flex items-center",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"AI Match Insights"]}),console.log("Rendering AI insights section with:",{ai_insights:a.ai_insights,processedInsights:a.processedInsights}),R?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-500 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e.jsx("p",{className:"text-gray-600",children:"Generating detailed insights..."})]}):e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:a.processedInsights||a.ai_insights||"No insights available for this profile."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Short Bio"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:a.bio||"Not Provided"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:a.academician_id?"Research Expertise":"Research Interests"}),e.jsx("div",{className:"",children:(()=>{let t=[];return a.academician_id?t=a.research_expertise||[]:a.postgraduate_id||a.student_type==="postgraduate"?t=a.field_of_research||[]:t=a.research_preference||[],Array.isArray(t)&&t.length>0?e.jsx("div",{className:"space-y-2",children:t.map((r,s)=>{const d=u.find(h=>`${h.field_of_research_id}-${h.research_area_id}-${h.niche_domain_id}`===r);return d?e.jsxs("p",{className:"text-gray-600",children:[s+1,". ",d.field_of_research_name," - ",d.research_area_name," - ",d.niche_domain_name]},s):e.jsxs("p",{className:"text-gray-600",children:[s+1,". ",r]},s)})}):e.jsx("p",{className:"text-gray-600",children:"Not Provided"})})()})]}),a.academician_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Style of Supervision"}),e.jsx("div",{className:"space-y-2",children:Array.isArray(a.style_of_supervision)&&a.style_of_supervision.length>0?e.jsx("div",{className:"mt-2 text-normal text-gray-600",children:a.style_of_supervision.map((t,r)=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("span",{className:"font-medium",children:[r+1,". ",t]}),e.jsxs("div",{className:"ml-4 text-sm",children:[t==="Directive Supervision"&&"Structured approach with active guidance and regular monitoring",t==="Facilitative Supervision"&&"Supportive approach encouraging student independence",t==="Coaching Supervision"&&"Focuses on personal development and academic growth",t==="Adaptive Supervision"&&"Flexible support based on student's changing needs",t==="Participatory Supervision"&&"Collaborative approach with shared decision-making"]})]},r))}):e.jsx("p",{className:"text-gray-600",children:"Not Specified"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Supervised Student"}),e.jsx("p",{className:"text-gray-600",children:a.supervised_students_count||"Not Provided"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Available Grant and Project"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"text-gray-600",children:[ie()+ne()," Projects/Grants"]}),e.jsxs(D,{href:route("academicians.projects",a.url||a.academician_id),className:"mt-2 self-start text-xs px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition duration-200 flex items-center",children:[e.jsx("span",{children:"View Projects"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Publication"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"text-gray-600",children:[le()," Publications"]}),e.jsxs(D,{href:route("academicians.publications",a.url||a.academician_id),className:"mt-2 self-start text-xs px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition duration-200 flex items-center",children:[e.jsx("span",{children:"View Publications"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Recommendation by Others"}),e.jsx(pe,{academicianId:a.academician_id||a.id})]})]}),(a.postgraduate_id||a.undergraduate_id)&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Skills"}),Array.isArray(a.skills)&&a.skills.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map((t,r)=>{let s="";if(typeof t=="string")s=t;else if(typeof t=="object"&&t!==null&&t.name)s=t.name;else if(k&&(typeof t=="number"||!isNaN(parseInt(t)))){const d=typeof t=="number"?t:parseInt(t),h=k.find(j=>j.id===d);s=h?h.name:`Skill #${t}`}else s=`Skill #${r+1}`;return e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:s},r)})}):e.jsx("p",{className:"text-gray-600",children:"No skills listed"})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Connect via"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a.google_scholar&&e.jsx("a",{href:a.google_scholar,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-red-700",title:"Google Scholar",children:e.jsx(me,{})}),a.personal_website&&e.jsx("a",{href:a.personal_website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-green-700",title:"Personal Website",children:e.jsx(he,{})}),a.institution_website&&e.jsx("a",{href:a.institution_website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-blue-700",title:"Institutional Website",children:e.jsx(xe,{})}),a.linkedin&&e.jsx("a",{href:a.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 text-lg hover:text-blue-800",title:"LinkedIn",children:e.jsx(ue,{})})]})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-200",children:"Close"})})]})})]}),A&&V&&e.jsx(fe,{academician:V,onClose:()=>O(!1),onSuccess:re})]})}const $e=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{Y as R,K as S,$e as a};
