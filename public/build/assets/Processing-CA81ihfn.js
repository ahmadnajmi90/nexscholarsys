import{r as c,y as v,a as k,j as e}from"./app-D_isCBrZ.js";import{V as d}from"./index-S2oVNL1R.js";import{M as I}from"./MainLayout-DFHTJA1K.js";import{B as y}from"./brain-Cg3fGaCw.js";import{F as S}from"./file-text-aNmLS6r1.js";import{S as C}from"./search-oexLbFuf.js";import{c as j}from"./createLucideIcon-BT85Csak.js";import{S as _}from"./sparkles-DBHFI2EX.js";import{C as A}from"./circle-check-DHGBAWKG.js";import{C as M}from"./circle-oANRF4u5.js";import"./house-C09fpVO9.js";import"./zap-7CK7LKMF.js";import"./users-CzJIWcZi.js";import"./folder-open-CA9bVcGc.js";import"./settings-JsLbx9pE.js";import"./useRoles-Bqwai8Sw.js";import"./chevron-left-BjuclT0k.js";import"./proxy-hyWpbevY.js";import"./user-round-DHB2rLfi.js";import"./clipboard-list-bDsaPQ1j.js";import"./dollar-sign-CKWtW4Ws.js";import"./calendar-D8HyrHOR.js";import"./message-square-aRmyvbGu.js";import"./graduation-cap-BDaXx5-Y.js";import"./building-BzLX-1Tq.js";import"./Dropdown-C4pTIkAa.js";import"./transition-B-iVJ-Dl.js";import"./bookmark-IOsNloOG.js";import"./folder-kanban-YiDVfHbK.js";import"./building-2-BotSZuIB.js";import"./database-OkIdYBy7.js";import"./shield-DIRjH5Xw.js";import"./index-B2H7aNu6.js";import"./analytics-BQ374C1C.js";import"./iconBase-Ky0bhwWY.js";import"./index-Dje2_Jfs.js";import"./supervisionConstants-BuM5-H5X.js";import"./utils-CBfrqCZ4.js";import"./ThreadPane-DXxMgnx_.js";import"./Modal-DC1ukoCH.js";import"./dialog-C6ICxX1D.js";import"./index-BG6TJDBP.js";import"./scroll-area-Bgije4Ta.js";import"./index-BxE-5CCQ.js";import"./index-CL6H2niU.js";import"./index--9W6mpJI.js";import"./index-DEX240OH.js";import"./index-BdQq_4o_.js";import"./format-BOijCLBA.js";import"./en-US-DIdCsyf3.js";import"./button-CvkXbyNI.js";import"./download-C9pj9r2a.js";import"./x-DHPN06jQ.js";import"./isSameDay-BHs4V-zU.js";import"./constructNow-6bIQB1GK.js";import"./addDays-KHeCUDUr.js";import"./PrimaryButton-ER2dCufN.js";import"./SecondaryButton-CXsAGrXg.js";import"./circle-check-big-C8DvMf6D.js";import"./chevron-right-Be2Bs3JC.js";import"./tooltip-CQVkmZ9i.js";import"./index-CoKnqvF_.js";import"./index-BSdNhmJ5.js";import"./index-8kpB6Eh5.js";import"./floating-ui.dom-D5EC_49c.js";import"./index-lKKoak1a.js";import"./index-Be7aubF8.js";import"./index-DKcCfogn.js";import"./index-Chjiymov.js";import"./dialog-D0uO8m2L.js";import"./index-BsmCtA5d.js";import"./index-BlbDubjO.js";import"./briefcase-BrtHsIPx.js";import"./user-B_P0OToR.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],E=j("ChartLine",P);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],L=j("RotateCw",T),o=["started","analyzing_cv","creating_profile","searching_database","generating_recommendations","completed"];function tt({jobKey:p,isCached:u=!1}){const[l,x]=c.useState("started"),[h,g]=c.useState(null),f=c.useMemo(()=>{if(l==="completed")return 100;const t=o.indexOf(l),i=Math.round((t+1)/o.length*100);return Math.min(99,i)},[l]);c.useEffect(()=>{let t,i;const m=(r,a)=>{let n=1;const s=a?o.slice(0,-1):o;t=setInterval(()=>{n<s.length?(x(s[n]),n++):clearInterval(t)},r)};if(u){m(300,!1);const r=300*o.length;setTimeout(()=>{d.success("Found your previous results!"),v.visit(route("postgraduate-recommendations.results"))},r)}else m(1500,!0),i=setInterval(()=>{k.get(route("postgraduate-recommendations.status",{jobId:p})).then(r=>{const{status:a,error:n}=r.data;(a==="completed"||a==="failed")&&(clearInterval(i),clearInterval(t),a==="completed"?(x("completed"),d.success("Analysis complete!"),setTimeout(()=>v.visit(route("postgraduate-recommendations.results")),1200)):(g(n||"An unknown error occurred."),d.error("Analysis failed.")))}).catch(r=>{console.error("Polling error:",r),g("Could not get analysis status."),clearInterval(i),clearInterval(t)})},3e3);return()=>{clearInterval(t),clearInterval(i)}},[p,u]);const N=[{key:"analyzing_cv",title:"Analyzing your CV",description:"Extracting skills, experience, and academic background...",icon:S},{key:"creating_profile",title:"Understanding research interests",description:"Processing your research keywords and preferences...",icon:y},{key:"searching_database",title:"Searching supervisor database",description:"Matching with 15,000+ academic profiles worldwide...",icon:C},{key:"generating_recommendations",title:"Calculating compatibility",description:"Computing match scores based on research alignment...",icon:E}],w=t=>t==="completed"?e.jsx(A,{className:"w-5 h-5 text-green-600"}):t==="active"?e.jsx(L,{className:"w-5 h-5 text-blue-600 animate-spin"}):e.jsx(M,{className:"w-5 h-5 text-gray-300"}),b=Math.max(0,o.indexOf(l));return e.jsx(I,{title:"Processing Request",children:e.jsx("div",{className:"min-h-[70vh] bg-gray-50 py-10",children:e.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsxs("div",{className:"w-20 h-20 rounded-full bg-blue-50 border border-blue-200 flex items-center justify-center relative",children:[e.jsx(y,{className:"w-10 h-10 text-blue-600"}),e.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-blue-100 animate-pulse"})]}),e.jsx("h1",{className:"mt-4 text-3xl font-bold text-gray-900",children:"AI is analyzing your profile"}),e.jsx("p",{className:"mt-2 text-gray-600 max-w-2xl",children:"Please wait while we match you with suitable Postgraduate Programs and supervisors"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-end justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),e.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:[f,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-blue-600 rounded-full transition-all duration-500",style:{width:`${f}%`}})})]}),e.jsx("div",{className:"mt-6 space-y-4",children:N.map((t,i)=>{const m=t.icon,r=o.indexOf(t.key),s=b>r?"completed":b===r||l==="started"&&i===0?"active":"pending";return e.jsxs("div",{className:"flex items-start p-4 rounded-xl border transition-colors "+(s==="completed"?"bg-green-50 border-green-200":s==="active"?"bg-blue-50 border-blue-200":"bg-white border-gray-200"),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(s==="completed"?"bg-green-100":s==="active"?"bg-blue-100":"bg-gray-100"),children:e.jsx(m,{className:"w-5 h-5 "+(s==="completed"?"text-green-600":s==="active"?"text-blue-600":"text-gray-400")})})}),e.jsx("div",{className:"ml-4 flex-1",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]}),e.jsx("div",{className:"ml-4",children:w(s)})]})})]},t.key)})}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"border rounded-lg bg-blue-50 border-blue-200 p-4 flex items-start",children:[e.jsx(_,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("p",{className:"ml-3 text-sm text-blue-900",children:[e.jsx("span",{className:"font-semibold",children:"Did you know?"})," Our AI analyzes over 50 research parameters to find the perfect supervisor match, including publication patterns, funding history, and research collaboration networks."]})]})}),h&&e.jsxs("div",{className:"mt-8 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-md",role:"alert",children:[e.jsx("p",{className:"font-bold",children:"An Error Occurred"}),e.jsx("p",{className:"text-sm mt-1",children:h})]})]})})})}export{tt as default};
