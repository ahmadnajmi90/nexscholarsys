import{q as be,r as i,a as S,j as e,Y as je,y as v,b as U}from"./app-BrPd_5NA.js";import{M as ye}from"./MainLayout-B0Hj4_qT.js";import{g as Ne,a5 as ve,h as we,a6 as te,r as Ce,a7 as Te}from"./index-CSsgwYU6.js";import{V as d,c as I}from"./index-BBpOhVGp.js";import{C as Se}from"./ConfirmationModal-Dm6BLxaw.js";import{T as ke,a as u,b as Re,c as _e}from"./tooltip-Do508To7.js";import"./Dropdown-B-Hm1OJE.js";import{M as oe}from"./Modal-RZHZPq1U.js";import{I as Fe,a as $e}from"./InputError-DzUmfPi-.js";import{T as qe}from"./TextInput-Gy7QpgdE.js";import{P as Ae}from"./PrimaryButton-DgeCsnCZ.js";import{S as Me}from"./SecondaryButton-BsHb4DCA.js";import{c as Pe}from"./createLucideIcon-BuUp2DP1.js";import{E as O}from"./eye-CDXUErhg.js";import{T as re}from"./trash-2-DrYXxk5a.js";import{S as ne}from"./square-check-big-EzWpCLgO.js";import{X as B}from"./x-CWW5msPO.js";import{I as ze}from"./info-CQV80agZ.js";import{G as Ee}from"./graduation-cap-BVpuDxYd.js";import{U as Le}from"./users-Bm8PtVb1.js";import"./house-BVVJ6M88.js";import"./zap-BesWUIe-.js";import"./folder-open-BriNDaJd.js";import"./settings-DopYltds.js";import"./useRoles-CxdVnjSe.js";import"./chevron-left-CNCaNPDJ.js";import"./proxy-DqGN9o1W.js";import"./user-round-CmjIdno-.js";import"./clipboard-list-Bd3irJ4P.js";import"./dollar-sign-D9EFmCGr.js";import"./calendar-g0DizSmb.js";import"./file-text-D7d1fAn0.js";import"./message-square-Ba9o6uXG.js";import"./building-2woNU6dF.js";import"./sparkles-BtDPQTAL.js";import"./bookmark-CvR_-39C.js";import"./folder-kanban-DVwJKoZA.js";import"./building-2-BO21CEE8.js";import"./database-bMm2ZFRt.js";import"./shield-DhdnsNWZ.js";import"./index-65ttqxxV.js";import"./analytics-BQ374C1C.js";import"./supervisionConstants-BuM5-H5X.js";import"./utils-CBfrqCZ4.js";import"./ThreadPane-BDKDZsV9.js";import"./scroll-area-9ivrOSrd.js";import"./index-CfSCNicO.js";import"./index-B8zdXgNA.js";import"./index-BINPKaee.js";import"./index-trzRZPTl.js";import"./index-sCVn0dxs.js";import"./index-BdQq_4o_.js";import"./format-BOijCLBA.js";import"./en-US-DIdCsyf3.js";import"./button-D_c8cCUP.js";import"./dialog-C-QKEJiA.js";import"./transition-C1LRY1ul.js";import"./download-BR6OYre6.js";import"./isSameDay-BHs4V-zU.js";import"./constructNow-6bIQB1GK.js";import"./addDays-KHeCUDUr.js";import"./search-D1RvesB3.js";import"./circle-check-big-DB3PkcXK.js";import"./chevron-right-Teb7wt3n.js";import"./index-Chjiymov.js";import"./dialog-xaHZuvoA.js";import"./index-DjPa4PiY.js";import"./index-CbW9dcCk.js";import"./index-BsS7Hkv-.js";import"./index-CbgwQkER.js";import"./index-Be2_8SSR.js";import"./briefcase-DUAxgeVE.js";import"./user-XOKCZTSF.js";import"./triangle-alert-Klzlhe8T.js";import"./index-Bg98LDa9.js";import"./floating-ui.dom-D5EC_49c.js";import"./index-CG9XqnVQ.js";import"./index-cpcYRf8f.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],V=Pe("Tags",Ue),Oe=({show:h,onClose:x,connectionIds:c})=>{const{auth:w}=be().props,[j,k]=i.useState([]),[b,n]=i.useState([]),[C,m]=i.useState(!1),[y,g]=i.useState(!1),[R,A]=i.useState([]),_=!!w.user.academician;i.useEffect(()=>{h&&(M(),c.length===1?P(c[0]):(n([]),A([])))},[h,c]);const M=async()=>{m(!0);try{const o=await S.get("/connection-tags");k(o.data)}catch(o){console.error("Error fetching tags:",o),d.error("Failed to load tags")}finally{m(!1)}},P=async o=>{m(!0);try{const f=await S.get(`/connections/${o}/tags`);A(f.data),n(f.data.map($=>$.id))}catch(f){console.error("Error fetching connection tags:",f),d.error("Failed to load connection tags")}finally{m(!1)}},F=o=>{n(f=>f.includes(o)?f.filter($=>$!==o):[...f,o])},N=async()=>{g(!0);try{console.log("Sending request to assign tags:",{connection_ids:c,tag_ids:b}),await S.post("/connections/tags",{connection_ids:c,tag_ids:b},{withCredentials:!0,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"application/json",Accept:"application/json"}}),d.success(c.length>1?"Tags updated for selected connections":"Tags updated for connection"),x()}catch(o){console.error("Error saving tags:",o),console.log("Request details:",{url:"/connections/tags",data:{connection_ids:c,tag_ids:b}}),d.error("Failed to update tags")}finally{g(!1)}};return e.jsx(oe,{show:h,onClose:x,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:c.length>1?"Manage Tags for Selected Connections":"Manage Connection Tags"}),C?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:c.length>1?`Select tags to apply to ${c.length} connections.`:"Select tags to categorize this connection."}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:j.map(o=>o.name==="Student"&&!_?null:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`tag-${o.id}`,checked:b.includes(o.id),onChange:()=>F(o.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:`tag-${o.id}`,className:"ml-2 block text-sm text-gray-900",children:[o.name,o.is_default&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Default)"})]})]},o.id))}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"button",onClick:N,disabled:y,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:y?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"mr-2"}),"Save Tags"]})})]})]})]})})},Be=({show:h,onClose:x,onTagCreated:c})=>{const[w,j]=i.useState(""),[k,b]=i.useState({}),[n,C]=i.useState(!1),m=async y=>{y.preventDefault(),C(!0),b({});try{const g=await S.post("/connection-tags",{name:w});I.success("Tag created successfully"),j(""),c&&typeof c=="function"&&c(g.data.tag),x()}catch(g){g.response?.status===422?(b(g.response.data.errors),I.error("Please check the form for errors")):(console.error("Error creating tag:",g),I.error("Failed to create tag"))}finally{C(!1)}};return e.jsx(oe,{show:h,onClose:x,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Tag"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(Fe,{htmlFor:"name",value:"Tag Name"}),e.jsx(qe,{id:"name",type:"text",name:"name",value:w,onChange:y=>j(y.target.value),className:"mt-1 block w-full",placeholder:"Enter tag name",required:!0,autoFocus:!0}),k.name&&e.jsx($e,{message:k.name[0],className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-6",children:[e.jsx(Me,{onClick:x,disabled:n,className:"mr-3",children:"Cancel"}),e.jsx(Ae,{type:"submit",disabled:n,children:n?"Creating...":"Create Tag"})]})]})]})})},mt=({acceptedConnections:h,receivedRequests:x,sentRequests:c,tags:w=[],activeTagId:j=null})=>{const b=new URLSearchParams(window.location.search).get("tab")||"connections",[n,C]=i.useState(b),[m,y]=i.useState(""),[g,R]=i.useState([]),[A,_]=i.useState(!1),[M,P]=i.useState(null),[F,N]=i.useState([]),[o,f]=i.useState(!1),[$,ae]=i.useState(!1),[Y,K]=i.useState(!1),[J,G]=i.useState(null),[Z,le]=i.useState(w),z=s=>s.academician?route("academicians.show",s.academician.url):s.postgraduate?route("postgraduates.show",s.postgraduate.url):s.undergraduate?route("undergraduates.show",s.undergraduate.url):"#",q=s=>{P(s),_(!0)},ie=async()=>{if(!M)return;const s=M.connection_id;R(t=>[...t,s]);try{await S.delete(route("api.app.connections.destroy",s)),d.success("Connection removed successfully."),v.reload({only:["acceptedConnections","receivedRequests","sentRequests"]})}catch(t){t.response?t.response.status===404?(d.error("Connection not found. It may have been already removed."),v.reload({only:["acceptedConnections","receivedRequests","sentRequests"]})):t.response.status===403?d.error("You do not have permission to remove this connection."):t.response.data?.error?d.error(t.response.data.error):t.response.data?.message?d.error(t.response.data.message):d.error(`Error (${t.response.status}): Unable to remove connection.`):d.error("Network error or server not responding."),console.error("Error removing connection:",t)}finally{_(!1),P(null),N([]),R(t=>t.filter(r=>r!==s))}},D=s=>{N(t=>t.includes(s)?t.filter(r=>r!==s):[...t,s])},ce=()=>{if(Y)N([]);else{const s=E(h);N(s.map(t=>t.connection_id))}K(!Y)},ee=s=>{N([s]),G(s),f(!0)},de=()=>{G(null),f(!0)},H=s=>{C(s),N([]),K(!1)},E=s=>m?(s.data||s).filter(r=>(r.user.full_name||r.user.name||"").toLowerCase().includes(m.toLowerCase())||(r.user.email||"").toLowerCase().includes(m.toLowerCase())):s.data||s,se=s=>{s===j?v.get(route("connections.index")):v.get(route("connections.index",{tag_id:s}))},ue=s=>{le(t=>[...t,s])},me=s=>{if(!s.user_id)switch(s.name.toLowerCase()){case"collaborator":return e.jsx(Le,{size:14,className:"text-blue-600"});case"student":return e.jsx(Ee,{size:14,className:"text-green-600"});default:return e.jsx(V,{size:14,className:"text-blue-500"})}return e.jsx(V,{size:14,className:"text-gray-500"})},xe=()=>n!=="connections"?null:e.jsxs("div",{className:"w-64 bg-white shadow-sm rounded-lg p-4 mr-4 h-fit",children:[e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"font-medium text-gray-900 mr-2",children:"Organize with Tags"}),e.jsxs(u,{children:[e.jsx(Re,{asChild:!0,children:e.jsx(ze,{size:16,className:"text-gray-400 hover:text-gray-600 cursor-help"})}),e.jsx(_e,{className:"max-w-xs",children:"Use tags to manually organize your connections. Tags are not assigned automatically based on a user's role. For example, you can tag someone as a 'Collaborator' to easily add them to your NexLab projects later."})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>se(null),className:`w-full text-left px-3 py-2 rounded-md text-sm ${j===null?"bg-blue-100 text-blue-800 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:"All Connections"}),Z.length>0?Z.map(s=>e.jsxs("button",{onClick:()=>se(s.id),className:`w-full text-left px-3 py-2 rounded-md text-sm flex items-center group ${j===s.id?"bg-blue-100 text-blue-800 font-medium":s.user_id?"text-gray-700 hover:bg-gray-100":"text-gray-800 hover:bg-blue-50 border border-blue-200 bg-blue-50/30"}`,children:[e.jsx("div",{className:"flex items-center mr-3",children:me(s)}),e.jsx("span",{className:"flex-1",children:s.name}),s.user_id?e.jsx("span",{className:"text-xs text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:"(Custom)"}):e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Suggested"})]},s.id)):e.jsx("div",{className:"text-sm text-gray-500 py-2 text-center",children:"No tags available"})]})]}),T=async(s,t)=>{if(t!=="destroy"){R(r=>[...r,s]);try{const r=route(`api.app.connections.${t}`,s);await S[t==="accept"?"patch":"delete"](r),t==="accept"?d.success("Connection request accepted."):t==="reject"&&d.success("Connection request rejected."),v.reload({only:["acceptedConnections","receivedRequests","sentRequests"]})}catch(r){r.response?r.response.status===404?(d.error("Connection request not found. It may have been already processed."),v.reload({only:["acceptedConnections","receivedRequests","sentRequests"]})):r.response.status===403?d.error("You do not have permission to perform this action."):r.response.data?.error?d.error(r.response.data.error):r.response.data?.message?d.error(r.response.data.message):d.error(`Error (${r.response.status}): Unable to ${t} connection request.`):d.error("Network error or server not responding."),console.error(`Error ${t}ing connection:`,r)}finally{R(r=>r.filter(l=>l!==s))}}else[...h,...c,...x].find(l=>l.connection_id===s)&&q({connection_id:s})},fe=()=>e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex overflow-x-auto scrollbar-hide","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>H("connections"),className:`py-4 px-2 md:px-4 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${n==="connections"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Connections"}),e.jsx("span",{className:"sm:hidden",children:"Connect"}),e.jsx("span",{className:"ml-1 md:ml-2 bg-gray-100 text-gray-700 py-0.5 px-1.5 md:px-2.5 rounded-full text-xs",children:h.length})]})}),e.jsx("button",{onClick:()=>H("received"),className:`py-4 px-2 md:px-4 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${n==="received"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Received Requests"}),e.jsx("span",{className:"sm:hidden",children:"Received"}),e.jsx("span",{className:"ml-1 md:ml-2 bg-gray-100 text-gray-700 py-0.5 px-1.5 md:px-2.5 rounded-full text-xs",children:x.length})]})}),e.jsx("button",{onClick:()=>H("sent"),className:`py-4 px-2 md:px-4 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${n==="sent"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sent Requests"}),e.jsx("span",{className:"sm:hidden",children:"Sent"}),e.jsx("span",{className:"ml-1 md:ml-2 bg-gray-100 text-gray-700 py-0.5 px-1.5 md:px-2.5 rounded-full text-xs",children:c.length})]})})]})}),he=()=>e.jsxs("div",{className:"relative w-full md:w-96 w-[25rem] mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex items-center",children:n==="connections"&&e.jsxs("div",{className:"flex items-center mr-4",children:[e.jsx("input",{type:"checkbox",id:"select-all",checked:Y,onChange:ce,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"select-all",className:"ml-2 text-sm text-gray-700",children:"Select All"})]})}),n==="connections"&&F.length>0&&e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:de,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ve,{className:"mr-1"}),"Manage Tags"]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(we,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search connections...",value:m,onChange:s=>y(s.target.value)})]})]}),ge=s=>{const{user:t,connection_id:r}=s,l=g.includes(r);return e.jsxs("div",{className:"flex space-x-2",children:[n==="connections"&&e.jsx(u,{content:"Manage Tags",position:"left",children:e.jsxs("button",{onClick:()=>ee(r),className:"p-1 rounded-full text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("span",{className:"sr-only",children:"Manage Tags"}),e.jsx(V,{className:"h-5 w-5"})]})}),e.jsx(u,{content:"View Profile",position:"left",children:e.jsxs(U,{href:z(t),className:"p-1 rounded-full text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("span",{className:"sr-only",children:"View Profile"}),e.jsx(O,{className:"h-5 w-5"})]})}),n==="connections"&&e.jsx(u,{content:"Remove Connection",position:"left",children:e.jsxs("button",{onClick:()=>q({connection_id:r}),disabled:l,className:`p-1 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${l?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Remove Connection"}),l?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-red-600 rounded-full border-t-transparent"}):e.jsx(re,{className:"h-5 w-5"})]})}),n==="received"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"Accept Request",position:"left",children:e.jsxs("button",{onClick:()=>T(r,"accept"),disabled:l,className:`p-1 rounded-full text-green-600 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${l?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Accept Request"}),l?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-green-600 rounded-full border-t-transparent"}):e.jsx(ne,{className:"h-5 w-5"})]})}),e.jsx(u,{content:"Reject Request",position:"left",children:e.jsxs("button",{onClick:()=>T(r,"reject"),disabled:l,className:`p-1 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${l?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Reject Request"}),l?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-red-600 rounded-full border-t-transparent"}):e.jsx(B,{className:"h-5 w-5"})]})})]}),n==="sent"&&e.jsx(u,{content:"Cancel Request",position:"left",children:e.jsxs("button",{onClick:()=>q({connection_id:r}),disabled:l,className:`p-1 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${l?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Cancel Request"}),l?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-red-600 rounded-full border-t-transparent"}):e.jsx(B,{className:"h-5 w-5"})]})})]})},Q=s=>{const{user:t,connection_id:r,status:l}=s,a=g.includes(r),L=F.includes(r),p=()=>{if(!t.role)return{};switch(t.role){case"Academician":return{bg:"bg-blue-100",text:"text-blue-800"};case"Postgraduate":return{bg:"bg-green-100",text:"text-green-800"};case"Undergraduate":return{bg:"bg-purple-100",text:"text-purple-800"};case"Industry":return{bg:"bg-orange-100",text:"text-orange-800"};default:return{bg:"bg-gray-100",text:"text-gray-800"}}};return e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[n==="connections"&&e.jsx("div",{className:"flex-shrink-0 mr-2",children:e.jsx("input",{type:"checkbox",checked:L,onChange:()=>D(r),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:t.profile_photo_url?e.jsx("img",{src:t.profile_photo_url,alt:`${t.name}'s profile`,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-blue-100 text-blue-500",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 truncate",children:t.full_name||t.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.email}),t.role&&e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${p().bg} ${p().text} mt-1`,children:t.role})]})]}),ge(s)]}),n==="received"&&e.jsxs("div",{className:"flex space-x-2 mt-3",children:[e.jsx("button",{onClick:()=>T(r,"accept"),disabled:a,className:`flex-1 inline-flex justify-center items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Processing...":"Accept"}),e.jsx("button",{onClick:()=>T(r,"reject"),disabled:a,className:`flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Processing...":"Reject"})]})]}),e.jsxs("div",{className:"hidden md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[n==="connections"&&e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("input",{type:"checkbox",checked:L,onChange:()=>D(r),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:t.profile_photo_url?e.jsx("img",{src:t.profile_photo_url,alt:`${t.name}'s profile`,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-blue-100 text-blue-500",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.full_name||t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email}),t.role&&e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p().bg} ${p().text} mt-1`,children:t.role})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[n==="connections"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"Manage Tags",children:e.jsx("button",{onClick:()=>ee(r),className:"inline-flex items-center justify-center w-9 h-9 border border-blue-300 text-sm rounded-full text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(V,{size:18})})}),e.jsx(u,{content:"View Profile",children:e.jsx(U,{href:z(t),className:"inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(O,{size:18})})}),e.jsx(u,{content:"Remove Connection",children:e.jsx("button",{onClick:()=>q({connection_id:r}),disabled:a,className:`inline-flex items-center justify-center w-9 h-9 border border-red-300 text-sm rounded-full text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-red-700 rounded-full border-t-transparent"}):e.jsx(re,{size:18})})})]}),n==="received"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"Accept Request",children:e.jsx("button",{onClick:()=>T(r,"accept"),disabled:a,className:`inline-flex items-center justify-center w-9 h-9 border border-green-300 text-sm rounded-full text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(ne,{size:18})})}),e.jsx(u,{content:"View Profile",children:e.jsx(U,{href:z(t),className:"inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(O,{size:18})})}),e.jsx(u,{content:"Reject Request",children:e.jsx("button",{onClick:()=>T(r,"reject"),disabled:a,className:`inline-flex items-center justify-center w-9 h-9 border border-red-300 text-sm rounded-full text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(B,{size:18})})})]}),n==="sent"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"View Profile",children:e.jsx(U,{href:z(t),className:"inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(O,{size:18})})}),e.jsx(u,{content:"Cancel Request",children:e.jsx("button",{onClick:()=>q({connection_id:r}),disabled:a,className:`inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-red-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${a?"opacity-50 cursor-not-allowed":""}`,children:a?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-red-700 rounded-full border-t-transparent"}):e.jsx(B,{size:18})})})]})]})]})]},r)},W=s=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:e.jsx(te,{className:"h-full w-full"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:s})]}),X=s=>!s||!s.meta||s.meta.total<=s.meta.per_page?null:(console.log(s),e.jsx("div",{className:"flex items-center justify-between border-t border-gray-200 px-4 py-3 sm:px-6 mt-4",children:e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:s.meta.from||0})," to"," ",e.jsx("span",{className:"font-medium",children:s.meta.to||0})," of"," ",e.jsx("span",{className:"font-medium",children:s.meta.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:s.meta.links.map((t,r)=>t.label==="&laquo; Previous"||t.label==="Next &raquo;"?null:e.jsx("button",{onClick:()=>{!t.url||t.active||v.get(t.url)},disabled:!t.url||t.active,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${t.active?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},r))})})]})})),pe=()=>{switch(n){case"connections":const s=E(h),t=Array.isArray(s)&&s.length>0;return e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[xe(),e.jsx("div",{className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:s.map(p=>Q(p))}),X(h)]}):W(m?"No connections match your search":"You have no connections yet")})]})});case"received":const r=E(x),l=Array.isArray(r)&&r.length>0;return e.jsx("div",{className:"mt-6",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:r.map(p=>Q(p))}),X(x)]}):W(m?"No requests match your search":"You have no pending requests")});case"sent":const a=E(c),L=Array.isArray(a)&&a.length>0;return e.jsx("div",{className:"mt-6",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:a.map(p=>Q(p))}),X(c)]}):W(m?"No requests match your search":"You have no sent requests")});default:return null}};return e.jsx(ke,{delayDuration:0,children:e.jsxs(ye,{title:"My Network",children:[e.jsx(je,{title:"My Network"}),e.jsxs("div",{className:"md:mt-6 px-2 md:px-0 mt-20 ml-1",children:[he(),fe(),pe()]}),e.jsx(Se,{show:A,onClose:()=>_(!1),onConfirm:ie,title:"Remove Connection",message:"Are you sure you want to remove this connection? This action cannot be undone.",confirmButtonText:"Remove"}),e.jsx(Oe,{show:o,onClose:()=>{f(!1),G(null)},connectionIds:J?[J]:F}),e.jsx(Be,{show:$,onClose:()=>ae(!1),onTagCreated:ue})]})})};export{mt as default};
