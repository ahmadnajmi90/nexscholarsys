import{r,R as b,y as j,j as e}from"./app-p8gn1vpm.js";function E(s,n){const[d,l]=r.useState(s);return r.useEffect(()=>{const a=setTimeout(()=>{l(s)},n);return()=>{clearTimeout(a)}},[s,n]),d}const L=({placeholder:s="Search...",routeName:n,className:d="",debounceDelay:l=300,onSearch:a=null})=>{const[u,g]=r.useState(""),[i,c]=r.useState(!1),[o,f]=r.useState(!1),h=E(u,l);r.useEffect(()=>{const t=()=>{f(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r.useEffect(()=>{if(o&&i){const t=m=>{m.target.closest(".search-bar-container")||c(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)}},[o,i]);const x=t=>{const m=t.target.value;g(m)},v=()=>{o&&c(!i)},w=()=>{o||c(!0)},p=()=>{!o&&!u.trim()&&c(!1)};return b.useEffect(()=>{a?a(h):n&&j.get(route(n),{search:h},{preserveState:!0,replace:!0})},[h,n,a]),e.jsx("div",{className:`search-bar-container relative ${d}`,children:e.jsx("div",{className:"relative",onMouseEnter:w,onMouseLeave:p,children:i?e.jsxs("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden transition-all duration-300 ease-in-out",children:[e.jsx("div",{className:"flex items-center pl-3 pointer-events-none pr-3",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),e.jsx("input",{type:"text",className:"w-80 bg-transparent text-gray-900 text-sm p-2.5 focus:outline-none focus:ring-0",placeholder:s,value:u,onChange:x,autoFocus:!0})]}):e.jsx("button",{className:"bg-white border border-gray-300 text-gray-500 p-2.5 rounded-lg shadow-lg hover:bg-gray-50 hover:text-gray-700 transition-all duration-200",title:s,onClick:v,children:e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})})})})};export{L as S};
