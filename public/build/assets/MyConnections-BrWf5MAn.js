import{q as ge,r as c,a as B,j as e,Y as be,y as C,b as E}from"./app-EyzicSg6.js";import{M as pe}from"./MainLayout-3lhMP_Ti.js";import{G as je,ac as ee,D as ye,ad as Ne,ae as ve,F as we}from"./index-B9SeNh4t.js";import{C as Ce,P as Se,T as se,X as z}from"./ConfirmationModal-DgFRZ2Sw.js";import"./Dropdown-C-PhQHjr.js";import{M as re}from"./Modal-rewCykSv.js";import{V as L,c as X}from"./index-16HFrnMq.js";import{I as Te}from"./InputError-BbwRsWeD.js";import{T as ke}from"./TextInput-BnfqDVy6.js";import{I as Fe}from"./InputLabel-DM6ozw_i.js";import{P as Re}from"./PrimaryButton-CxKBVfA8.js";import{S as _e}from"./SecondaryButton-UKlOFCz3.js";import{c as ae}from"./createLucideIcon-uwlV7ISj.js";import{S as te}from"./square-check-big-DlzTt5Ez.js";import"./useRoles-BUNp7T9P.js";import"./analytics-BQ374C1C.js";import"./transition-BxxeZ4uu.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V=ae("Eye",Me);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ne=ae("Tags",$e),Ae=({show:x,onClose:m,connectionIds:o})=>{const{auth:v}=ge().props,[f,a]=c.useState([]),[y,d]=c.useState([]),[k,N]=c.useState(!1),[g,S]=c.useState(!1),[j,R]=c.useState([]),A=!!v.user.academician;c.useEffect(()=>{x&&(_(),o.length===1?w(o[0]):(d([]),R([])))},[x,o]);const _=async()=>{N(!0);try{const l=await B.get("/connection-tags");a(l.data)}catch(l){console.error("Error fetching tags:",l),L.error("Failed to load tags")}finally{N(!1)}},w=async l=>{N(!0);try{const b=await B.get(`/connections/${l}/tags`);R(b.data),d(b.data.map(T=>T.id))}catch(b){console.error("Error fetching connection tags:",b),L.error("Failed to load connection tags")}finally{N(!1)}},O=l=>{d(b=>b.includes(l)?b.filter(T=>T!==l):[...b,l])},M=async()=>{S(!0);try{console.log("Sending request to assign tags:",{connection_ids:o,tag_ids:y}),await B.post("/connections/tags",{connection_ids:o,tag_ids:y},{withCredentials:!0,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"application/json",Accept:"application/json"}}),L.success(o.length>1?"Tags updated for selected connections":"Tags updated for connection"),m()}catch(l){console.error("Error saving tags:",l),console.log("Request details:",{url:"/connections/tags",data:{connection_ids:o,tag_ids:y}}),L.error("Failed to update tags")}finally{S(!1)}};return e.jsx(re,{show:x,onClose:m,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:o.length>1?"Manage Tags for Selected Connections":"Manage Connection Tags"}),k?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:o.length>1?`Select tags to apply to ${o.length} connections.`:"Select tags to categorize this connection."}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:f.map(l=>l.name==="Student"&&!A?null:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`tag-${l.id}`,checked:y.includes(l.id),onChange:()=>O(l.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:`tag-${l.id}`,className:"ml-2 block text-sm text-gray-900",children:[l.name,l.is_default&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Default)"})]})]},l.id))}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"button",onClick:M,disabled:g,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"mr-2"}),"Save Tags"]})})]})]})]})})},qe=({show:x,onClose:m,onTagCreated:o})=>{const[v,f]=c.useState(""),[a,y]=c.useState({}),[d,k]=c.useState(!1),N=async g=>{var S;g.preventDefault(),k(!0),y({});try{const j=await B.post("/connection-tags",{name:v});X.success("Tag created successfully"),f(""),o&&typeof o=="function"&&o(j.data.tag),m()}catch(j){((S=j.response)==null?void 0:S.status)===422?(y(j.response.data.errors),X.error("Please check the form for errors")):(console.error("Error creating tag:",j),X.error("Failed to create tag"))}finally{k(!1)}};return e.jsx(re,{show:x,onClose:m,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Tag"}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(Fe,{htmlFor:"name",value:"Tag Name"}),e.jsx(ke,{id:"name",type:"text",name:"name",value:v,onChange:g=>f(g.target.value),className:"mt-1 block w-full",placeholder:"Enter tag name",required:!0,autoFocus:!0}),a.name&&e.jsx(Te,{message:a.name[0],className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-6",children:[e.jsx(_e,{onClick:m,disabled:d,className:"mr-3",children:"Cancel"}),e.jsx(Re,{type:"submit",disabled:d,children:d?"Creating...":"Create Tag"})]})]})]})})},u=({children:x,content:m,position:o="top"})=>{const[v,f]=c.useState(!1),a={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-1",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-1",left:"right-full top-1/2 transform -translate-y-1/2 mr-1",right:"left-full top-1/2 transform -translate-y-1/2 ml-1"};return e.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onFocus:()=>f(!0),onBlur:()=>f(!1),children:[x,v&&e.jsx("div",{className:`absolute z-10 ${a[o]}`,children:e.jsx("div",{className:"bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:m})})]})},Ie=({acceptedConnections:x,receivedRequests:m,sentRequests:o,tags:v=[],activeTagId:f=null})=>{const[a,y]=c.useState("connections"),[d,k]=c.useState(""),[N,g]=c.useState([]),[S,j]=c.useState(!1),[R,A]=c.useState(null),[_,w]=c.useState([]),[O,M]=c.useState(!1),[l,b]=c.useState(!1),[T,G]=c.useState(!1),[K,U]=c.useState(null),[J,le]=c.useState(v),q=s=>s.academician?route("academicians.show",s.academician.url):s.postgraduate?route("postgraduates.show",s.postgraduate.url):s.undergraduate?route("undergraduates.show",s.undergraduate.url):"#",$=s=>{A(s),j(!0)},oe=()=>{if(!R)return;const s=R.connection_id;g(t=>[...t,s]),C.delete(route("connections.destroy",s),{},{onSuccess:t=>{toast.success("Connection removed successfully."),j(!1),A(null),w([]);const n=a==="connections"?t.props.acceptedConnections:a==="received"?t.props.receivedRequests:t.props.sentRequests;if(n&&n.data&&n.meta){const i=n.data.length,r=n.meta.current_page;if(i===0&&r>1){const p=(n.meta.links||[]).find(h=>h.label==="&laquo; Previous");p!=null&&p.url&&C.visit(p.url,{preserveScroll:!0})}else C.reload({only:["acceptedConnections","receivedRequests","sentRequests"]})}},onFinish:()=>{g(t=>t.filter(n=>n!==s))}})},Z=s=>{w(t=>t.includes(s)?t.filter(n=>n!==s):[...t,s])},ce=()=>{if(T)w([]);else{const s=P(x);w(s.map(t=>t.connection_id))}G(!T)},I=s=>{w([s]),U(s),M(!0)},ie=()=>{U(null),M(!0)},Y=s=>{y(s),w([]),G(!1)},P=s=>d?(s.data||s).filter(n=>(n.user.full_name||n.user.name||"").toLowerCase().includes(d.toLowerCase())||(n.user.email||"").toLowerCase().includes(d.toLowerCase())):s.data||s,D=s=>{s===f?C.get(route("connections.index")):C.get(route("connections.index",{tag_id:s}))},de=s=>{le(t=>[...t,s])},ue=()=>a!=="connections"?null:e.jsxs("div",{className:"w-64 bg-white shadow-sm rounded-lg p-4 mr-4 h-fit",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Filter by Tag"}),e.jsx(u,{content:"Create New Tag",children:e.jsx("button",{onClick:()=>b(!0),className:"p-1 rounded-full text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(Se,{size:18})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>D(null),className:`w-full text-left px-3 py-2 rounded-md text-sm ${f===null?"bg-blue-100 text-blue-800 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:"All Connections"}),J.length>0?J.map(s=>e.jsxs("button",{onClick:()=>D(s.id),className:`w-full text-left px-3 py-2 rounded-md text-sm flex items-center ${f===s.id?"bg-blue-100 text-blue-800 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),s.name,s.user_id&&e.jsx("span",{className:"ml-auto text-xs text-gray-500",children:"(Custom)"})]},s.id)):e.jsx("div",{className:"text-sm text-gray-500 py-2 text-center",children:"No tags available"})]})]}),F=(s,t)=>{if(t!=="destroy"){g(r=>[...r,s]);const n=route(`connections.${t}`,s);C[t==="accept"?"patch":"delete"](n,{},{onSuccess:()=>{C.reload({only:["acceptedConnections","receivedRequests","sentRequests"]})},onFinish:()=>{g(r=>r.filter(p=>p!==s))}})}else[...x,...o,...m].find(i=>i.connection_id===s)&&$({connection_id:s})},me=()=>e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex overflow-x-auto scrollbar-hide","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>Y("connections"),className:`py-4 px-2 md:px-4 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${a==="connections"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Connections"}),e.jsx("span",{className:"sm:hidden",children:"Connect"}),e.jsx("span",{className:"ml-1 md:ml-2 bg-gray-100 text-gray-700 py-0.5 px-1.5 md:px-2.5 rounded-full text-xs",children:x.length})]})}),e.jsx("button",{onClick:()=>Y("received"),className:`py-4 px-2 md:px-4 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${a==="received"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ye,{className:"mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Received Requests"}),e.jsx("span",{className:"sm:hidden",children:"Received"}),e.jsx("span",{className:"ml-1 md:ml-2 bg-gray-100 text-gray-700 py-0.5 px-1.5 md:px-2.5 rounded-full text-xs",children:m.length})]})}),e.jsx("button",{onClick:()=>Y("sent"),className:`py-4 px-2 md:px-4 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${a==="sent"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"mr-1 md:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sent Requests"}),e.jsx("span",{className:"sm:hidden",children:"Sent"}),e.jsx("span",{className:"ml-1 md:ml-2 bg-gray-100 text-gray-700 py-0.5 px-1.5 md:px-2.5 rounded-full text-xs",children:o.length})]})})]})}),xe=()=>e.jsxs("div",{className:"relative w-full md:w-96 w-[25rem] mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex items-center",children:a==="connections"&&e.jsxs("div",{className:"flex items-center mr-4",children:[e.jsx("input",{type:"checkbox",id:"select-all",checked:T,onChange:ce,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"select-all",className:"ml-2 text-sm text-gray-700",children:"Select All"})]})}),a==="connections"&&_.length>0&&e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:ie,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ve,{className:"mr-1"}),"Manage Tags"]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(we,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search connections...",value:d,onChange:s=>k(s.target.value)})]})]}),fe=s=>{const{user:t,connection_id:n}=s,i=N.includes(n);return e.jsxs("div",{className:"flex space-x-2",children:[a==="connections"&&e.jsx(u,{content:"Manage Tags",position:"left",children:e.jsxs("button",{onClick:()=>I(n),className:"p-1 rounded-full text-blue-600 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("span",{className:"sr-only",children:"Manage Tags"}),e.jsx(ne,{className:"h-5 w-5"})]})}),e.jsx(u,{content:"View Profile",position:"left",children:e.jsxs(E,{href:q(t),className:"p-1 rounded-full text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("span",{className:"sr-only",children:"View Profile"}),e.jsx(V,{className:"h-5 w-5"})]})}),a==="connections"&&e.jsx(u,{content:"Remove Connection",position:"left",children:e.jsxs("button",{onClick:()=>$({connection_id:n}),disabled:i,className:`p-1 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Remove Connection"}),i?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-red-600 rounded-full border-t-transparent"}):e.jsx(se,{className:"h-5 w-5"})]})}),a==="received"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"Accept Request",position:"left",children:e.jsxs("button",{onClick:()=>F(n,"accept"),disabled:i,className:`p-1 rounded-full text-green-600 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Accept Request"}),i?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-green-600 rounded-full border-t-transparent"}):e.jsx(te,{className:"h-5 w-5"})]})}),e.jsx(u,{content:"Reject Request",position:"left",children:e.jsxs("button",{onClick:()=>F(n,"reject"),disabled:i,className:`p-1 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Reject Request"}),i?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-red-600 rounded-full border-t-transparent"}):e.jsx(z,{className:"h-5 w-5"})]})})]}),a==="sent"&&e.jsx(u,{content:"Cancel Request",position:"left",children:e.jsxs("button",{onClick:()=>$({connection_id:n}),disabled:i,className:`p-1 rounded-full text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("span",{className:"sr-only",children:"Cancel Request"}),i?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-red-600 rounded-full border-t-transparent"}):e.jsx(z,{className:"h-5 w-5"})]})})]})},H=s=>{const{user:t,connection_id:n,status:i}=s,r=N.includes(n),p=_.includes(n),h=()=>{if(!t.role)return{};switch(t.role){case"Academician":return{bg:"bg-blue-100",text:"text-blue-800"};case"Postgraduate":return{bg:"bg-green-100",text:"text-green-800"};case"Undergraduate":return{bg:"bg-purple-100",text:"text-purple-800"};case"Industry":return{bg:"bg-orange-100",text:"text-orange-800"};default:return{bg:"bg-gray-100",text:"text-gray-800"}}};return e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[a==="connections"&&e.jsx("div",{className:"flex-shrink-0 mr-2",children:e.jsx("input",{type:"checkbox",checked:p,onChange:()=>Z(n),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:t.profile_photo_url?e.jsx("img",{src:t.profile_photo_url,alt:`${t.name}'s profile`,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-blue-100 text-blue-500",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 truncate",children:t.full_name||t.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.email}),t.role&&e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${h().bg} ${h().text} mt-1`,children:t.role})]})]}),fe(s)]}),a==="received"&&e.jsxs("div",{className:"flex space-x-2 mt-3",children:[e.jsx("button",{onClick:()=>F(n,"accept"),disabled:r,className:`flex-1 inline-flex justify-center items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Processing...":"Accept"}),e.jsx("button",{onClick:()=>F(n,"reject"),disabled:r,className:`flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Processing...":"Reject"})]})]}),e.jsxs("div",{className:"hidden md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[a==="connections"&&e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("input",{type:"checkbox",checked:p,onChange:()=>Z(n),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:t.profile_photo_url?e.jsx("img",{src:t.profile_photo_url,alt:`${t.name}'s profile`,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-blue-100 text-blue-500",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.full_name||t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email}),t.role&&e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h().bg} ${h().text} mt-1`,children:t.role})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[a==="connections"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"Manage Tags",children:e.jsx("button",{onClick:()=>I(n),className:"inline-flex items-center justify-center w-9 h-9 border border-blue-300 text-sm rounded-full text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(ne,{size:18})})}),e.jsx(u,{content:"View Profile",children:e.jsx(E,{href:q(t),className:"inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(V,{size:18})})}),e.jsx(u,{content:"Remove Connection",children:e.jsx("button",{onClick:()=>$({connection_id:n}),disabled:r,className:`inline-flex items-center justify-center w-9 h-9 border border-red-300 text-sm rounded-full text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-red-700 rounded-full border-t-transparent"}):e.jsx(se,{size:18})})})]}),a==="received"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"Accept Request",children:e.jsx("button",{onClick:()=>F(n,"accept"),disabled:r,className:`inline-flex items-center justify-center w-9 h-9 border border-green-300 text-sm rounded-full text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(te,{size:18})})}),e.jsx(u,{content:"View Profile",children:e.jsx(E,{href:q(t),className:"inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(V,{size:18})})}),e.jsx(u,{content:"Reject Request",children:e.jsx("button",{onClick:()=>F(n,"reject"),disabled:r,className:`inline-flex items-center justify-center w-9 h-9 border border-red-300 text-sm rounded-full text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(z,{size:18})})})]}),a==="sent"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{content:"View Profile",children:e.jsx(E,{href:q(t),className:"inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e.jsx(V,{size:18})})}),e.jsx(u,{content:"Cancel Request",children:e.jsx("button",{onClick:()=>$({connection_id:n}),disabled:r,className:`inline-flex items-center justify-center w-9 h-9 border border-gray-300 text-sm rounded-full text-red-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${r?"opacity-50 cursor-not-allowed":""}`,children:r?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-red-700 rounded-full border-t-transparent"}):e.jsx(z,{size:18})})})]})]})]})]},n)},Q=s=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:e.jsx(ee,{className:"h-full w-full"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:s})]}),W=s=>!s||!s.meta||s.meta.total<=s.meta.per_page?null:(console.log(s),e.jsx("div",{className:"flex items-center justify-between border-t border-gray-200 px-4 py-3 sm:px-6 mt-4",children:e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:s.meta.from||0})," to"," ",e.jsx("span",{className:"font-medium",children:s.meta.to||0})," of"," ",e.jsx("span",{className:"font-medium",children:s.meta.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:s.meta.links.map((t,n)=>t.label==="&laquo; Previous"||t.label==="Next &raquo;"?null:e.jsx("button",{onClick:()=>{!t.url||t.active||C.get(t.url)},disabled:!t.url||t.active,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${t.active?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},n))})})]})})),he=()=>{switch(a){case"connections":const s=P(x),t=Array.isArray(s)&&s.length>0;return e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[ue(),e.jsx("div",{className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:s.map(h=>H(h))}),W(x)]}):Q(d?"No connections match your search":"You have no connections yet")})]})});case"received":const n=P(m),i=Array.isArray(n)&&n.length>0;return e.jsx("div",{className:"mt-6",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:n.map(h=>H(h))}),W(m)]}):Q(d?"No requests match your search":"You have no pending requests")});case"sent":const r=P(o),p=Array.isArray(r)&&r.length>0;return e.jsx("div",{className:"mt-6",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:r.map(h=>H(h))}),W(o)]}):Q(d?"No requests match your search":"You have no sent requests")});default:return null}};return e.jsxs(pe,{title:"My Network",children:[e.jsx(be,{title:"My Network"}),e.jsxs("div",{className:"md:mt-6 px-2 md:px-0 mt-20 ml-1",children:[xe(),me(),he()]}),e.jsx(Ce,{show:S,onClose:()=>j(!1),onConfirm:oe,title:"Remove Connection",message:"Are you sure you want to remove this connection? This action cannot be undone.",confirmButtonText:"Remove"}),e.jsx(Ae,{show:O,onClose:()=>{M(!1),U(null)},connectionIds:K?[K]:_}),e.jsx(qe,{show:l,onClose:()=>b(!1),onTagCreated:de})]})};export{Ie as default};
